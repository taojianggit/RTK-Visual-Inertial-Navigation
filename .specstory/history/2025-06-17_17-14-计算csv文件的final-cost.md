<!-- Generated by SpecStory -->

# è®¡ç®—CSVæ–‡ä»¶çš„final cost (2025-06-18 01:14:59)

_**User**_

å†™ä¸ªpythonç¨‹åºè¯»å–R1M1_Proposed_matched_data_weighted.csvçš„åå››åˆ—æ®‹å·®ï¼Œè®¡ç®—final cost,ä¿å­˜åˆ°R1M1_Proposed_matched_data_weighted.csvçš„æœ€å

---

_**Assistant**_

æˆ‘æ¥å¸®æ‚¨ç¼–å†™ä¸€ä¸ªPythonç¨‹åºæ¥è¯»å–CSVæ–‡ä»¶çš„åå››åˆ—æ®‹å·®ï¼Œè®¡ç®—final costï¼Œå¹¶ä¿å­˜åˆ°åŸæ–‡ä»¶çš„æœ€åä¸€åˆ—ã€‚

é¦–å…ˆï¼Œè®©æˆ‘æŸ¥çœ‹ä¸€ä¸‹å½“å‰ç›®å½•çš„æ–‡ä»¶ç»“æ„å’ŒCSVæ–‡ä»¶çš„å†…å®¹ï¼š

---

<details>
            <summary>Listed current directory â€¢ **16** results</summary>
        
| Name |
|-------|
| ğŸ“ `.git` |
| ğŸ“ `yaml` |
| ğŸ“ `evaluate` |
| ğŸ“„ `weight_calculation_example.py` |
| ğŸ“„ `test_weight_visualization.py` |
| ğŸ“„ `test_reproj_filter.py` |
| ğŸ“ `.vscode` |
| ğŸ“„ `.gitignore` |
| ğŸ“„ `.cursorindexingignore` |
| ğŸ“ `.specstory` |
| ğŸ“ `ceres-solver-modified` |
| ğŸ“ `rtk_visual_inertial_src` |
| ğŸ“ `fig` |
| ğŸ“„ `ceres-solver-modified.tar` |
| ğŸ“„ `LICENSE` |
| ğŸ“„ `README.md` |

</details>

---

è®©æˆ‘æŸ¥æ‰¾CSVæ–‡ä»¶ï¼š

---

<details>
            <summary>Searched codebase "R1M1_Proposed_matched_data_weighted.csv" â€¢ **2** results</summary>
        
| File |
|------|
| `undefined` |
| `undefined` |

</details>

---

æ‰¾åˆ°äº†CSVæ–‡ä»¶ã€‚ç°åœ¨è®©æˆ‘æŸ¥çœ‹ä¸€ä¸‹æ–‡ä»¶çš„å†…å®¹ç»“æ„ï¼Œäº†è§£åå››åˆ—çš„æ•°æ®æ ¼å¼ï¼š

---

Read file: evaluate/imu_residual/correlation_analysis_results/R1M1_Proposed_matched_data_weighted.csv

---

ç°åœ¨æˆ‘å¯ä»¥çœ‹åˆ°CSVæ–‡ä»¶çš„ç»“æ„ã€‚æ–‡ä»¶æœ‰7åˆ—ï¼š
1. travel_distance
2. position_error_norm
3. final_cost
4. weighted_imu_full_res_norm (åå››åˆ—æ®‹å·®ä¹‹ä¸€)
5. weighted_marg_res_norm (åå››åˆ—æ®‹å·®ä¹‹ä¸€)
6. weighted_gnss_res_norm (åå››åˆ—æ®‹å·®ä¹‹ä¸€)
7. weighted_reproj_err_norm (åå››åˆ—æ®‹å·®ä¹‹ä¸€)

æˆ‘éœ€è¦åˆ›å»ºä¸€ä¸ªPythonç¨‹åºæ¥ï¼š
1. è¯»å–åå››åˆ—æ®‹å·®æ•°æ®
2. è®¡ç®—final costï¼ˆå¯èƒ½æ˜¯è¿™äº›æ®‹å·®çš„æŸç§ç»„åˆï¼‰
3. å°†è®¡ç®—ç»“æœä¿å­˜åˆ°CSVæ–‡ä»¶çš„æœ€åä¸€åˆ—

è®©æˆ‘åˆ›å»ºè¿™ä¸ªPythonç¨‹åºï¼š

---

```diff
- 
+ import pandas as pd
+ import numpy as np
+ 
+ def calculate_final_cost(csv_file_path):
+     """
+     è¯»å–CSVæ–‡ä»¶çš„åå››åˆ—æ®‹å·®ï¼Œè®¡ç®—final costï¼Œå¹¶ä¿å­˜åˆ°åŸæ–‡ä»¶çš„æœ€åä¸€åˆ—
+     
+     Args:
+         csv_file_path (str): CSVæ–‡ä»¶è·¯å¾„
+     """
+     # è¯»å–CSVæ–‡ä»¶
+     df = pd.read_csv(csv_file_path)
+     print(f"è¯»å–æ–‡ä»¶: {csv_file_path}")
+     print(f"æ•°æ®å½¢çŠ¶: {df.shape}")
+     print(f"åˆ—å: {list(df.columns)}")
+     
+     # è·å–åå››åˆ—æ®‹å·®æ•°æ®
+     residual_columns = [
+         'weighted_imu_full_res_norm',
+         'weighted_marg_res_norm', 
+         'weighted_gnss_res_norm',
+         'weighted_reproj_err_norm'
+     ]
+     
+     print(f"\nåå››åˆ—æ®‹å·®åˆ—å: {residual_columns}")
+     
+     # æ£€æŸ¥åˆ—æ˜¯å¦å­˜åœ¨
+     missing_cols = [col for col in residual_columns if col not in df.columns]
+     if missing_cols:
+         raise ValueError(f"ç¼ºå°‘ä»¥ä¸‹åˆ—: {missing_cols}")
+     
+     # æå–åå››åˆ—æ®‹å·®æ•°æ®
+     residuals = df[residual_columns]
+     print(f"\næ®‹å·®æ•°æ®ç»Ÿè®¡:")
+     print(residuals.describe())
+     
+     # è®¡ç®—final cost
+     # æ–¹æ³•1: æ‰€æœ‰æ®‹å·®çš„å¹³æ–¹å’Œ
+     calculated_final_cost_sum_squares = np.sqrt(np.sum(residuals**2, axis=1))
+     
+     # æ–¹æ³•2: æ‰€æœ‰æ®‹å·®çš„ç›´æ¥æ±‚å’Œ
+     calculated_final_cost_sum = np.sum(residuals, axis=1)
+     
+     # æ–¹æ³•3: åŠ æƒå¹³æ–¹å’Œ (å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´æƒé‡)
+     weights = [1.0, 1.0, 1.0, 1.0]  # å¯ä»¥æ ¹æ®å®é™…éœ€è¦è°ƒæ•´æƒé‡
+     calculated_final_cost_weighted = np.sqrt(np.sum((residuals * weights)**2, axis=1))
+     
+     # æ¯”è¾ƒå·²æœ‰çš„final_costå’Œè®¡ç®—çš„ç»“æœï¼Œé€‰æ‹©æœ€æ¥è¿‘çš„æ–¹æ³•
+     if 'final_cost' in df.columns:
+         existing_final_cost = df['final_cost']
+         
+         # è®¡ç®—å„ç§æ–¹æ³•ä¸ç°æœ‰final_costçš„ç›¸å…³æ€§
+         corr_sum_squares = np.corrcoef(existing_final_cost, calculated_final_cost_sum_squares)[0,1]
+         corr_sum = np.corrcoef(existing_final_cost, calculated_final_cost_sum)[0,1]
+         corr_weighted = np.corrcoef(existing_final_cost, calculated_final_cost_weighted)[0,1]
+         
+         print(f"\nä¸ç°æœ‰final_costçš„ç›¸å…³æ€§:")
+         print(f"å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³•: {corr_sum_squares:.4f}")
+         print(f"ç›´æ¥æ±‚å’Œæ–¹æ³•: {corr_sum:.4f}")
+         print(f"åŠ æƒå¹³æ–¹å’Œæ–¹æ³•: {corr_weighted:.4f}")
+         
+         # é€‰æ‹©ç›¸å…³æ€§æœ€é«˜çš„æ–¹æ³•
+         correlations = {
+             'sum_squares': corr_sum_squares,
+             'sum': corr_sum,
+             'weighted': corr_weighted
+         }
+         best_method = max(correlations, key=correlations.get)
+         
+         if best_method == 'sum_squares':
+             new_final_cost = calculated_final_cost_sum_squares
+             print(f"\né€‰æ‹©å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³• (ç›¸å…³æ€§: {corr_sum_squares:.4f})")
+         elif best_method == 'sum':
+             new_final_cost = calculated_final_cost_sum
+             print(f"\né€‰æ‹©ç›´æ¥æ±‚å’Œæ–¹æ³• (ç›¸å…³æ€§: {corr_sum:.4f})")
+         else:
+             new_final_cost = calculated_final_cost_weighted
+             print(f"\né€‰æ‹©åŠ æƒå¹³æ–¹å’Œæ–¹æ³• (ç›¸å…³æ€§: {corr_weighted:.4f})")
+     else:
+         # å¦‚æœæ²¡æœ‰ç°æœ‰çš„final_coståˆ—ï¼Œé»˜è®¤ä½¿ç”¨å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³•
+         new_final_cost = calculated_final_cost_sum_squares
+         print(f"\nä½¿ç”¨é»˜è®¤çš„å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³•")
+     
+     # æ·»åŠ æˆ–æ›´æ–°final_coståˆ—
+     df['calculated_final_cost'] = new_final_cost
+     
+     # ä¿å­˜åˆ°åŸæ–‡ä»¶
+     df.to_csv(csv_file_path, index=False)
+     print(f"\nè®¡ç®—å®Œæˆï¼Œç»“æœå·²ä¿å­˜åˆ°: {csv_file_path}")
+     print(f"æ–°å¢åˆ—: calculated_final_cost")
+     print(f"\ncalculated_final_costç»Ÿè®¡:")
+     print(f"æœ€å°å€¼: {new_final_cost.min():.6f}")
+     print(f"æœ€å¤§å€¼: {new_final_cost.max():.6f}")
+     print(f"å¹³å‡å€¼: {new_final_cost.mean():.6f}")
+     print(f"æ ‡å‡†å·®: {new_final_cost.std():.6f}")
+ 
+ if __name__ == "__main__":
+     csv_file_path = "evaluate/imu_residual/correlation_analysis_results/R1M1_Proposed_matched_data_weighted.csv"
+     calculate_final_cost(csv_file_path) 
```

---

ç°åœ¨è®©æˆ‘è¿è¡Œè¿™ä¸ªPythonç¨‹åºæ¥è®¡ç®—final costï¼š

---

```bash
cd /home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation && python calculate_final_cost.py
```

```
vigation$ cd /home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation && python calcula
te_final_cost.py

æ‰¾ä¸åˆ°å‘½ä»¤â€œpythonâ€ï¼Œæ‚¨çš„æ„æ€æ˜¯ï¼š

  command 'python3' from deb python3
  command 'python' from deb python-is-python3

lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Na
lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Na
lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation$
```

---

éœ€è¦ä½¿ç”¨`python3`å‘½ä»¤ã€‚è®©æˆ‘é‡æ–°è¿è¡Œï¼š

---

```bash
python3 calculate_final_cost.py
```

---

è®©æˆ‘æ£€æŸ¥æ˜¯å¦éœ€è¦å®‰è£…ç›¸å…³çš„PythonåŒ…ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ›´ç®€å•çš„ç‰ˆæœ¬ï¼š

---

```bash
python3 -c "import pandas; import numpy; print('Dependencies available')"
```

---

è®©æˆ‘ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªä¸ä¾èµ–å¤–éƒ¨åº“çš„çº¯Pythonç‰ˆæœ¬æ¥è®¡ç®—final costï¼š

---

Cancelled

---

_**User**_

summaryé‡Œçš„final costçš„è®¡ç®—ä½ç½®åœ¨å“ª

---

_**Assistant**_

æˆ‘æ¥å¸®æ‚¨æŸ¥æ‰¾ä»£ç ä¸­final costçš„è®¡ç®—ä½ç½®ã€‚è®©æˆ‘æœç´¢ç›¸å…³çš„ä»£ç æ–‡ä»¶ï¼š

---

<details>
            <summary>Searched codebase "final cost calculation" â€¢ **25** results</summary>
        
| File | Lines |
|------|-------|
| `calculate_final_cost.py` | L95-99 |
| `calculate_final_cost.py` | L1-46 |
| `calculate_final_cost.py` | L89-95 |
| `calculate_final_cost.py` | L46-89 |
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L149-201 |
| `ceres-solver-modified/internal/ceres/program_evaluator.h` | L239-294 |
| `ceres-solver-modified/internal/ceres/solver_utils.h` | L29-66 |
| `ceres-solver-modified/internal/ceres/gradient_checking_cost_function.cc` | L63-93 |
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L254-294 |
| `ceres-solver-modified/internal/ceres/program_evaluator.h` | L137-186 |
| `ceres-solver-modified/internal/ceres/program_evaluator.h` | L294-343 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L297-377 |
| `rtk_visual_inertial_src/camera_models/src/camera_models/CostFunctionFactory.cc` | L1345-1385 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L362-410 |
| `ceres-solver-modified/internal/ceres/evaluation_callback_test.cc` | L291-317 |
| `rtk_visual_inertial_src/camera_models/src/camera_models/CostFunctionFactory.cc` | L1129-1157 |
| `rtk_visual_inertial_src/camera_models/src/camera_models/CostFunctionFactory.cc` | L1054-1082 |
| `ceres-solver-modified/internal/ceres/line_search.cc` | L171-212 |
| `rtk_visual_inertial_src/camera_models/src/camera_models/CostFunctionFactory.cc` | L988-1015 |
| `ceres-solver-modified/include/ceres/tiny_solver.h` | L218-247 |
| `rtk_visual_inertial_src/camera_models/src/camera_models/CostFunctionFactory.cc` | L1100-1129 |
| `rtk_visual_inertial_src/camera_models/src/camera_models/CostFunctionFactory.cc` | L625-662 |
| `ceres-solver-modified/examples/nist.cc` | L613-656 |
| `rtk_visual_inertial_src/camera_models/src/camera_models/CostFunctionFactory.cc` | L1326-1345 |
| `rtk_visual_inertial_src/camera_models/src/camera_models/CostFunctionFactory.cc` | L1157-1185 |

</details>

---

<details>
            <summary>Grep search for "final_cost" â€¢ **7** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L3 | `def calculate_final_cost(csv_file_path):` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L38 | `calculated_final_cost_sum_squares = np.sqrt(np.sum(residuals**2, axis=1))` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L41 | `calculated_final_cost_sum = np.sum(residuals, axis=1)` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L45 | `calculated_final_cost_weighted = np.sqrt(np.sum((residuals * weights)**2, axis=1))` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L47 | `# æ¯”è¾ƒå·²æœ‰çš„final_costå’Œè®¡ç®—çš„ç»“æœï¼Œé€‰æ‹©æœ€æ¥è¿‘çš„æ–¹æ³•` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L48 | `if 'final_cost' in df.columns:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L49 | `existing_final_cost = df['final_cost']` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L51 | `# è®¡ç®—å„ç§æ–¹æ³•ä¸ç°æœ‰final_costçš„ç›¸å…³æ€§` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L52 | `corr_sum_squares = np.corrcoef(existing_final_cost, calculated_final_cost_sum_squares)[0,1]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L53 | `corr_sum = np.corrcoef(existing_final_cost, calculated_final_cost_sum)[0,1]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L54 | `corr_weighted = np.corrcoef(existing_final_cost, calculated_final_cost_weighted)[0,1]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L56 | `print(f"\nä¸ç°æœ‰final_costçš„ç›¸å…³æ€§:")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L70 | `new_final_cost = calculated_final_cost_sum_squares` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L73 | `new_final_cost = calculated_final_cost_sum` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L76 | `new_final_cost = calculated_final_cost_weighted` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L79 | `# å¦‚æœæ²¡æœ‰ç°æœ‰çš„final_coståˆ—ï¼Œé»˜è®¤ä½¿ç”¨å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³•` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L80 | `new_final_cost = calculated_final_cost_sum_squares` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L83 | `# æ·»åŠ æˆ–æ›´æ–°final_coståˆ—` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L84 | `df['calculated_final_cost'] = new_final_cost` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L89 | `print(f"æ–°å¢åˆ—: calculated_final_cost")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L90 | `print(f"\ncalculated_final_costç»Ÿè®¡:")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L91 | `print(f"æœ€å°å€¼: {new_final_cost.min():.6f}")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L92 | `print(f"æœ€å¤§å€¼: {new_final_cost.max():.6f}")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L93 | `print(f"å¹³å‡å€¼: {new_final_cost.mean():.6f}")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L94 | `print(f"æ ‡å‡†å·®: {new_final_cost.std():.6f}")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L98 | `calculate_final_cost(csv_file_path)` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evaluate/imu_residual/residual_correlation_analyzer.py` | L59 | `'final_cost': 'Total Residual',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evaluate/imu_residual/residual_correlation_analyzer.py` | L65 | `total_residual_col = 'final_cost'` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evaluate/imu_residual/residual_correlation_analyzer.py` | L68 | `'final_cost': 'Total Residual',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evaluate/imu_residual/residual_correlation_analyzer.py` | L74 | `total_residual_col = 'final_cost'` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evaluate/imu_residual/residual_correlation_analyzer.py` | L190 | `'final_cost': 'black',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evaluate/imu_residual/residual_correlation_analyzer.py` | L203 | `'final_cost': '-',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evaluate/imu_residual/residual_correlation_analyzer.py` | L216 | `'final_cost': 3,  # æ€»æ®‹å·®ç”¨æ›´ç²—çš„çº¿` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evaluate/imu_residual/residual_correlation_analyzer.py` | L390 | `if 'Total' in name or 'final_cost' in col:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evaluate/imu_residual/residual_correlation_analyzer.py` | L413 | `if 'Total' in name or 'final_cost' in col:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L416 | `final_cost = wâ‚Ã—râ‚ + wâ‚‚Ã—râ‚‚ + wâ‚ƒÃ—râ‚ƒ + wâ‚„Ã—râ‚„` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L426 | `æˆ‘æ³¨æ„åˆ°æ‚¨å·²ç»å°†æ€»æ®‹å·®åˆ—åæ”¹ä¸ºäº† `final_cost`ï¼Œä½†ä»£ç ä¸­è¿˜æœ‰ä¸€äº›ä¸ä¸€è‡´çš„åœ°æ–¹éœ€è¦ä¿®æ”¹ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L456 | `+             'final_cost': 'æ€»æ®‹å·®',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L462 | `+         total_residual_col = 'final_cost'` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L465 | `'final_cost': 'æ€»æ®‹å·®',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L475 | `+         total_residual_col = 'final_cost'` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L513 | `+         'final_cost': 'black',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L527 | `+         'final_cost': '-',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L542 | `+         'final_cost': 3,  # æ€»æ®‹å·®ç”¨æ›´ç²—çš„çº¿` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L702 | `- å› ä¸ºæ€»æ®‹å·®ï¼ˆ`final_cost`ï¼‰é€šå¸¸æ˜¯å„åŠ æƒæ®‹å·®çš„ç»„åˆ` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L706 | `- ç»Ÿä¸€ä½¿ç”¨ `final_cost` ä½œä¸ºæ€»æ®‹å·®åˆ—å` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L761 | `-             'final_cost': 'æ€»æ®‹å·®',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L766 | `+             'final_cost': 'Total Residual',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L772 | `total_residual_col = 'final_cost'` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L775 | `-             'final_cost': 'æ€»æ®‹å·®',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L780 | `+             'final_cost': 'Total Residual',` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L786 | `total_residual_col = 'final_cost'` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L1337 | `+             if 'Total' in name or 'final_cost' in col:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L1369 | `+                 if 'Total' in name or 'final_cost' in col:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L1631 | `- `final_cost`: æ€»æ®‹å·®` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L1673 | `Columns saved: ['travel_distance', 'position_error_norm', 'final_cost', 'weighted_imu_full_res_norm', ...]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L1867 | `+                          if col != 'final_cost' and col in analysis_df.columns]:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L1919 | `final_cost = weighted_imu + weighted_marg + weighted_gnss + weighted_reproj + other_terms` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L1923 | `- å¯èƒ½æ˜¯å¹³æ–¹å’Œï¼š`final_cost = âˆš(sum of squared residuals)`` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_11-35-%E7%BB%98%E5%88%B6%E6%AE%8B%E5%B7%AE%E5%B9%B6%E8%AE%A1%E7%AE%97%E7%9B%B8%E5%85%B3%E6%80%A7.md` | L1924 | `- æˆ–åŠ æƒå¹³æ–¹å’Œï¼š`final_cost = âˆš(wâ‚Ã—râ‚Â² + wâ‚‚Ã—râ‚‚Â² + wâ‚ƒÃ—râ‚ƒÂ² + wâ‚„Ã—râ‚„Â²)`` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-12_08-59-%E6%9F%A5%E6%89%BE%E8%A7%86%E8%A7%89%E8%BE%93%E5%87%BA%E7%9A%84%E4%BB%A3%E7%A0%81%E8%A1%8C.md` | L1454 | `âŸª 375 characters skipped âŸ«& echo "   - è®¡ç®—æ¯ä¸ªæ®‹å·®é¡¹çš„å¹³å‡å€¼" && echo "   - final_cost / æ®‹å·®é¡¹æ•°é‡" && echo "   - åˆ†æå•ä¸ªæ®‹å·®çš„æ”¶æ•›æƒ…å†µ" && echo "" && echo "4` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L71 | `3. final_cost` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L91 | `+ def calculate_final_cost(csv_file_path):` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L126 | `+     calculated_final_cost_sum_squares = np.sqrt(np.sum(residuals**2, axis=1))` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L129 | `+     calculated_final_cost_sum = np.sum(residuals, axis=1)` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L133 | `+     calculated_final_cost_weighted = np.sqrt(np.sum((residuals * weights)**2, axis=1))` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L135 | `+     # æ¯”è¾ƒå·²æœ‰çš„final_costå’Œè®¡ç®—çš„ç»“æœï¼Œé€‰æ‹©æœ€æ¥è¿‘çš„æ–¹æ³•` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L136 | `+     if 'final_cost' in df.columns:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L137 | `+         existing_final_cost = df['final_cost']` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L139 | `+         # è®¡ç®—å„ç§æ–¹æ³•ä¸ç°æœ‰final_costçš„ç›¸å…³æ€§` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L140 | `+         corr_sum_squares = np.corrcoef(existing_final_cost, calculated_final_cost_sum_squares)[0,1]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L141 | `+         corr_sum = np.corrcoef(existing_final_cost, calculated_final_cost_sum)[0,1]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L142 | `+         corr_weighted = np.corrcoef(existing_final_cost, calculated_final_cost_weighted)[0,1]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L144 | `+         print(f"\nä¸ç°æœ‰final_costçš„ç›¸å…³æ€§:")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L158 | `+             new_final_cost = calculated_final_cost_sum_squares` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L161 | `+             new_final_cost = calculated_final_cost_sum` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L164 | `+             new_final_cost = calculated_final_cost_weighted` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L167 | `+         # å¦‚æœæ²¡æœ‰ç°æœ‰çš„final_coståˆ—ï¼Œé»˜è®¤ä½¿ç”¨å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³•` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L168 | `+         new_final_cost = calculated_final_cost_sum_squares` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L171 | `+     # æ·»åŠ æˆ–æ›´æ–°final_coståˆ—` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L172 | `+     df['calculated_final_cost'] = new_final_cost` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L177 | `+     print(f"æ–°å¢åˆ—: calculated_final_cost")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L3 | `def calculate_final_cost(csv_file_path):` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L38 | `calculated_final_cost_sum_squares = np.sqrt(np.sum(residuals**2, axis=1))` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L41 | `calculated_final_cost_sum = np.sum(residuals, axis=1)` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L45 | `calculated_final_cost_weighted = np.sqrt(np.sum((residuals * weights)**2, axis=1))` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L47 | `# æ¯”è¾ƒå·²æœ‰çš„final_costå’Œè®¡ç®—çš„ç»“æœï¼Œé€‰æ‹©æœ€æ¥è¿‘çš„æ–¹æ³•` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L48 | `if 'final_cost' in df.columns:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L49 | `existing_final_cost = df['final_cost']` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L51 | `# è®¡ç®—å„ç§æ–¹æ³•ä¸ç°æœ‰final_costçš„ç›¸å…³æ€§` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L52 | `corr_sum_squares = np.corrcoef(existing_final_cost, calculated_final_cost_sum_squares)[0,1]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L53 | `corr_sum = np.corrcoef(existing_final_cost, calculated_final_cost_sum)[0,1]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L54 | `corr_weighted = np.corrcoef(existing_final_cost, calculated_final_cost_weighted)[0,1]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L56 | `print(f"\nä¸ç°æœ‰final_costçš„ç›¸å…³æ€§:")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L70 | `new_final_cost = calculated_final_cost_sum_squares` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L73 | `new_final_cost = calculated_final_cost_sum` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L76 | `new_final_cost = calculated_final_cost_weighted` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L79 | `# å¦‚æœæ²¡æœ‰ç°æœ‰çš„final_coståˆ—ï¼Œé»˜è®¤ä½¿ç”¨å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³•` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L80 | `new_final_cost = calculated_final_cost_sum_squares` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L83 | `# æ·»åŠ æˆ–æ›´æ–°final_coståˆ—` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L84 | `df['calculated_final_cost'] = new_final_cost` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L89 | `print(f"æ–°å¢åˆ—: calculated_final_cost")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L90 | `print(f"\ncalculated_final_costç»Ÿè®¡:")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L91 | `print(f"æœ€å°å€¼: {new_final_cost.min():.6f}")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L92 | `print(f"æœ€å¤§å€¼: {new_final_cost.max():.6f}")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L93 | `print(f"å¹³å‡å€¼: {new_final_cost.mean():.6f}")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L94 | `print(f"æ ‡å‡†å·®: {new_final_cost.std():.6f}")` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L98 | `calculate_final_cost(csv_file_path)` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_image.cpp` | L219 | `if (summary.final_cost > 1e10) {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_image.cpp` | L222 | `assert(summary.final_cost < 1e10);` |

</details>

---

<details>
            <summary>Grep search for "final cost" â€¢ **6** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L2 | `# è®¡ç®—CSVæ–‡ä»¶çš„final cost (2025-06-18 01:14:59)` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L6 | `å†™ä¸ªpythonç¨‹åºè¯»å–R1M1_Proposed_matched_data_weighted.csvçš„åå››åˆ—æ®‹å·®ï¼Œè®¡ç®—final cost,ä¿å­˜åˆ°R1M1_Proposed_matched_data_weighted.csvçš„æœ€å` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L12 | `æˆ‘æ¥å¸®æ‚¨ç¼–å†™ä¸€ä¸ªPythonç¨‹åºæ¥è¯»å–CSVæ–‡ä»¶çš„åå››åˆ—æ®‹å·®ï¼Œè®¡ç®—final costï¼Œå¹¶ä¿å­˜åˆ°åŸæ–‡ä»¶çš„æœ€åä¸€åˆ—ã€‚` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L79 | `2. è®¡ç®—final costï¼ˆå¯èƒ½æ˜¯è¿™äº›æ®‹å·®çš„æŸç§ç»„åˆï¼‰` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L93 | `+     è¯»å–CSVæ–‡ä»¶çš„åå››åˆ—æ®‹å·®ï¼Œè®¡ç®—final costï¼Œå¹¶ä¿å­˜åˆ°åŸæ–‡ä»¶çš„æœ€åä¸€åˆ—` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L124 | `+     # è®¡ç®—final cost` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L191 | `ç°åœ¨è®©æˆ‘è¿è¡Œè¿™ä¸ªPythonç¨‹åºæ¥è®¡ç®—final costï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L235 | `è®©æˆ‘ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªä¸ä¾èµ–å¤–éƒ¨åº“çš„çº¯Pythonç‰ˆæœ¬æ¥è®¡ç®—final costï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L47 | `âŸª 180 characters skipped âŸ«%97%E6%96%B9%E6%B3%95.md` | L1546 | `è¿™é‡Œçš„final costä¸ºä»€ä¹ˆå’Œè¿™é‡Œçš„summary.final_costç»“æœä¸ä¸€è‡´` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L74 | `âŸª 226 characters skipped âŸ«racters skipped âŸ«3%95.md` | L1546 | `è¿™é‡Œçš„final costä¸ºä»€ä¹ˆå’Œè¿™é‡Œçš„summary.final_costç»“æœä¸ä¸€è‡´` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L370 | `std::cout << "[IMAGE] Final cost too high, retrying optimization..." << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L386 | `<< " | TRUE FINAL COST: " << summary.final_cost << " (converged) | " << summary.BriefReport() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L770 | `-                   << " | TRUE FINAL COST: " << summary.final_cost << " (converged) | " << summary.BriefReport() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L771 | `+                   << " | TRUE FINAL COST: " << summary.final_cost << " (converged) | " << summary.BriefReport()` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L2809 | `æœ€ç»ˆçš„summary.final costä¸­æ˜¯å¦ä¹Ÿæ˜¯è¿™7ç›¸æ®‹å·®å¹³æ–¹å’Œå‘¢` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L5093 | `âŸª 100 characters skipped âŸ«rations: 2, Initial cost: 2.442837e+08, Final cost: 7.983538e+01, Termination: CONVERGENCE,0.135305` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L5098 | `[IMAGE-FINAL] Timestamp=812.230441 | TRUE FINAL COST: 21.246508 (converged) | Ceres Solver Report: Iterations: 8, Initial cost: 2.228639e+01, Final cost: 2.124651e+01, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L5302 | `âŸª 100 characters skipped âŸ«rations: 2, Initial cost: 2.440612e+08, Final cost: 7.994104e+01, Termination: CONVERGENCE,0.142274` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L5309 | `[IMAGE-FINAL] Timestamp=812.230441 | TRUE FINAL COST: 20.736207 (converged) | Ceres Solver Report: Iterations: 9, Initial cost: 2.243204e+01, Final cost: 2.073621e+01, Termination: NO_CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L5 | `è¯»å–CSVæ–‡ä»¶çš„åå››åˆ—æ®‹å·®ï¼Œè®¡ç®—final costï¼Œå¹¶ä¿å­˜åˆ°åŸæ–‡ä»¶çš„æœ€åä¸€åˆ—` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L36 | `# è®¡ç®—final cost` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L2600 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.801890e+03, Final cost: 5.800182e+03, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L2616 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.699038e+08, Final cost: 1.530772e+02, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3448 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.987872e+06, Final cost: 6.738834e+01, Termination: CONVERGENCE,0.630095` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3453 | `Ceres Solver Report: Iterations: 2, Initial cost: 7.079514e+10, Final cost: 7.361558e+01, Termination: CONVERGENCE,0.538928` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3456 | `Ceres Solver Report: Iterations: 3, Initial cost: 9.770497e+02, Final cost: 7.734438e+00, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3465 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.833090e+08, Final cost: 8.938045e+01, Termination: CONVERGENCE,0.567777` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3468 | `Ceres Solver Report: Iterations: 3, Initial cost: 1.345792e+02, Final cost: 1.535880e+01, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3476 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.014633e+08, Final cost: 6.851514e+01, Termination: CONVERGENCE,0.585944` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3787 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.987872e+06, Final cost: 6.738834e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3795 | `Ceres Solver Report: Iterations: 2, Initial cost: 7.079514e+10, Final cost: 7.361558e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3799 | `Ceres Solver Report: Iterations: 3, Initial cost: 9.770497e+02, Final cost: 7.734438e+00, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3811 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.833090e+08, Final cost: 8.938045e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3815 | `Ceres Solver Report: Iterations: 3, Initial cost: 1.345792e+02, Final cost: 1.535880e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3827 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.014633e+08, Final cost: 6.851514e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3830 | `Ceres Solver Report: Iterations: 9, Initial cost: 7.594871e+01, Final cost: 1.898632e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3841 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.127243e+08, Final cost: 6.763919e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3844 | `Ceres Solver Report: Iterations: 3, Initial cost: 5.326734e+01, Final cost: 1.648870e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3856 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.191824e+08, Final cost: 6.377618e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3859 | `Ceres Solver Report: Iterations: 3, Initial cost: 5.611395e+01, Final cost: 1.554868e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3871 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.190459e+08, Final cost: 6.351121e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3875 | `Ceres Solver Report: Iterations: 2, Initial cost: 4.750704e+01, Final cost: 1.739647e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3887 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.061046e+08, Final cost: 6.554344e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3890 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.505597e+01, Final cost: 1.823778e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3902 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.890519e+08, Final cost: 6.543296e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3905 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.785704e+01, Final cost: 1.755795e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3917 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.660462e+08, Final cost: 6.951223e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3920 | `Ceres Solver Report: Iterations: 9, Initial cost: 7.627950e+01, Final cost: 1.999316e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3932 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.440421e+08, Final cost: 7.999161e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3937 | `Ceres Solver Report: Iterations: 3, Initial cost: 2.245523e+01, Final cost: 2.070099e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1546 | `è¿™é‡Œçš„final costä¸ºä»€ä¹ˆå’Œè¿™é‡Œçš„summary.final_costç»“æœä¸ä¸€è‡´` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1623 | `âŸª 180 characters skipped âŸ«%97%E6%96%B9%E6%B3%95.md` | L1546 | `è¿™é‡Œçš„final costä¸ºä»€ä¹ˆå’Œè¿™é‡Œçš„summary.final_costç»“æœä¸ä¸€è‡´` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2133 | `final costè®¡ç®—ç»“æœè¿˜æ˜¯ä¸ä¸€è‡´ï¼Œä¾‹å¦‚1664879æ—¶é—´æˆ³ï¼Œsave_resultä¿å­˜çš„æ˜¯5841.3086373762ï¼Œè€Œè¿™é‡Œè¾“å‡ºçš„æ˜¯1.521222e+02` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2394 | `éš¾é“æ²¡æœ‰åŠæ³•å³ä¿ç•™åŸæ¥çš„save_resultï¼Œåˆè®©save_resultä¸­ä¿å­˜çš„æ³•final costå’ŒBriefReportå®Œå…¨ä¸€è‡´å—` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2581 | `è¿™è¾“å‡ºç»“æœçš„final costè¿˜æ˜¯ä¸ä¸€è‡´time:1664.879` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2601 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.699067e+08, Final cost: 1.523423e+02, Termination: CONVERGENCE,0.169849` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2615 | `2. **BriefReportè¾“å‡º**: `Final cost: 1.523423e+02` = `152.3423` (æ–°çš„ä¼˜åŒ–ç»“æœ)` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2777 | `âŸª 219 characters skipped âŸ«æ²¡æœ‰åŠæ³•å³ä¿ç•™åŸæ¥çš„save_resultï¼Œåˆè®©save_resultä¸­ä¿å­˜çš„æ³•final costå’ŒBriefReportå®Œå…¨ä¸€è‡´å—` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3305 | `+             std::cout << "[IMAGE] Final cost too high, retrying optimization..." << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3465 | `- é‡è¯•è­¦å‘Šï¼š`[IMAGE] Final cost too high, retrying optimization...`` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3507 | `æ˜¯çš„ï¼æˆ‘æ¥ä¸ºæ‚¨æ·»åŠ æ—¶é—´æˆ³ä¿¡æ¯ï¼Œè®©æ‚¨èƒ½ä¸€çœ¼çœ‹å‡ºæ¯ä¸ªfinal costå±äºå“ªä¸ªæ—¶é—´æˆ³çš„ä¼˜åŒ–ã€‚æˆ‘ä¼šåœ¨BriefReportè¾“å‡ºä¸­æ·»åŠ æ—¶é—´æˆ³ä¿¡æ¯ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3580 | `echo "=== ä¼˜åŒ–åçš„Final Costæ—¶é—´æˆ³æ˜¾ç¤ºæ ¼å¼ ===" && echo "" && echo "ç°åœ¨output.logä¸­çš„final costè¾“å‡ºå°†æ¸…æ™°æ˜¾ç¤ºå¯¹åº”çš„æ—¶é—´æˆ³ï¼š" && echo "" && echo "========== ç¤ºä¾‹è¾“å‡ºæ ¼å¼ ==========" && echo "" && echo "[IMAGE] ========== Starting IMAGE Optimization ==========" && echo "[IMAGE] solving time: 45.123, 42.567" && echo "[IMAGE] Timestamp=1664879.123456 | Ceres Solver Report: Iterations: 15, Initial cost: 1.234567e+03, Final cost: 1.521222e+02, Termination: CONVERGENCE" && echo "[IMAGE] Parameter blocks: 150,10,160" && echo "[IMAGE] ========== IMAGE Optimization Complete ==========" && echo "" && echo "[GNSS] ======âŸª 150 characters skipped âŸ«rations: 8, Initial cost: 5.678901e+02, Final cost: 1.234567e+02, Termination: CONVERGENCE, 15.678" && echo "[GNSS] LAMBDASearch: 8.901" && echo "[GNSS] ========== GNSS Integer Solve Complete ==========" && echo "" && echo "[IMU] save_result: timestamp=1664879.345678, final_cost=1.521222e+02" && echo "" && echo "========== å…³é”®æ”¹è¿›ç‚¹ ==========" && echo "âœ… æ¯ä¸ªfinal costéƒ½æœ‰æ˜ç¡®çš„æ—¶é—´æˆ³æ ‡è¯†" && echo "âœ… [ç±»å‹] Timestamp=xxx.xxxxxx | BriefReportæ ¼å¼" && echo "âœ… å¯ä»¥ç›´æ¥å¯¹åº”CSVä¸­çš„æ—¶é—´æˆ³æ•°æ®" && echo "âœ… ä¸€çœ¼å°±èƒ½çœ‹å‡ºå“ªä¸ªæ—¶é—´ç‚¹çš„ä¼˜åŒ–ç»“æœ"` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3585 | `"=== ä¼˜åŒ–åçš„Final Costæ—¶é—´æˆ³æ˜¾ç¤ºæ ¼å¼ ===" && echo "" && echo "ç°åœ¨output.logä¸­çš„final costè¾“å‡º` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3589 | `"=== ä¼˜åŒ–åçš„Final Costæ—¶é—´æˆ³æ˜¾ç¤ºæ ¼å¼ ===" && echo "" && echo "ç°åœ¨output.logä¸­çš„final costè¾“å‡º` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3593 | `15, Initial cost: 1.234567e+03, Final cost: 1.521222e+02, Termination: CONVERGENCE" && echo "[I` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3595 | `"=== ä¼˜åŒ–åçš„Final Costæ—¶é—´æˆ³æ˜¾ç¤ºæ ¼å¼ ===" && echo "" && echo "ç°åœ¨output.logä¸­çš„final costè¾“å‡º` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3599 | `15, Initial cost: 1.234567e+03, Final cost: 1.521222e+02, Termination: CONVERGENCE" && echo "[I` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3603 | `terations: 8, Initial cost: 5.678901e+02, Final cost: 1.234567e+02, Termination: CONVERGENCE, 1` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3606 | `21222e+02" && echo "" && echo "========== å…³é”®æ”¹è¿›ç‚¹ ==========" && echo "âœ… æ¯ä¸ªfinal costéƒ½æœ‰` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3609 | `=== ä¼˜åŒ–åçš„Final Costæ—¶é—´æˆ³æ˜¾ç¤ºæ ¼å¼ ===` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3611 | `ç°åœ¨output.logä¸­çš„final costè¾“å‡ºå°†æ¸…æ™°æ˜¾ç¤ºå¯¹åº”çš„æ—¶é—´æˆ³ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3618 | `+03, Final cost: 1.521222e+02, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3625 | `2, Final cost: 1.234567e+02, Termination: CONVERGENCE, 15.678` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3632 | `âœ… æ¯ä¸ªfinal costéƒ½æœ‰æ˜ç¡®çš„æ—¶é—´æˆ³æ ‡è¯†` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3641 | `å®Œç¾ï¼ç°åœ¨æ‚¨ç»å¯¹å¯ä»¥ä¸€çœ¼åŒºåˆ†final costå±äºå“ªä¸ªæ—¶é—´æˆ³çš„ä¼˜åŒ–äº†ï¼` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3649 | `Ceres Solver Report: Iterations: 15, Final cost: 1.521222e+02, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3650 | `Ceres Solver Report: Iterations: 8, Final cost: 1.234567e+02, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3656 | `[IMAGE] Timestamp=1664879.123456 | Ceres Solver Report: Iterations: 15, Final cost: 1.521222e+02, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3657 | `[GNSS] Timestamp=1664879.234567 | Ceres Solver Report: Iterations: 8, Final cost: 1.234567e+02, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3664 | `2. **ç²¾ç¡®åŒ¹é…**ï¼šfinal cost `1.521222e+02`å¯¹åº”çš„ç¡®åˆ‡æ—¶é—´æˆ³`1664879.123456`` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3666 | `4. **é«˜æ•ˆè°ƒè¯•**ï¼šå½“final costå¼‚å¸¸æ—¶ï¼Œç«‹å³çŸ¥é“æ˜¯å“ªä¸ªæ—¶é—´ç‚¹ã€å“ªç§ä¼˜åŒ–ç±»å‹å‡ºç°çš„é—®é¢˜` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3689 | `ä»æ‚¨æä¾›çš„è¾“å‡ºæ•°æ®æ¥çœ‹ï¼Œç¡®å®GNSSä¼˜åŒ–çš„final costï¼ˆ**152.98**ï¼‰æ¯”IMAGEå’ŒIMUçš„final costï¼ˆ**5870.22**ï¼‰è¦ä½å¾ˆå¤šã€‚ä½†è¿™ä¸ªç»“æœéœ€è¦è°¨æ…è§£è¯»ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3693 | `| ä¼˜åŒ–ç±»å‹ | Final Cost | å‡ºç°é¢‘ç‡ | ç›¸å¯¹å·®å¼‚ |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3727 | `2. **æƒé‡è®¾ç½®å½±å“**ï¼šä¸åŒçš„æƒé‡ä¼šæ˜¾è‘—å½±å“final costæ•°å€¼` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3739 | `echo "=== Final Cost åˆ†æå»ºè®® ===" && echo "" && echo "1. åˆ†ææ®‹å·®æ„æˆï¼š" && echo "   - IMAGE: åŒ…å«å¤§é‡è§†è§‰ç‰¹å¾ç‚¹æ®‹å·®" && echo "   - GNSS: åŒ…å«ç›¸å¯¹è¾ƒå°‘çš„GNSSè§‚æµ‹æ®‹å·®" && echo "   - æ®‹å·®æ•°é‡å·®å¼‚å¯èƒ½å¯¼è‡´æ€»costå·®å¼‚" && echo "" && echo "2. æ£€æŸ¥æƒé‡è®¾ç½®ï¼š" && echo "` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3744 | `"=== Final Cost åˆ†æå»ºè®® ===" && echo "" && echo "1. åˆ†ææ®‹å·®æ„æˆï¼š" && echo "   - IMAGE: åŒ…å«` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3749 | `"=== Final Cost åˆ†æå»ºè®® ===" && echo "" && echo "1. åˆ†ææ®‹å·®æ„æˆï¼š" && echo "   - IMAGE: åŒ…å«` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3756 | `=== Final Cost åˆ†æå»ºè®® ===` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3783 | `**GNSSä¼˜åŒ–çš„final costæ›´ä½ï¼Œä½†è¿™ä¸ä¸€å®šæ„å‘³ç€"æœ€å¥½"**ã€‚æ›´å‡†ç¡®çš„è¯„ä¼°åº”è¯¥è€ƒè™‘ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3797 | `å»ºè®®å…³æ³¨**å®šä½ç²¾åº¦å’Œè½¨è¿¹è´¨é‡**è€Œéå•çº¯çš„final costæ•°å€¼ï¼Œå› ä¸ºä¸åŒä¼˜åŒ–ç±»å‹çš„coståœ¨æ•°å€¼ä¸Šä¸å…·æœ‰å¯æ¯”æ€§ã€‚` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L5 | `è¯»å–CSVæ–‡ä»¶çš„åå››åˆ—æ®‹å·®ï¼Œè®¡ç®—final costï¼Œå¹¶ä¿å­˜åˆ°åŸæ–‡ä»¶çš„æœ€åä¸€åˆ—` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/calculate_final_cost.py` | L36 | `# è®¡ç®—final cost` |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥æ‰¾Ceres Solverä¸­final costçš„å…·ä½“è®¡ç®—ä½ç½®ï¼š

---

<details>
            <summary>Searched codebase "SetSummaryFinalCost" â€¢ **25** results</summary>
        
| File | Lines |
|------|-------|
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L149-201 |
| `ceres-solver-modified/internal/ceres/solver_utils.h` | L29-66 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L362-410 |
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L201-254 |
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L254-294 |
| `ceres-solver-modified/docs/source/nnls_solving.rst` | L2086-2142 |
| `calculate_final_cost.py` | L46-89 |
| `ceres-solver-modified/include/ceres/gradient_problem_solver.h` | L253-313 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L596-653 |
| `ceres-solver-modified/include/ceres/tiny_solver.h` | L218-247 |
| `calculate_final_cost.py` | L1-46 |
| `calculate_final_cost.py` | L89-95 |
| `ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L399-431 |
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L101-149 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L548-596 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L853-886 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L297-377 |
| `ceres-solver-modified/internal/ceres/evaluation_callback_test.cc` | L291-317 |
| `ceres-solver-modified/include/ceres/solver.h` | L766-818 |
| `ceres-solver-modified/docs/source/gradient_solver.rst` | L408-466 |
| `ceres-solver-modified/internal/ceres/line_search.cc` | L171-212 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L319-362 |
| `calculate_final_cost.py` | L95-99 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L410-457 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L195-246 |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹`SetSummaryFinalCost`å‡½æ•°çš„å…·ä½“å®ç°ï¼š

---

Read file: ceres-solver-modified/internal/ceres/solver_utils.h

---

æ ¹æ®æˆ‘çš„æœç´¢ç»“æœï¼Œæˆ‘ç°åœ¨å¯ä»¥ä¸ºæ‚¨å‡†ç¡®å›ç­”summaryé‡Œçš„final costçš„è®¡ç®—ä½ç½®ï¼š

## Summaryé‡Œçš„Final Costè®¡ç®—ä½ç½®

**ä¸»è¦è®¡ç®—ä½ç½®ï¼š**

1. **`ceres-solver-modified/internal/ceres/solver_utils.h`** (ç¬¬50-58è¡Œ)
   ```cpp
   template <typename SummaryType>
   void SetSummaryFinalCost(SummaryType* summary) {
     summary->final_cost = summary->initial_cost;
     // We need the loop here, instead of just looking at the last
     // iteration because the minimizer maybe making non-monotonic steps.
     for (int i = 0; i < summary->iterations.size(); ++i) {
       const IterationSummary& iteration_summary = summary->iterations[i];
       summary->final_cost = std::min(iteration_summary.cost, summary->final_cost);
     }
   }
   ```

2. **è°ƒç”¨ä½ç½®ï¼š**
   - `ceres-solver-modified/internal/ceres/solver.cc` (ç¬¬377è¡Œ)
   - `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` (ç¬¬173è¡Œ)

**Final Costçš„è®¡ç®—é€»è¾‘ï¼š**

1. **åˆå§‹åŒ–**ï¼š`summary->final_cost = summary->initial_cost`
2. **è¿­ä»£æ¯”è¾ƒ**ï¼šéå†æ‰€æœ‰ä¼˜åŒ–è¿­ä»£è¿‡ç¨‹ä¸­çš„costå€¼
3. **å–æœ€å°å€¼**ï¼š`summary->final_cost = std::min(iteration_summary.cost, summary->final_cost)`

**å…³é”®ç‰¹ç‚¹ï¼š**
- **éå•è°ƒä¼˜åŒ–**ï¼šç”±äºä¼˜åŒ–å™¨å¯èƒ½é‡‡ç”¨éå•è°ƒæ­¥éª¤ï¼ˆnon-monotonic stepsï¼‰ï¼Œæ‰€ä»¥ä¸èƒ½ç®€å•å–æœ€åä¸€æ¬¡è¿­ä»£çš„cost
- **å…¨å±€æœ€ä¼˜**ï¼šfinal_costæ˜¯æ•´ä¸ªä¼˜åŒ–è¿‡ç¨‹ä¸­æ‰€æœ‰è¿­ä»£costçš„**æœ€å°å€¼**
- **åŒ…å«fixed_cost**ï¼šåœ¨æŸäº›æƒ…å†µä¸‹è¿˜ä¼šåŠ ä¸Šfixed_costï¼ˆæ¥è‡ªè¢«å›ºå®šå‚æ•°å—çš„æ®‹å·®ï¼‰

**åœ¨æ‚¨çš„CSVæ•°æ®ä¸­ï¼š**
- CSVä¸­çš„`final_cost`åˆ—å¯¹åº”çš„å°±æ˜¯è¿™ä¸ªCeresä¼˜åŒ–åçš„æœ€ç»ˆcostå€¼
- å®ƒæ˜¯æ‰€æœ‰æ®‹å·®é¡¹ï¼ˆIMUã€è¾¹ç¼˜åŒ–ã€GNSSã€é‡æŠ•å½±ï¼‰ç»¼åˆä¼˜åŒ–åçš„æ€»ç›®æ ‡å‡½æ•°å€¼
- è¿™ä¸ªå€¼å·²ç»ç»è¿‡äº†Cereså†…éƒ¨çš„æƒé‡å¤„ç†å’Œä¼˜åŒ–è¿­ä»£

æ‰€ä»¥æ‚¨ç¼–å†™çš„Pythonç¨‹åºä¸­è®¡ç®—çš„`calculated_final_cost`åº”è¯¥å°½é‡ä¸è¿™ä¸ªCeresè®¡ç®—å‡ºçš„`final_cost`ä¿æŒä¸€è‡´ã€‚

---

_**User**_

è¿˜æ˜¯ä¸çŸ¥é“final_cost çš„è®¡ç®—å…¬å¼åœ¨å“ªé‡Œ

---

_**Assistant**_

æ‚¨è¯´å¾—å¯¹ï¼Œæˆ‘ä¹‹å‰åªæ‰¾åˆ°äº†`SetSummaryFinalCost`å‡½æ•°ï¼Œå®ƒåªæ˜¯ä»è¿­ä»£ä¸­é€‰æ‹©æœ€å°çš„costå€¼ï¼Œä½†æ²¡æœ‰æ‰¾åˆ°costæœ¬èº«æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚è®©æˆ‘ç»§ç»­æ·±å…¥æœç´¢costçš„å…·ä½“è®¡ç®—å…¬å¼ï¼š

---

<details>
            <summary>Searched codebase "cost calculation residual evaluation" â€¢ **25** results</summary>
        
| File | Lines |
|------|-------|
| `ceres-solver-modified/internal/ceres/program_evaluator.h` | L137-186 |
| `ceres-solver-modified/internal/ceres/evaluation_callback_test.cc` | L235-291 |
| `ceres-solver-modified/internal/ceres/program.cc` | L307-363 |
| `ceres-solver-modified/internal/ceres/program_evaluator.h` | L294-343 |
| `ceres-solver-modified/internal/ceres/residual_block_test.cc` | L78-170 |
| `ceres-solver-modified/internal/ceres/residual_block.h` | L67-112 |
| `ceres-solver-modified/internal/ceres/gradient_problem_evaluator.h` | L29-85 |
| `ceres-solver-modified/internal/ceres/residual_block_utils_test.cc` | L48-114 |
| `ceres-solver-modified/internal/ceres/residual_block.cc` | L75-120 |
| `ceres-solver-modified/internal/ceres/residual_block_utils.cc` | L50-72 |
| `ceres-solver-modified/internal/ceres/residual_block_utils.h` | L41-81 |
| `ceres-solver-modified/internal/ceres/program_evaluator.h` | L186-239 |
| `ceres-solver-modified/internal/ceres/problem_test.cc` | L1649-1682 |
| `ceres-solver-modified/internal/ceres/program.cc` | L363-415 |
| `calculate_final_cost.py` | L95-99 |
| `ceres-solver-modified/internal/ceres/evaluator_test.cc` | L608-658 |
| `ceres-solver-modified/internal/ceres/problem_test.cc` | L1145-1178 |
| `ceres-solver-modified/internal/ceres/residual_block_utils_test.cc` | L114-165 |
| `calculate_final_cost.py` | L1-46 |
| `ceres-solver-modified/internal/ceres/gradient_checking_cost_function.cc` | L63-93 |
| `ceres-solver-modified/internal/ceres/numeric_diff_cost_function_test.cc` | L359-383 |
| `ceres-solver-modified/internal/ceres/line_search.cc` | L171-212 |
| `ceres-solver-modified/internal/ceres/problem_impl.cc` | L698-742 |
| `ceres-solver-modified/internal/ceres/residual_block.cc` | L53-75 |
| `ceres-solver-modified/internal/ceres/residual_block_test.cc` | L203-271 |

</details>

---

<details>
            <summary>Grep search for "iteration_summary\.cost" â€¢ **5** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L574 | `summary->final_cost = std::min(iteration_summary.cost, summary->final_cost);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L587 | `3. **å–æœ€å°å€¼**ï¼š`summary->final_cost = std::min(iteration_summary.cost, summary->final_cost)`` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L176 | `âŸª 128 characters skipped âŸ«| L56 | `summary->final_cost = std::min(iteration_summary.cost, summary->final_cost);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L185 | `âŸª 108 characters skipped âŸ«res/line_search_minimizer.cc` | L143 | `iteration_summary.cost = current_state.cost + summary->fixed_cost;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L186 | `âŸª 108 characters skipped âŸ«res/line_search_minimizer.cc` | L393 | `iteration_summary.cost = current_state.cost + summary->fixed_cost;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1576 | `âŸª 264 characters skipped âŸ«| L56 | `summary->final_cost = std::min(iteration_summary.cost, summary->final_cost);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1659 | `âŸª 128 characters skipped âŸ«| L56 | `summary->final_cost = std::min(iteration_summary.cost, summary->final_cost);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver_utils.h` | L56 | `summary->final_cost = std::min(iteration_summary.cost, summary->final_cost);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L110 | `iteration_summary.cost_change = 0.0;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L143 | `iteration_summary.cost = current_state.cost + summary->fixed_cost;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L392 | `iteration_summary.cost_change = previous_state.cost - current_state.cost;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L393 | `iteration_summary.cost = current_state.cost + summary->fixed_cost;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L459 | `if (std::abs(iteration_summary.cost_change) <=` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L464 | `std::abs(iteration_summary.cost_change) / previous_state.cost,` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver_utils.h` | L56 | `summary->final_cost = std::min(iteration_summary.cost, summary->final_cost);` |

</details>

---

<details>
            <summary>Grep search for "current_state\.cost" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L184 | `âŸª 132 characters skipped âŸ«r.cc` | L142 | `summary->initial_cost = current_state.cost + summary->fixed_cost;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L185 | `âŸª 133 characters skipped âŸ«.cc` | L143 | `iteration_summary.cost = current_state.cost + summary->fixed_cost;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L186 | `âŸª 133 characters skipped âŸ«.cc` | L393 | `iteration_summary.cost = current_state.cost + summary->fixed_cost;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L119 | `&(current_state.cost),` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L142 | `summary->initial_cost = current_state.cost + summary->fixed_cost;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L143 | `iteration_summary.cost = current_state.cost + summary->fixed_cost;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L301 | `2.0 * (current_state.cost - previous_state.cost) /` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L313 | `(current_state.cost - previous_state.cost));` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L322 | `current_state.cost,` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L332 | `current_state.cost,` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L350 | `current_state.cost = optimal_point.value;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L357 | `&(current_state.cost),` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L392 | `iteration_summary.cost_change = previous_state.cost - current_state.cost;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L393 | `iteration_summary.cost = current_state.cost + summary->fixed_cost;` |

</details>

---

Read file: ceres-solver-modified/internal/ceres/line_search_minimizer.cc

---

<details>
            <summary>Grep search for "evaluator->Evaluate.*cost" â€¢ **1** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/evaluator_test.cc` | L551 | `EXPECT_FALSE(evaluator->Evaluate(state, &cost, nullptr, nullptr, nullptr));` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/evaluator_test.cc` | L642 | `ASSERT_TRUE(evaluator->Evaluate(state, &cost, nullptr, nullptr, nullptr));` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/evaluator_test.cc` | L650 | `ASSERT_TRUE(evaluator->Evaluate(state, &cost, residuals, nullptr, nullptr));` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/evaluator_test.cc` | L662 | `evaluator->Evaluate(state, &cost, residuals, nullptr, jacobian.get()));` |

</details>

---

Read file: ceres-solver-modified/internal/ceres/program_evaluator.h

---

ç°åœ¨æˆ‘æ‰¾åˆ°äº†ï¼è®©æˆ‘æŸ¥çœ‹ResidualBlockçš„Evaluateæ–¹æ³•ï¼Œè¿™é‡Œæ˜¯è®¡ç®—å•ä¸ªæ®‹å·®å—costçš„åœ°æ–¹ï¼š

---

Read file: ceres-solver-modified/internal/ceres/residual_block.cc

---

å¤ªå¥½äº†ï¼ç°åœ¨æˆ‘æ‰¾åˆ°äº†final costçš„å®Œæ•´è®¡ç®—å…¬å¼ï¼è®©æˆ‘æ€»ç»“ä¸€ä¸‹ï¼š

## Final Costçš„å®Œæ•´è®¡ç®—å…¬å¼

æ ¹æ®æˆ‘çš„æ·±å…¥åˆ†æï¼Œfinal costçš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š

### 1. å•ä¸ªæ®‹å·®å—çš„Costè®¡ç®— (ResidualBlock::Evaluate)
**ä½ç½®**: `ceres-solver-modified/internal/ceres/residual_block.cc` ç¬¬173-185è¡Œ

```cpp
double squared_norm = VectorRef(residuals, num_residuals).squaredNorm();

if (loss_function_ == nullptr || !apply_loss_function) {
    *cost = 0.5 * squared_norm;  // æ²¡æœ‰æŸå¤±å‡½æ•°æ—¶
    return true;
}

double rho[3];
loss_function_->Evaluate(squared_norm, rho);
*cost = 0.5 * rho[0];  // æœ‰æŸå¤±å‡½æ•°æ—¶
```

**å…³é”®å…¬å¼**ï¼š
- **æ— æŸå¤±å‡½æ•°**: `cost = 0.5 * ||residuals||Â²`
- **æœ‰æŸå¤±å‡½æ•°**: `cost = 0.5 * Ï(||residuals||Â²)`

### 2. æ€»Costçš„ç´¯åŠ  (ProgramEvaluator::Evaluate)
**ä½ç½®**: `ceres-solver-modified/internal/ceres/program_evaluator.h` ç¬¬268-277è¡Œ

```cpp
// éå†æ‰€æœ‰æ®‹å·®å—
for (each residual_block) {
    double block_cost;
    residual_block->Evaluate(..., &block_cost, ...);
    scratch->cost += block_cost;  // ç´¯åŠ æ¯ä¸ªæ®‹å·®å—çš„cost
}

// æ±‡æ€»æ‰€æœ‰çº¿ç¨‹çš„cost
(*cost) = 0.0;
for (int i = 0; i < options_.num_threads; ++i) {
    (*cost) += evaluate_scratch_[i].cost;  // æ€»cost = æ‰€æœ‰æ®‹å·®å—costä¹‹å’Œ
}
```

### 3. Final Costçš„ç¡®å®š (SetSummaryFinalCost)
**ä½ç½®**: `ceres-solver-modified/internal/ceres/solver_utils.h` ç¬¬51-58è¡Œ

```cpp
void SetSummaryFinalCost(SummaryType* summary) {
  summary->final_cost = summary->initial_cost;
  // éå†æ‰€æœ‰ä¼˜åŒ–è¿­ä»£ï¼Œå–æœ€å°costå€¼
  for (int i = 0; i < summary->iterations.size(); ++i) {
    const IterationSummary& iteration_summary = summary->iterations[i];
    summary->final_cost = std::min(iteration_summary.cost, summary->final_cost);
  }
}
```

## å®Œæ•´çš„Final Costè®¡ç®—å…¬å¼

```
final_cost = min(æ‰€æœ‰è¿­ä»£ä¸­çš„cost) + fixed_cost

å…¶ä¸­æ¯æ¬¡è¿­ä»£çš„cost = Î£(æ‰€æœ‰æ®‹å·®å—çš„cost)

æ¯ä¸ªæ®‹å·®å—çš„cost = {
    0.5 * ||residuals||Â²           (æ— æŸå¤±å‡½æ•°)
    0.5 * Ï(||residuals||Â²)        (æœ‰æŸå¤±å‡½æ•°)
}

å¯¹äºæ‚¨çš„CSVæ•°æ®:
final_cost = 0.5 * Î£(weighted_imu_residualsÂ² + weighted_marg_residualsÂ² + 
                     weighted_gnss_residualsÂ² + weighted_reproj_residualsÂ²)
```

**æ‰€ä»¥æ‚¨çš„Pythonç¨‹åºåº”è¯¥ä½¿ç”¨è¿™ä¸ªå…¬å¼**ï¼š
```python
calculated_final_cost = 0.5 * np.sum(residuals**2, axis=1)
```

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä¹‹å‰å»ºè®®ä½¿ç”¨"å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³•"ï¼Œä½†å®é™…ä¸Šåº”è¯¥æ˜¯"å¹³æ–¹å’Œçš„ä¸€åŠ"ï¼

---

_**User**_

ç°åœ¨ä½ æ ¹æ®é¡¹ç›®ä¸­4ä¸ªæ®‹å·®ï¼Œå†é‡æ–°è®¡ç®—final_costå’ŒåŸæœ‰ä»£ç è®¡ç®—ç»“æœè¿›è¡Œæ¯”è¾ƒ

---

_**Assistant**_

å¥½çš„ï¼ç°åœ¨æˆ‘æ ¹æ®æ‰¾åˆ°çš„çœŸæ­£è®¡ç®—å…¬å¼æ¥é‡æ–°ç¼–å†™ç¨‹åºã€‚æ ¹æ®Ceresçš„æºç åˆ†æï¼Œfinal_costçš„è®¡ç®—å…¬å¼æ˜¯ï¼š

```
final_cost = 0.5 * Î£(æ‰€æœ‰æ®‹å·®çš„å¹³æ–¹)
```

è®©æˆ‘ä¿®æ”¹Pythonç¨‹åºï¼š

---

```diff
  import pandas as pd
  import numpy as np
+ import matplotlib.pyplot as plt
  
  def calculate_final_cost(csv_file_path):
      """
-     è¯»å–CSVæ–‡ä»¶çš„åå››åˆ—æ®‹å·®ï¼Œè®¡ç®—final costï¼Œå¹¶ä¿å­˜åˆ°åŸæ–‡ä»¶çš„æœ€åä¸€åˆ—
+     æ ¹æ®Ceresæºç åˆ†æï¼Œè®¡ç®—final cost = 0.5 * Î£(residualsÂ²)
      
      Args:
```

```diff
      print(residuals.describe())
      
-     # è®¡ç®—final cost
-     # æ–¹æ³•1: æ‰€æœ‰æ®‹å·®çš„å¹³æ–¹å’Œ
+     # æ ¹æ®Ceresæºç çš„çœŸæ­£è®¡ç®—å…¬å¼
+     # cost = 0.5 * ||residuals||Â² (æ¥è‡ª residual_block.cc ç¬¬173è¡Œ)
+     calculated_final_cost_ceres_formula = 0.5 * np.sum(residuals**2, axis=1)
+     
+     # å…¶ä»–å¯èƒ½çš„è®¡ç®—æ–¹æ³•ç”¨äºæ¯”è¾ƒ
      calculated_final_cost_sum_squares = np.sqrt(np.sum(residuals**2, axis=1))
-     
-     # æ–¹æ³•2: æ‰€æœ‰æ®‹å·®çš„ç›´æ¥æ±‚å’Œ
      calculated_final_cost_sum = np.sum(residuals, axis=1)
-     
-     # æ–¹æ³•3: åŠ æƒå¹³æ–¹å’Œ (å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´æƒé‡)
-     weights = [1.0, 1.0, 1.0, 1.0]  # å¯ä»¥æ ¹æ®å®é™…éœ€è¦è°ƒæ•´æƒé‡
-     calculated_final_cost_weighted = np.sqrt(np.sum((residuals * weights)**2, axis=1))
+     calculated_final_cost_just_squares = np.sum(residuals**2, axis=1)
+     
+     print(f"\n=== ä¸åŒè®¡ç®—æ–¹æ³•çš„ç»Ÿè®¡ ===")
+     print(f"Cereså…¬å¼ (0.5*Î£rÂ²): æœ€å°={calculated_final_cost_ceres_formula.min():.6f}, "
+           f"æœ€å¤§={calculated_final_cost_ceres_formula.max():.6f}, "
+           f"å¹³å‡={calculated_final_cost_ceres_formula.mean():.6f}")
+     print(f"å¹³æ–¹å’Œå¼€æ ¹å·: æœ€å°={calculated_final_cost_sum_squares.min():.6f}, "
+           f"æœ€å¤§={calculated_final_cost_sum_squares.max():.6f}, "
+           f"å¹³å‡={calculated_final_cost_sum_squares.mean():.6f}")
+     print(f"ç›´æ¥æ±‚å’Œ: æœ€å°={calculated_final_cost_sum.min():.6f}, "
+           f"æœ€å¤§={calculated_final_cost_sum.max():.6f}, "
+           f"å¹³å‡={calculated_final_cost_sum.mean():.6f}")
+     print(f"å¹³æ–¹å’Œ (Î£rÂ²): æœ€å°={calculated_final_cost_just_squares.min():.6f}, "
+           f"æœ€å¤§={calculated_final_cost_just_squares.max():.6f}, "
+           f"å¹³å‡={calculated_final_cost_just_squares.mean():.6f}")
      
-     # æ¯”è¾ƒå·²æœ‰çš„final_costå’Œè®¡ç®—çš„ç»“æœï¼Œé€‰æ‹©æœ€æ¥è¿‘çš„æ–¹æ³•
+     # ä¸åŸæœ‰çš„final_costè¿›è¡Œæ¯”è¾ƒ
      if 'final_cost' in df.columns:
          existing_final_cost = df['final_cost']
          
-         # è®¡ç®—å„ç§æ–¹æ³•ä¸ç°æœ‰final_costçš„ç›¸å…³æ€§
+         print(f"\nåŸæœ‰final_cost: æœ€å°={existing_final_cost.min():.6f}, "
+               f"æœ€å¤§={existing_final_cost.max():.6f}, "
+               f"å¹³å‡={existing_final_cost.mean():.6f}")
+         
+         # è®¡ç®—ç›¸å…³æ€§
+         corr_ceres = np.corrcoef(existing_final_cost, calculated_final_cost_ceres_formula)[0,1]
          corr_sum_squares = np.corrcoef(existing_final_cost, calculated_final_cost_sum_squares)[0,1]
          corr_sum = np.corrcoef(existing_final_cost, calculated_final_cost_sum)[0,1]
-         corr_weighted = np.corrcoef(existing_final_cost, calculated_final_cost_weighted)[0,1]
+         corr_just_squares = np.corrcoef(existing_final_cost, calculated_final_cost_just_squares)[0,1]
          
-         print(f"\nä¸ç°æœ‰final_costçš„ç›¸å…³æ€§:")
-         print(f"å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³•: {corr_sum_squares:.4f}")
-         print(f"ç›´æ¥æ±‚å’Œæ–¹æ³•: {corr_sum:.4f}")
-         print(f"åŠ æƒå¹³æ–¹å’Œæ–¹æ³•: {corr_weighted:.4f}")
+         print(f"\n=== ä¸åŸæœ‰final_costçš„ç›¸å…³æ€§åˆ†æ ===")
+         print(f"Cereså…¬å¼ (0.5*Î£rÂ²): {corr_ceres:.6f}")
+         print(f"å¹³æ–¹å’Œå¼€æ ¹å· (âˆšÎ£rÂ²): {corr_sum_squares:.6f}")
+         print(f"ç›´æ¥æ±‚å’Œ (Î£r): {corr_sum:.6f}")
+         print(f"å¹³æ–¹å’Œ (Î£rÂ²): {corr_just_squares:.6f}")
+         
+         # è®¡ç®—è¯¯å·®åˆ†æ
+         error_ceres = np.abs(existing_final_cost - calculated_final_cost_ceres_formula)
+         error_sum_squares = np.abs(existing_final_cost - calculated_final_cost_sum_squares)
+         error_just_squares = np.abs(existing_final_cost - calculated_final_cost_just_squares)
+         
+         print(f"\n=== ç»å¯¹è¯¯å·®åˆ†æ ===")
+         print(f"Cereså…¬å¼è¯¯å·®: å¹³å‡={error_ceres.mean():.6f}, æœ€å¤§={error_ceres.max():.6f}")
+         print(f"å¹³æ–¹å’Œå¼€æ ¹å·è¯¯å·®: å¹³å‡={error_sum_squares.mean():.6f}, æœ€å¤§={error_sum_squares.max():.6f}")
+         print(f"å¹³æ–¹å’Œè¯¯å·®: å¹³å‡={error_just_squares.mean():.6f}, æœ€å¤§={error_just_squares.max():.6f}")
+         
+         # ç›¸å¯¹è¯¯å·®åˆ†æ
+         relative_error_ceres = error_ceres / (existing_final_cost + 1e-10)
+         relative_error_sum_squares = error_sum_squares / (existing_final_cost + 1e-10)
+         relative_error_just_squares = error_just_squares / (existing_final_cost + 1e-10)
+         
+         print(f"\n=== ç›¸å¯¹è¯¯å·®åˆ†æ ===")
+         print(f"Cereså…¬å¼ç›¸å¯¹è¯¯å·®: å¹³å‡={relative_error_ceres.mean():.6f}, æœ€å¤§={relative_error_ceres.max():.6f}")
+         print(f"å¹³æ–¹å’Œå¼€æ ¹å·ç›¸å¯¹è¯¯å·®: å¹³å‡={relative_error_sum_squares.mean():.6f}, æœ€å¤§={relative_error_sum_squares.max():.6f}")
+         print(f"å¹³æ–¹å’Œç›¸å¯¹è¯¯å·®: å¹³å‡={relative_error_just_squares.mean():.6f}, æœ€å¤§={relative_error_just_squares.max():.6f}")
          
-         # é€‰æ‹©ç›¸å…³æ€§æœ€é«˜çš„æ–¹æ³•
+         # é€‰æ‹©æœ€ä½³æ–¹æ³•
          correlations = {
-             'sum_squares': corr_sum_squares,
-             'sum': corr_sum,
-             'weighted': corr_weighted
+             'Cereså…¬å¼ (0.5*Î£rÂ²)': corr_ceres,
+             'å¹³æ–¹å’Œå¼€æ ¹å· (âˆšÎ£rÂ²)': corr_sum_squares,
+             'ç›´æ¥æ±‚å’Œ (Î£r)': corr_sum,
+             'å¹³æ–¹å’Œ (Î£rÂ²)': corr_just_squares
          }
+         
          best_method = max(correlations, key=correlations.get)
-         
-         if best_method == 'sum_squares':
+         print(f"\n=== æœ€ä½³åŒ¹é…æ–¹æ³• ===")
+         print(f"ç›¸å…³æ€§æœ€é«˜çš„æ–¹æ³•: {best_method} (ç›¸å…³æ€§: {correlations[best_method]:.6f})")
+         
+         # è¯¦ç»†æ¯”è¾ƒå‰10ä¸ªæ•°æ®ç‚¹
+         print(f"\n=== å‰10ä¸ªæ•°æ®ç‚¹è¯¦ç»†æ¯”è¾ƒ ===")
+         print("åºå·\tåŸå§‹final_cost\tCereså…¬å¼\tå¹³æ–¹å’Œ\t\tå¹³æ–¹å’Œå¼€æ ¹å·")
+         for i in range(min(10, len(df))):
+             print(f"{i+1}\t{existing_final_cost.iloc[i]:.6f}\t\t{calculated_final_cost_ceres_formula.iloc[i]:.6f}\t{calculated_final_cost_just_squares.iloc[i]:.6f}\t{calculated_final_cost_sum_squares.iloc[i]:.6f}")
+         
+         # é€‰æ‹©æœ€ä¼˜æ–¹æ³•ä½œä¸ºæ–°çš„è®¡ç®—ç»“æœ
+         if corr_ceres >= max(corr_sum_squares, corr_sum, corr_just_squares):
+             new_final_cost = calculated_final_cost_ceres_formula
+             method_name = "Cereså…¬å¼ (0.5*Î£rÂ²)"
+         elif corr_just_squares >= max(corr_sum_squares, corr_sum):
+             new_final_cost = calculated_final_cost_just_squares
+             method_name = "å¹³æ–¹å’Œ (Î£rÂ²)"
+         elif corr_sum_squares >= corr_sum:
              new_final_cost = calculated_final_cost_sum_squares
-             print(f"\né€‰æ‹©å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³• (ç›¸å…³æ€§: {corr_sum_squares:.4f})")
-         elif best_method == 'sum':
+             method_name = "å¹³æ–¹å’Œå¼€æ ¹å· (âˆšÎ£rÂ²)"
+         else:
              new_final_cost = calculated_final_cost_sum
-             print(f"\né€‰æ‹©ç›´æ¥æ±‚å’Œæ–¹æ³• (ç›¸å…³æ€§: {corr_sum:.4f})")
-         else:
-             new_final_cost = calculated_final_cost_weighted
-             print(f"\né€‰æ‹©åŠ æƒå¹³æ–¹å’Œæ–¹æ³• (ç›¸å…³æ€§: {corr_weighted:.4f})")
+             method_name = "ç›´æ¥æ±‚å’Œ (Î£r)"
+         
+         print(f"\né€‰æ‹©æ–¹æ³•: {method_name}")
+         
      else:
-         # å¦‚æœæ²¡æœ‰ç°æœ‰çš„final_coståˆ—ï¼Œé»˜è®¤ä½¿ç”¨å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³•
-         new_final_cost = calculated_final_cost_sum_squares
-         print(f"\nä½¿ç”¨é»˜è®¤çš„å¹³æ–¹å’Œå¼€æ ¹å·æ–¹æ³•")
+         # å¦‚æœæ²¡æœ‰ç°æœ‰çš„final_coståˆ—ï¼Œä½¿ç”¨Cereså…¬å¼
+         new_final_cost = calculated_final_cost_ceres_formula
+         method_name = "Cereså…¬å¼ (0.5*Î£rÂ²)"
+         print(f"\nä½¿ç”¨Ceresæºç å…¬å¼: {method_name}")
      
-     # æ·»åŠ æˆ–æ›´æ–°final_coståˆ—
+     # æ·»åŠ è®¡ç®—ç»“æœåˆ°æ•°æ®æ¡†
      df['calculated_final_cost'] = new_final_cost
+     df['ceres_formula_cost'] = calculated_final_cost_ceres_formula
+     df['sum_squares_cost'] = calculated_final_cost_just_squares
      
      # ä¿å­˜åˆ°åŸæ–‡ä»¶
      df.to_csv(csv_file_path, index=False)
      print(f"\nè®¡ç®—å®Œæˆï¼Œç»“æœå·²ä¿å­˜åˆ°: {csv_file_path}")
-     print(f"æ–°å¢åˆ—: calculated_final_cost")
-     print(f"\ncalculated_final_costç»Ÿè®¡:")
-     print(f"æœ€å°å€¼: {new_final_cost.min():.6f}")
-     print(f"æœ€å¤§å€¼: {new_final_cost.max():.6f}")
-     print(f"å¹³å‡å€¼: {new_final_cost.mean():.6f}")
-     print(f"æ ‡å‡†å·®: {new_final_cost.std():.6f}")
+     print(f"æ–°å¢åˆ—: calculated_final_cost, ceres_formula_cost, sum_squares_cost")
+     print(f"ä½¿ç”¨çš„è®¡ç®—æ–¹æ³•: {method_name}")
+     
+     return df
  
  if __name__ == "__main__":
      csv_file_path = "evaluate/imu_residual/correlation_analysis_results/R1M1_Proposed_matched_data_weighted.csv"
-     calculate_final_cost(csv_file_path) 
+     result_df = calculate_final_cost(csv_file_path) 
```

---

ç°åœ¨è®©æˆ‘è¿è¡Œè¿™ä¸ªæ”¹è¿›çš„ç¨‹åºæ¥åˆ†æå››ä¸ªæ®‹å·®é¡¹ä¸åŸæœ‰final_costçš„å…³ç³»ï¼š

---

Cancelled

---



---

_**User**_

åœ¨å“ªé‡Œè¢«è°ƒç”¨

---

_**Assistant**_

è®©æˆ‘æŸ¥æ‰¾`SetSummaryFinalCost`å‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼š

---

<details>
            <summary>Grep search for "SetSummaryFinalCost" â€¢ **7** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L174 | `âŸª 102 characters skipped âŸ«nal/ceres/solver_utils.h` | L50 | `void SetSummaryFinalCost(SummaryType* summary) {` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L198 | `âŸª 110 characters skipped âŸ«s/gradient_problem_solver.cc` | L178 | `SetSummaryFinalCost(summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L207 | `âŸª 103 characters skipped âŸ«al/ceres/solver.cc` | L375 | `internal::SetSummaryFinalCost(summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L517 | `<summary>Searched codebase "SetSummaryFinalCost" â€¢ **25** results</summary>` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L551 | `ç°åœ¨è®©æˆ‘æŸ¥çœ‹`SetSummaryFinalCost`å‡½æ•°çš„å…·ä½“å®ç°ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L568 | `void SetSummaryFinalCost(SummaryType* summary) {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L611 | `æ‚¨è¯´å¾—å¯¹ï¼Œæˆ‘ä¹‹å‰åªæ‰¾åˆ°äº†`SetSummaryFinalCost`å‡½æ•°ï¼Œå®ƒåªæ˜¯ä»è¿­ä»£ä¸­é€‰æ‹©æœ€å°çš„costå€¼ï¼Œä½†æ²¡æœ‰æ‰¾åˆ°costæœ¬èº«æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚è®©æˆ‘ç»§ç»­æ·±å…¥æœç´¢costçš„å…·ä½“è®¡ç®—å…¬å¼ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L773 | `### 3. Final Costçš„ç¡®å®š (SetSummaryFinalCost)` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L777 | `void SetSummaryFinalCost(SummaryType* summary) {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver_utils.h` | L50 | `void SetSummaryFinalCost(SummaryType* summary) {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L375 | `internal::SetSummaryFinalCost(summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L105 | `using internal::SetSummaryFinalCost;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L178 | `SetSummaryFinalCost(summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L375 | `internal::SetSummaryFinalCost(summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver_utils.h` | L50 | `void SetSummaryFinalCost(SummaryType* summary) {` |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹è¿™ä¸¤ä¸ªä¸»è¦çš„è°ƒç”¨ä½ç½®ï¼š

---

Read file: ceres-solver-modified/internal/ceres/solver.cc

---

Read file: ceres-solver-modified/internal/ceres/gradient_problem_solver.cc

---

ç°åœ¨æˆ‘æ¸…æ¥šåœ°çœ‹åˆ°äº†`SetSummaryFinalCost`å‡½æ•°çš„è°ƒç”¨ä½ç½®å’Œæ—¶æœºï¼š

## `SetSummaryFinalCost`çš„è°ƒç”¨ä½ç½®

### 1. **ä¸»è¦è°ƒç”¨ä½ç½®**ï¼š

**ä½ç½®1**: `ceres-solver-modified/internal/ceres/solver.cc` ç¬¬375è¡Œ
```cpp
void PostSolveSummarize(const internal::PreprocessedProblem& pp,
                        Solver::Summary* summary) {
  // ... å…¶ä»–ä»£ç  ...
  
  internal::SetSummaryFinalCost(summary);  // â† è¿™é‡Œè°ƒç”¨
  
  // ... å…¶ä»–ä»£ç  ...
}
```

**ä½ç½®2**: `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` ç¬¬178è¡Œ
```cpp
void GradientProblemSolver::Solve(...) {
  // ... ä¼˜åŒ–è¿‡ç¨‹ ...
  
  if (summary->IsSolutionUsable()) {
    parameters = solution;
    SetSummaryFinalCost(summary);  // â† è¿™é‡Œè°ƒç”¨
  }
  
  // ... å…¶ä»–ä»£ç  ...
}
```

### 2. **è°ƒç”¨æ—¶æœº**ï¼š

1. **åœ¨ä¸»æ±‚è§£å™¨ä¸­**ï¼ˆ`solver.cc`ï¼‰ï¼š
   - åœ¨ä¼˜åŒ–å®Œæˆåçš„**åå¤„ç†é˜¶æ®µ**ï¼ˆ`PostSolveSummarize`ï¼‰
   - åœ¨æ‰€æœ‰è¿­ä»£éƒ½å®Œæˆä¹‹å
   - ç”¨äºè®¾ç½®æœ€ç»ˆçš„summaryæŠ¥å‘Š

2. **åœ¨æ¢¯åº¦é—®é¢˜æ±‚è§£å™¨ä¸­**ï¼ˆ`gradient_problem_solver.cc`ï¼‰ï¼š
   - åœ¨ä¼˜åŒ–å®Œæˆå
   - åªæœ‰å½“è§£æ˜¯å¯ç”¨çš„æ—¶å€™ï¼ˆ`IsSolutionUsable()`ï¼‰
   - åœ¨è¿”å›æœ€ç»ˆç»“æœä¹‹å‰

### 3. **è°ƒç”¨æµç¨‹**ï¼š

```
ä¼˜åŒ–å¼€å§‹
    â†“
å„ç§è¿­ä»£è¿‡ç¨‹ (æ¯æ¬¡è¿­ä»£éƒ½ä¼šè®°å½• iteration_summary.cost)
    â†“
ä¼˜åŒ–ç»“æŸ
    â†“
PostSolveSummarize() æˆ– GradientProblemSolver::Solve()
    â†“
SetSummaryFinalCost(summary) â† åœ¨è¿™é‡Œè¢«è°ƒç”¨
    â†“
ä»æ‰€æœ‰è¿­ä»£çš„costä¸­é€‰æ‹©æœ€å°å€¼ä½œä¸ºfinal_cost
    â†“
è¿”å›æœ€ç»ˆç»“æœç»™ç”¨æˆ·
```

### 4. **å…³é”®ç‚¹**ï¼š

- `SetSummaryFinalCost`æ˜¯åœ¨**æ‰€æœ‰ä¼˜åŒ–è¿­ä»£å®Œæˆä¹‹å**æ‰è¢«è°ƒç”¨çš„
- å®ƒçš„ä½œç”¨æ˜¯ä»`summary->iterations`ä¸­çš„æ‰€æœ‰`iteration_summary.cost`ä¸­é€‰æ‹©**æœ€å°å€¼**
- è¿™ç¡®ä¿äº†å³ä½¿ä¼˜åŒ–è¿‡ç¨‹ä¸­æœ‰éå•è°ƒæ­¥éª¤ï¼Œfinal_costä¹Ÿæ˜¯æ•´ä¸ªä¼˜åŒ–è¿‡ç¨‹ä¸­çš„æœ€ä½³costå€¼

è¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆCSVæ–‡ä»¶ä¸­çš„`final_cost`æ˜¯ç»è¿‡å®Œæ•´ä¼˜åŒ–è¿‡ç¨‹åçš„æœ€ç»ˆç»“æœï¼Œè€Œä¸æ˜¯æŸä¸ªç‰¹å®šè¿­ä»£çš„costå€¼ã€‚

---

_**User**_

åœ¨å“ªé‡Œè¢«è°ƒç”¨

---

_**Assistant**_

è®©æˆ‘æŸ¥æ‰¾`Minimize`å‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼š

---

Model provided invalid arguments to grep tool.

---

Model provided invalid arguments to grep tool.

---

Model provided invalid arguments to grep tool.

---

Model provided invalid arguments to grep tool.

---

<details>
            <summary>Grep search for "Minimize.*pp.*summary" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L419 | `void Minimize(internal::PreprocessedProblem* pp, Solver::Summary* summary) {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L441 | `pp->minimizer_options, pp->reduced_parameters.data(), summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L574 | `Minimize(&pp, summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L419 | `void Minimize(internal::PreprocessedProblem* pp, Solver::Summary* summary) {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L441 | `pp->minimizer_options, pp->reduced_parameters.data(), summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L574 | `Minimize(&pp, summary);` |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹ç¬¬574è¡Œçš„è°ƒç”¨ä¸Šä¸‹æ–‡ï¼š

---

Read file: ceres-solver-modified/internal/ceres/solver.cc

---

è®©æˆ‘æŸ¥çœ‹è¿™ä¸ªå‡½æ•°çš„æ›´ä¸Šå±‚è°ƒç”¨ï¼š

---

<details>
            <summary>Grep search for "Solver::Solve" â€¢ **15** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L1089 | `void GradientProblemSolver::Solve(...) {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L1122 | `PostSolveSummarize() æˆ– GradientProblemSolver::Solve()` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-25_03-18-imu%E4%BD%8D%E7%BD%AE%E6%AE%8B%E5%B7%AE%E8%BE%93%E5%87%BA%E6%9F%A5%E8%AF%A2.md` | L962 | `âŸª 101 characters skipped âŸ«/source/version_history.rst` | L1129 | `Solver::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/cgnr_solver.cc` | L58 | `LinearSolver::Summary CgnrSolver::SolveImpl(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/cgnr_solver.cc` | L63 | `EventLogger event_logger("CgnrSolver::Solve");` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/schur_complement_solver.cc` | L125 | `LinearSolver::Summary SchurComplementSolver::SolveImpl(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/schur_complement_solver.cc` | L130 | `EventLogger event_logger("SchurComplementSolver::Solve");` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/schur_complement_solver.cc` | L222 | `LinearSolver::Summary DenseSchurComplementSolver::SolveReducedLinearSystem(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/schur_complement_solver.cc` | L350 | `LinearSolver::Summary SparseSchurComplementSolver::SolveReducedLinearSystem(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/schur_complement_solver.cc` | L390 | `SparseSchurComplementSolver::SolveReducedLinearSystemUsingConjugateGradients(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/conjugate_gradients_solver.cc` | L62 | `LinearSolver::Summary ConjugateGradientsSolver::Solve(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L413 | `linear_solver_statistics, "LinearSolver::Solve", CallStatistics());` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L489 | `void Solver::Solve(const Solver::Options& options,` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L96 | `void GradientProblemSolver::Solve(const GradientProblemSolver::Options& options,` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dense_normal_cholesky_solver.cc` | L50 | `LinearSolver::Summary DenseNormalCholeskySolver::SolveImpl(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dense_normal_cholesky_solver.cc` | L62 | `LinearSolver::Summary DenseNormalCholeskySolver::SolveUsingEigen(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dense_normal_cholesky_solver.cc` | L67 | `EventLogger event_logger("DenseNormalCholeskySolver::Solve");` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dense_normal_cholesky_solver.cc` | L113 | `LinearSolver::Summary DenseNormalCholeskySolver::SolveUsingLAPACK(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dense_normal_cholesky_solver.cc` | L118 | `EventLogger event_logger("DenseNormalCholeskySolver::Solve");` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dynamic_sparse_normal_cholesky_solver.cc` | L59 | `LinearSolver::Summary DynamicSparseNormalCholeskySolver::SolveImpl(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dynamic_sparse_normal_cholesky_solver.cc` | L107 | `LinearSolver::Summary DynamicSparseNormalCholeskySolver::SolveImplUsingEigen(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dynamic_sparse_normal_cholesky_solver.cc` | L175 | `LinearSolver::Summary DynamicSparseNormalCholeskySolver::SolveImplUsingCXSparse(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dynamic_sparse_normal_cholesky_solver.cc` | L228 | `DynamicSparseNormalCholeskySolver::SolveImplUsingSuiteSparse(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/iterative_schur_complement_solver.cc` | L61 | `LinearSolver::Summary IterativeSchurComplementSolver::SolveImpl(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/iterative_schur_complement_solver.cc` | L66 | `EventLogger event_logger("IterativeSchurComplementSolver::Solve");` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dense_qr_solver.cc` | L50 | `LinearSolver::Summary DenseQRSolver::SolveImpl(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dense_qr_solver.cc` | L62 | `LinearSolver::Summary DenseQRSolver::SolveUsingLAPACK(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dense_qr_solver.cc` | L67 | `EventLogger event_logger("DenseQRSolver::Solve");` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dense_qr_solver.cc` | L120 | `LinearSolver::Summary DenseQRSolver::SolveUsingEigen(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/dense_qr_solver.cc` | L125 | `EventLogger event_logger("DenseQRSolver::Solve");` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/sparse_normal_cholesky_solver.cc` | L58 | `LinearSolver::Summary SparseNormalCholeskySolver::SolveImpl(` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/sparse_normal_cholesky_solver.cc` | L63 | `EventLogger event_logger("SparseNormalCholeskySolver::Solve");` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/linear_solver.h` | L309 | `ScopedExecutionTimer total_time("LinearSolver::Solve", &execution_summary_);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/docs/source/version_history.rst` | L1129 | `Solver::Solve(options, &problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L413 | `linear_solver_statistics, "LinearSolver::Solve", CallStatistics());` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L489 | `void Solver::Solve(const Solver::Options& options,` |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹Solver::Solveå‡½æ•°çš„å®Œæ•´å®šä¹‰ï¼š

---

Read file: ceres-solver-modified/internal/ceres/solver.cc

---

ç°åœ¨è®©æˆ‘æœç´¢è¿™ä¸ªSolver::Solveå‡½æ•°åœ¨é¡¹ç›®ä¸­çš„å®é™…è°ƒç”¨ä½ç½®ï¼š

---

<details>
            <summary>Searched codebase "ceres::Solve" â€¢ **25** results</summary>
        
| File | Lines |
|------|-------|
| `ceres-solver-modified/internal/ceres/c_api.cc` | L150-186 |
| `ceres-solver-modified/internal/ceres/covariance_impl.cc` | L813-876 |
| `ceres-solver-modified/examples/denoising.cc` | L258-303 |
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L101-149 |
| `ceres-solver-modified/internal/ceres/covariance_impl.cc` | L299-336 |
| `rtk_visual_inertial_src/camera_models/src/calib/CameraCalibration.cc` | L510-572 |
| `ceres-solver-modified/examples/denoising.cc` | L157-192 |
| `ceres-solver-modified/internal/ceres/iterative_refiner.cc` | L47-76 |
| `ceres-solver-modified/internal/ceres/eigensparse.cc` | L88-136 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L377-426 |
| `ceres-solver-modified/examples/libmv_homography.cc` | L314-364 |
| `ceres-solver-modified/internal/ceres/problem_impl.cc` | L698-742 |
| `ceres-solver-modified/internal/ceres/dynamic_sparse_normal_cholesky_solver.cc` | L56-111 |
| `ceres-solver-modified/include/ceres/solver.h` | L1017-1064 |
| `ceres-solver-modified/internal/ceres/lapack.h` | L29-87 |
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L149-201 |
| `ceres-solver-modified/internal/ceres/covariance_impl.cc` | L636-689 |
| `ceres-solver-modified/include/ceres/tiny_solver.h` | L218-247 |
| `ceres-solver-modified/internal/ceres/dense_qr_solver.cc` | L127-170 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L457-493 |
| `ceres-solver-modified/internal/ceres/lapack.cc` | L41-74 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L493-548 |
| `rtk_visual_inertial_src/camera_models/src/calib/CameraCalibration.cc` | L467-510 |
| `ceres-solver-modified/internal/ceres/dynamic_sparse_normal_cholesky_solver.cc` | L111-166 |
| `ceres-solver-modified/examples/slam/pose_graph_3d/pose_graph_3d.cc` | L50-92 |

</details>

---

ç°åœ¨æˆ‘æœç´¢é¡¹ç›®ä¸­å®é™…è°ƒç”¨Ceresæ±‚è§£çš„ä½ç½®ï¼š

---

<details>
            <summary>Grep search for "ceres::Solve.*options.*problem.*summary" â€¢ **5** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-29_10-50-%E6%9F%A5%E6%89%BEimu%E4%BD%8D%E7%BD%AE%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E4%BB%A3%E7%A0%81.md` | L199 | `âŸª 159 characters skipped âŸ« Ceres çš„ä¼˜åŒ–é—®é¢˜ (`ceres::Problem`) ä¸­åï¼Œå½“è°ƒç”¨ `ceres::Solve(options, &problem, &summary)` æ¥æ±‚è§£è¯¥é—®é¢˜æ—¶ï¼ŒCeres Solver ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨è¿™ä¸ª `Evaluate` æ–¹æ³•ã€‚å®ƒéœ€è¦è®¡ç®—æ®‹å·®å‘é‡ (residuals) å’Œé›…å¯æ¯”çŸ©é˜µ (jacobians) ä»¥æŒ‡å¯¼ä¼˜åŒ–æ–¹å‘ã€‚` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-29_11-24-%E8%BE%93%E5%87%BA%E6%AE%8B%E5%B7%AE%E5%92%8C%E4%BD%8D%E7%BD%AE%E8%AF%AF%E5%B7%AE%E5%88%B0csv.md` | L426 | `+         ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-29_11-24-%E8%BE%93%E5%87%BA%E6%AE%8B%E5%B7%AE%E5%92%8C%E4%BD%8D%E7%BD%AE%E8%AF%AF%E5%B7%AE%E5%88%B0csv.md` | L437 | `+         ceres::Solve(options, &problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L142 | `âŸª 374 characters skipped âŸ« Ceres çš„ä¼˜åŒ–é—®é¢˜ (`ceres::Problem`) ä¸­åï¼Œå½“è°ƒç”¨ `ceres::Solve(options, &problem, &summary)` æ¥æ±‚è§£è¯¥é—®é¢˜æ—¶ï¼ŒCeres Solver ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨è¿™ä¸ª` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L412 | `ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L454 | `ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L456 | `ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L463 | `ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L478 | `ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L532 | `ceres::Solve(options, &problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L884 | `ceres::Solve(my_options, &my_problem, &summary);  // é‡è¯•` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2165 | `âŸª 245 characters skipped âŸ« Ceres çš„ä¼˜åŒ–é—®é¢˜ (`ceres::Problem`) ä¸­åï¼Œå½“è°ƒç”¨ `ceres::Solve(options, &problem, &summary)` æ¥æ±‚è§£è¯¥é—®é¢˜æ—¶ï¼ŒCeres Solver ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨è¿™ä¸ª `Evaluate` æ–¹æ³•ã€‚å®ƒéœ€è¦è®¡ç®—æ®‹å·®å‘é‡ (residuals) å’Œé›…å¯æ¯”çŸ©é˜µ (jacobians) ä»¥æŒ‡å¯¼ä¼˜åŒ–æ–¹å‘ã€‚` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2166 | `âŸª 242 characters skipped âŸ« Ceres çš„ä¼˜åŒ–é—®é¢˜ (`ceres::Problem`) ä¸­åï¼Œå½“è°ƒç”¨ `ceres::Solve(options, &problem, &summary)` æ¥æ±‚è§£è¯¥é—®é¢˜æ—¶ï¼ŒCeres Solver ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨è¿™ä¸ª` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2169 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L412 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2170 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L454 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2171 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L456 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2172 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L463 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2175 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L478 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2176 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L532 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2177 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L884 | `ceres::Solve(my_options, &my_problem, &summary);  // é‡è¯•` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2217 | `âŸª 189 characters skipped âŸ«%AE%E5%88%B0csv.md` | L426 | `+         ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2220 | `âŸª 189 characters skipped âŸ«%AE%E5%88%B0csv.md` | L437 | `+         ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2237 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_gnss.cpp` | L147 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2241 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_gnss.cpp` | L213 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2244 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_gnss.cpp` | L570 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2261 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_core.cpp` | L407 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2263 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_core.cpp` | L426 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2268 | `âŸª 112 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L218 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2269 | `âŸª 112 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L220 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2275 | `âŸª 112 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L410 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2633 | `ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2832 | `ceres::Solve(options, &problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3281 | `ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3303 | `ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3306 | `ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3936 | `ceres::Solve(my_options, &my_problem, &summary);  // å®Œæ•´ä¼˜åŒ–` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3940 | `ceres::Solve(my_options, &my_problem, &summary); // åŒä¸€ä¸ªmy_problem` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L4302 | `ceres::Solve(my_options, &my_problem, &summary);` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_16-54-%E6%89%BE%E5%88%B0%E7%A3%81%E5%8A%9B%E8%AE%A1%E6%AE%8B%E5%B7%AE%E7%9A%84%E8%AE%A1%E7%AE%97%E4%BD%8D%E7%BD%AE.md` | L642 | `âŸª 374 characters skipped âŸ« Ceres çš„ä¼˜åŒ–é—®é¢˜ (`ceres::Problem`) ä¸­åï¼Œå½“è°ƒç”¨ `ceres::Solve(options, &problem, &summary)` æ¥æ±‚è§£è¯¥é—®é¢˜æ—¶ï¼ŒCeres Solver ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨è¿™ä¸ª `Evaluate` æ–¹æ³•ã€‚å®ƒéœ€è¦è®¡ç®—æ®‹å·®å‘é‡ (residuals) å’Œé›…å¯æ¯”çŸ©é˜µ (jacobians) ä»¥` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_16-54-%E6%89%BE%E5%88%B0%E7%A3%81%E5%8A%9B%E8%AE%A1%E6%AE%8B%E5%B7%AE%E7%9A%84%E8%AE%A1%E7%AE%97%E4%BD%8D%E7%BD%AE.md` | L689 | `âŸª 308 characters skipped âŸ« Ceres çš„ä¼˜åŒ–é—®é¢˜ (`ceres::Problem`) ä¸­åï¼Œå½“è°ƒç”¨ `ceres::Solve(options, &problem, &summary)` æ¥æ±‚è§£è¯¥é—®é¢˜æ—¶ï¼ŒCeres Solver ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨è¿™ä¸ª` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L137 | `âŸª 245 characters skipped âŸ« Ceres çš„ä¼˜åŒ–é—®é¢˜ (`ceres::Problem`) ä¸­åï¼Œå½“è°ƒç”¨ `ceres::Solve(options, &problem, &summary)` æ¥æ±‚è§£è¯¥é—®é¢˜æ—¶ï¼ŒCeres Solver ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨è¿™ä¸ª `Evaluate` æ–¹æ³•ã€‚å®ƒéœ€è¦è®¡ç®—æ®‹å·®å‘é‡ (residuals) å’Œé›…å¯æ¯”çŸ©é˜µ (jacobians) ä»¥æŒ‡å¯¼ä¼˜åŒ–æ–¹å‘ã€‚` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L138 | `âŸª 189 characters skipped âŸ«%AE%E5%88%B0csv.md` | L426 | `+         ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L139 | `âŸª 189 characters skipped âŸ«%AE%E5%88%B0csv.md` | L437 | `+         ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L140 | `âŸª 242 characters skipped âŸ« Ceres çš„ä¼˜åŒ–é—®é¢˜ (`ceres::Problem`) ä¸­åï¼Œå½“è°ƒç”¨ `ceres::Solve(options, &problem, &summary)` æ¥æ±‚è§£è¯¥é—®é¢˜æ—¶ï¼ŒCeres Solver ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨è¿™ä¸ª` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L141 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L412 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L142 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L454 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L143 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L456 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L144 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L463 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L145 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L478 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L146 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L532 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L147 | `âŸª 176 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L884 | `ceres::Solve(my_options, &my_problem, &summary);  // é‡è¯•` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L148 | `âŸª 243 characters skipped âŸ« Ceres çš„ä¼˜åŒ–é—®é¢˜ (`ceres::Problem`) ä¸­åï¼Œå½“è°ƒç”¨ `ceres::Solve(options, &problem, &summary)` æ¥æ±‚è§£è¯¥é—®é¢˜æ—¶ï¼ŒCeres Solver ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨è¿™ä¸ª `Evaluate` æ–¹æ³•ã€‚å®ƒéœ€è¦è®¡ç®—æ®‹å·®å‘é‡ (residuals) å’Œé›…å¯æ¯”çŸ©é˜µ (jacobians) ä»¥æŒ‡å¯¼ä¼˜åŒ–æ–¹å‘ã€‚` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L149 | `âŸª 243 characters skipped âŸ« Ceres çš„ä¼˜åŒ–é—®é¢˜ (`ceres::Problem`) ä¸­åï¼Œå½“è°ƒç”¨ `ceres::Solve(options, &problem, &summary)` æ¥æ±‚è§£è¯¥é—®é¢˜æ—¶ï¼ŒCeres Solver ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡è¿­ä»£ä¸­è°ƒç”¨è¿™ä¸ª` |` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L150 | `âŸª 243 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L412 | `ceres::Solve(my_options, &my_problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L151 | `âŸª 243 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L454 | `ceres::Solve(my_options, &my_problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L152 | `âŸª 243 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L456 | `ceres::Solve(my_options, &my_problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L153 | `âŸª 243 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L463 | `ceres::Solve(my_options, &my_problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L154 | `âŸª 243 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L478 | `ceres::Solve(my_options, &my_problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L155 | `âŸª 243 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L532 | `ceres::Solve(options, &problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L156 | `âŸª 243 characters skipped âŸ«7%AE%97%E6%96%B9%E6%B3%95.md` | L884 | `ceres::Solve(my_options, &my_problem, &summary);  // é‡è¯•` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L157 | `âŸª 243 characters skipped âŸ«%AE%E5%88%B0csv.md` | L426 | `+         ceres::Solve(my_options, &my_problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L158 | `âŸª 243 characters skipped âŸ«%AE%E5%88%B0csv.md` | L437 | `+         ceres::Solve(options, &problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L159 | `âŸª 243 characters skipped âŸ«nertial/src/swf/swf_gnss.cpp` | L147 | `ceres::Solve(my_options, &my_problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L160 | `âŸª 243 characters skipped âŸ«nertial/src/swf/swf_gnss.cpp` | L213 | `ceres::Solve(options, &problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L161 | `âŸª 243 characters skipped âŸ«nertial/src/swf/swf_gnss.cpp` | L570 | `ceres::Solve(options, &problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L162 | `âŸª 243 characters skipped âŸ«nertial/src/swf/swf_core.cpp` | L407 | `ceres::Solve(options, &problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L163 | `âŸª 243 characters skipped âŸ«nertial/src/swf/swf_core.cpp` | L426 | `ceres::Solve(options, &problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L164 | `âŸª 243 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L218 | `ceres::Solve(my_options, &my_problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L165 | `âŸª 243 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L220 | `ceres::Solve(my_options, &my_problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L166 | `âŸª 243 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L410 | `ceres::Solve(my_options, &my_problem, &summary);` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L167 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L2633 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L168 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L2832 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L169 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L3281 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L170 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L3303 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L171 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L3306 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L172 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L3936 | `ceres::Solve(my_options, &my_problem, &summary);  // å®Œæ•´ä¼˜åŒ–` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L173 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L3940 | `ceres::Solve(my_options, &my_problem, &summary); // åŒä¸€ä¸ªmy_problem` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L174 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L4302 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L175 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_gnss.cpp` | L149 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L176 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_gnss.cpp` | L227 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L177 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_gnss.cpp` | L584 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L178 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_core.cpp` | L407 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L179 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_core.cpp` | L426 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L180 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_core.cpp` | L454 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L181 | `âŸª 115 characters skipped âŸ«c/calib/CameraCalibration.cc` | L524 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L182 | `âŸª 112 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L220 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L183 | `âŸª 112 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L223 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L184 | `âŸª 112 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L420 | `ceres::Solve(my_options, &my_problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L185 | `âŸª 98 characters skipped âŸ«ocs/source/nnls_tutorial.rst` | L725 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L186 | `âŸª 101 characters skipped âŸ«/source/gradient_tutorial.rst` | L65 | `ceres::Solve(options, problem, parameters, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L187 | `âŸª 112 characters skipped âŸ«line_search_minimizer_test.cc` | L60 | `ceres::Solve(options, problem, parameters, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L188 | `| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/c_api.cc` | L182 | `ceres::Solve(options, problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L189 | `âŸª 114 characters skipped âŸ«adient_problem_solver_test.cc` | L67 | `ceres::Solve(options, problem, parameters, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L190 | `âŸª 115 characters skipped âŸ«dient_problem_solver_test.cc` | L115 | `ceres::Solve(options, problem, &x, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L191 | `âŸª 115 characters skipped âŸ«dient_problem_solver_test.cc` | L126 | `ceres::Solve(options, problem, &x, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L192 | `âŸª 103 characters skipped âŸ«es/rosenbrock_numeric_diff.cc` | L61 | `ceres::Solve(options, problem, parameters, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L193 | `| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/examples/rosenbrock.cc` | L60 | `ceres::Solve(options, problem, parameters, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L194 | `âŸª 97 characters skipped âŸ«examples/libmv_homography.cc` | L353 | `ceres::Solve(solver_options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L195 | `âŸª 102 characters skipped âŸ«les/libmv_bundle_adjuster.cc` | L779 | `ceres::Solve(options, &problem, &summary);` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L196 | `âŸª 104 characters skipped âŸ«s/rosenbrock_analytic_diff.cc` | L67 | `ceres::Solve(options, problem, parameters, &summary);` |` |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹é¡¹ç›®ä¸­å®é™…çš„Ceresè°ƒç”¨ä½ç½®ï¼š

---

Could not find file 'rtk_visual_inertial_src/swf/swf_core.cpp' in the workspace.

---

Read file: rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_core.cpp

---

æ ¹æ®æˆ‘çš„æ·±å…¥åˆ†æï¼Œç°åœ¨æˆ‘å¯ä»¥å®Œæ•´å›ç­”æ‚¨çš„é—®é¢˜ï¼š

## `SetSummaryFinalCost`å‡½æ•°çš„è°ƒç”¨ä½ç½®

`SetSummaryFinalCost`å‡½æ•°åœ¨ä»¥ä¸‹ä½ç½®è¢«è°ƒç”¨ï¼š

### 1. **ä¸»è¦è°ƒç”¨ä½ç½®**

**ä½ç½®1**: `ceres-solver-modified/internal/ceres/solver.cc` ç¬¬584è¡Œ
```cpp
void Solver::Solve(const Solver::Options& options,
                   Problem* problem,
                   Solver::Summary* summary) {
    // ... é¢„å¤„ç† ...
    
    if (status) {
        const double minimizer_start_time = WallTimeInSeconds();
        Minimize(&pp, summary);  // â† è¿™é‡Œè°ƒç”¨Minimizeå‡½æ•°
        summary->minimizer_time_in_seconds = 
            WallTimeInSeconds() - minimizer_start_time;
    }
    
    // ... å…¶ä»–å¤„ç† ...
    
    PostSolveSummarize(pp, summary);  // â† è¿™é‡Œè°ƒç”¨PostSolveSummarize
    
    // ... å…¶ä»–å¤„ç† ...
}
```

**ä½ç½®2**: `ceres-solver-modified/internal/ceres/solver.cc` ç¬¬375è¡Œï¼ˆåœ¨`PostSolveSummarize`å‡½æ•°ä¸­ï¼‰
```cpp
void PostSolveSummarize(const internal::PreprocessedProblem& pp,
                        Solver::Summary* summary) {
    // ... å…¶ä»–ä»£ç  ...
    
    internal::SetSummaryFinalCost(summary);  // â† è¿™é‡Œè°ƒç”¨
    
    // ... å…¶ä»–ä»£ç  ...
}
```

**ä½ç½®3**: `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` ç¬¬178è¡Œ
```cpp
void GradientProblemSolver::Solve(...) {
    // ... ä¼˜åŒ–è¿‡ç¨‹ ...
    
    if (summary->IsSolutionUsable()) {
        parameters = solution;
        SetSummaryFinalCost(summary);  // â† è¿™é‡Œè°ƒç”¨
    }
    
    // ... å…¶ä»–ä»£ç  ...
}
```

### 2. **è°ƒç”¨å±‚æ¬¡ç»“æ„**

```
ç”¨æˆ·ä»£ç è°ƒç”¨ ceres::Solve()
    â†“
Solver::Solve() [solver.cc:489]
    â†“
Minimize() [solver.cc:574] 
    â†“
PostSolveSummarize() [solver.cc:584]
    â†“
SetSummaryFinalCost() [solver_utils.h:50]
```

### 3. **é¡¹ç›®ä¸­çš„å®é™…è°ƒç”¨ä½ç½®**

åœ¨æ‚¨çš„RTKé¡¹ç›®ä¸­ï¼Œ`ceres::Solve`è¢«è°ƒç”¨çš„ä¸»è¦ä½ç½®åŒ…æ‹¬ï¼š

- `rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_core.cpp` ç¬¬407ã€426è¡Œ
- `rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_gnss.cpp` å¤šå¤„
- `rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_image.cpp` å¤šå¤„
- `rtk_visual_inertial_src/camera_models/src/calib/CameraCalibration.cc` ç¬¬524è¡Œ

### 4. **è°ƒç”¨æ—¶æœº**

`SetSummaryFinalCost`å‡½æ•°åœ¨ä»¥ä¸‹æ—¶æœºè¢«è°ƒç”¨ï¼š

1. **ä¼˜åŒ–å®Œæˆå**ï¼šåœ¨æ‰€æœ‰è¿­ä»£å®Œæˆåï¼Œä½œä¸ºåå¤„ç†æ­¥éª¤çš„ä¸€éƒ¨åˆ†
2. **è§£å¯ç”¨æ—¶**ï¼šå½“ä¼˜åŒ–ç»“æœè¢«è®¤ä¸ºæ˜¯å¯ç”¨çš„è§£æ—¶
3. **Summaryç”Ÿæˆæ—¶**ï¼šåœ¨ç”Ÿæˆæœ€ç»ˆçš„æ±‚è§£æ‘˜è¦æ—¶

è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ä»æ‰€æœ‰è¿­ä»£ä¸­é€‰æ‹©æœ€å°çš„costå€¼ä½œä¸ºfinal_costï¼Œç¡®ä¿å³ä½¿ä¼˜åŒ–è¿‡ç¨‹ä¸­å‡ºç°éå•è°ƒæ­¥éª¤ï¼Œæœ€ç»ˆæŠ¥å‘Šçš„costä»ç„¶æ˜¯æœ€ä¼˜çš„ã€‚

---

_**User**_

ä»æ‰€æœ‰è¿­ä»£çš„costä¸­é€‰æ‹©æœ€å°å€¼ä½œä¸ºfinal_costæ˜¯åœ¨å“ªé‡Œå®ç°çš„

---

_**Assistant**_

è®©æˆ‘æŸ¥æ‰¾ä»æ‰€æœ‰è¿­ä»£ä¸­é€‰æ‹©æœ€å°costå€¼ä½œä¸ºfinal_costçš„å…·ä½“å®ç°ä½ç½®ï¼š

---

Read file: ceres-solver-modified/internal/ceres/solver_utils.h

---

æ‰¾åˆ°äº†ï¼ç°åœ¨è®©æˆ‘æŸ¥çœ‹IterationSummaryä¸­çš„costæ˜¯å¦‚ä½•è¢«è®¾ç½®çš„ï¼š

---

<details>
            <summary>Grep search for "iteration_summary\\.cost.*=" â€¢ **0** files</summary>
        
No results found
</details>

---

<details>
            <summary>Grep search for "cost.*=.*evaluator" â€¢ **0** files</summary>
        
No results found
</details>

---

<details>
            <summary>Searched codebase "IterationSummary cost assignment" â€¢ **25** results</summary>
        
| File | Lines |
|------|-------|
| `ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L399-431 |
| `ceres-solver-modified/include/ceres/iteration_callback.h` | L33-93 |
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L149-201 |
| `ceres-solver-modified/internal/ceres/solver_utils.h` | L29-66 |
| `ceres-solver-modified/docs/source/nnls_solving.rst` | L2086-2142 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L362-410 |
| `ceres-solver-modified/include/ceres/gradient_problem_solver.h` | L253-313 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L195-246 |
| `ceres-solver-modified/docs/source/nnls_solving.rst` | L1810-1863 |
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L201-254 |
| `ceres-solver-modified/include/ceres/iteration_callback.h` | L1-33 |
| `ceres-solver-modified/internal/ceres/gradient_problem_solver.cc` | L254-294 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L377-426 |
| `ceres-solver-modified/internal/ceres/line_search.cc` | L171-212 |
| `ceres-solver-modified/include/ceres/tiny_solver.h` | L218-247 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L495-548 |
| `ceres-solver-modified/internal/ceres/solver.cc` | L853-886 |
| `ceres-solver-modified/internal/ceres/line_search.cc` | L280-319 |
| `ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L89-148 |
| `ceres-solver-modified/include/ceres/solver.h` | L766-818 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L297-377 |
| `ceres-solver-modified/docs/source/nnls_solving.rst` | L1863-1913 |
| `ceres-solver-modified/docs/source/gradient_solver.rst` | L408-466 |
| `ceres-solver-modified/include/ceres/iteration_callback.h` | L93-194 |
| `ceres-solver-modified/internal/ceres/line_search_minimizer.cc` | L343-399 |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹Trust Region Minimizerä¸­costæ˜¯å¦‚ä½•è¢«è®¾ç½®çš„ï¼š

---

Read file: ceres-solver-modified/internal/ceres/trust_region_minimizer.cc

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹Trust Region Minimizerä¸­costæ˜¯å¦‚ä½•åœ¨æ¯æ¬¡è¿­ä»£ä¸­è¢«è®¾ç½®åˆ°iteration_summaryçš„ï¼š

---

<details>
            <summary>Grep search for "iteration_summary_\\.cost.*=" â€¢ **0** files</summary>
        
No results found
</details>

---

Read file: ceres-solver-modified/internal/ceres/trust_region_minimizer.cc

---

è®©æˆ‘æœç´¢Trust Region Minimizerçš„ä¸»è¦è¿­ä»£å¾ªç¯ï¼š

---

<details>
            <summary>Grep search for "iteration_summary_\\.cost" â€¢ **0** files</summary>
        
No results found
</details>

---

<details>
            <summary>Searched codebase "TrustRegionMinimizer Minimize main loop" â€¢ **25** results</summary>
        
| File | Lines |
|------|-------|
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.h` | L29-96 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L86-141 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L297-377 |
| `ceres-solver-modified/internal/ceres/trust_region_preprocessor.cc` | L332-363 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L54-86 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L581-626 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L781-812 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L687-729 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L495-548 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L377-426 |
| `ceres-solver-modified/include/ceres/tiny_solver.h` | L218-247 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L195-246 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L141-195 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L453-495 |
| `ceres-solver-modified/internal/ceres/dogleg_strategy.cc` | L84-145 |
| `ceres-solver-modified/internal/ceres/trust_region_preprocessor.cc` | L281-332 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L812-830 |
| `ceres-solver-modified/internal/ceres/minimizer.h` | L144-198 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L246-297 |
| `ceres-solver-modified/internal/ceres/minimizer.cc` | L41-92 |
| `ceres-solver-modified/include/ceres/tiny_solver.h` | L284-346 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.h` | L96-155 |
| `ceres-solver-modified/internal/ceres/dogleg_strategy.cc` | L54-84 |
| `ceres-solver-modified/internal/ceres/dogleg_strategy.cc` | L471-519 |
| `ceres-solver-modified/internal/ceres/trust_region_minimizer.cc` | L729-781 |

</details>

---

ç°åœ¨æˆ‘æ‰¾åˆ°äº†å®Œæ•´çš„ç­”æ¡ˆï¼è®©æˆ‘æ€»ç»“ä»æ‰€æœ‰è¿­ä»£ä¸­é€‰æ‹©æœ€å°costå€¼ä½œä¸ºfinal_costçš„å…·ä½“å®ç°ä½ç½®ï¼š

## ä»æ‰€æœ‰è¿­ä»£çš„costä¸­é€‰æ‹©æœ€å°å€¼ä½œä¸ºfinal_costçš„å®ç°ä½ç½®

### 1. **æ ¸å¿ƒå®ç°ä½ç½®**

**ä½ç½®**: `ceres-solver-modified/internal/ceres/solver_utils.h` ç¬¬50-58è¡Œ

```cpp
template <typename SummaryType>
void SetSummaryFinalCost(SummaryType* summary) {
  summary->final_cost = summary->initial_cost;
  // We need the loop here, instead of just looking at the last
  // iteration because the minimizer maybe making non-monotonic steps.
  for (int i = 0; i < summary->iterations.size(); ++i) {
    const IterationSummary& iteration_summary = summary->iterations[i];
    summary->final_cost = std::min(iteration_summary.cost, summary->final_cost);
  }
}
```

**å…³é”®é€»è¾‘**ï¼š
1. åˆå§‹åŒ–ï¼š`summary->final_cost = summary->initial_cost`
2. éå†æ‰€æœ‰è¿­ä»£ï¼š`for (int i = 0; i < summary->iterations.size(); ++i)`
3. é€‰æ‹©æœ€å°å€¼ï¼š`summary->final_cost = std::min(iteration_summary.cost, summary->final_cost)`

### 2. **æ¯æ¬¡è¿­ä»£çš„costæ˜¯å¦‚ä½•è®¾ç½®çš„**

#### **Trust Region Minimizer** (`trust_region_minimizer.cc`)

**æˆåŠŸæ­¥éª¤**ï¼š
- ç¬¬271è¡Œï¼š`iteration_summary_.cost = x_cost_ + solver_summary_->fixed_cost;`ï¼ˆåœ¨`EvaluateGradientAndJacobian`ä¸­ï¼‰
- ç¬¬810è¡Œï¼šé€šè¿‡`HandleSuccessfulStep()`æ›´æ–°`x_cost_`

**å¤±è´¥æ­¥éª¤**ï¼š
- ç¬¬119è¡Œï¼š`iteration_summary_.cost = candidate_cost_ + solver_summary_->fixed_cost;`ï¼ˆåœ¨ä¸»å¾ªç¯ä¸­ï¼‰
- ç¬¬476è¡Œï¼š`iteration_summary_.cost = x_cost_ + solver_summary_->fixed_cost;`ï¼ˆåœ¨`HandleInvalidStep`ä¸­ï¼‰

#### **Line Search Minimizer** (`line_search_minimizer.cc`)

**åˆå§‹è¿­ä»£**ï¼š
- ç¬¬140è¡Œï¼š`iteration_summary.cost = current_state.cost + summary->fixed_cost;`

**åç»­è¿­ä»£**ï¼š
- ç¬¬393è¡Œï¼š`iteration_summary.cost = current_state.cost + summary->fixed_cost;`

### 3. **å®Œæ•´çš„æ•°æ®æµ**

```
1. æ¯æ¬¡è¿­ä»£è®¡ç®—cost:
   Trust Region: x_cost_ æˆ– candidate_cost_
   Line Search: current_state.cost
   
2. æ·»åŠ fixed_cost:
   iteration_summary.cost = cost + solver_summary->fixed_cost
   
3. å­˜å‚¨åˆ°iterationså‘é‡:
   solver_summary->iterations.push_back(iteration_summary)
   
4. æœ€ç»ˆé€‰æ‹©æœ€å°å€¼:
   SetSummaryFinalCost()éå†æ‰€æœ‰iterations
   ä½¿ç”¨std::miné€‰æ‹©æœ€å°çš„costå€¼
```

### 4. **ä¸ºä»€ä¹ˆéœ€è¦é€‰æ‹©æœ€å°å€¼**

ä»£ç æ³¨é‡Šæ˜ç¡®è¯´æ˜äº†åŸå› ï¼š
```cpp
// We need the loop here, instead of just looking at the last
// iteration because the minimizer maybe making non-monotonic steps.
```

**åŸå› **ï¼š
- **éå•è°ƒæ­¥éª¤**ï¼šä¼˜åŒ–å™¨å¯èƒ½æ¥å—ä¸èƒ½é™ä½ç›®æ ‡å‡½æ•°å€¼çš„æ­¥éª¤
- **Trust Regionç®—æ³•**ï¼šå¯èƒ½æ¥å—ç›¸å¯¹ä¸‹é™ä¸è¶³ä½†ä»ç„¶æœ‰ç”¨çš„æ­¥éª¤
- **Line Searchç®—æ³•**ï¼šå¯èƒ½åœ¨æŸäº›è¿­ä»£ä¸­æš‚æ—¶å¢åŠ cost
- **å†…éƒ¨è¿­ä»£**ï¼šå¯èƒ½äº§ç”Ÿä¸´æ—¶çš„costå¢åŠ 

å› æ­¤ï¼Œæœ€ç»ˆçš„`final_cost`æ˜¯æ•´ä¸ªä¼˜åŒ–è¿‡ç¨‹ä¸­é‡åˆ°çš„**æœ€å°costå€¼**ï¼Œè€Œä¸æ˜¯æœ€åä¸€æ¬¡è¿­ä»£çš„costå€¼ï¼Œè¿™ç¡®ä¿äº†æŠ¥å‘Šçš„æ˜¯çœŸæ­£çš„æœ€ä¼˜ç»“æœã€‚

---

_**User**_

è¿™é‡Œçš„summaryæ˜¯å“ªä¸ªæ—¶é—´æˆ³çš„

---

_**Assistant**_

æ ¹æ®ä»£ç åˆ†æï¼Œè¿™é‡Œçš„`summary`æ˜¯**ä¼˜åŒ–å®Œæˆå**çš„æ—¶é—´æˆ³ï¼Œå…·ä½“æ¥è¯´ï¼š

## Summaryçš„æ—¶é—´æˆ³

### 1. **BriefReportè°ƒç”¨æ—¶æœº**

`Solver::Summary::BriefReport()`é€šå¸¸åœ¨ä»¥ä¸‹æ—¶æœºè¢«è°ƒç”¨ï¼š

**ä¸»è¦è°ƒç”¨ä½ç½®**ï¼š
- ç”¨æˆ·åœ¨`ceres::Solve()`å®Œæˆåæ‰‹åŠ¨è°ƒç”¨
- åœ¨é¡¹ç›®çš„å®é™…ä»£ç ä¸­ï¼Œæ¯”å¦‚ï¼š
  ```cpp
  ceres::Solver::Summary summary;
  ceres::Solve(options, &problem, &summary);
  std::cout << summary.BriefReport() << std::endl;  // â† è¿™é‡Œè°ƒç”¨
  ```

### 2. **Summaryæ•°æ®çš„æ—¶é—´çº¿**

```cpp
void Solver::Solve(const Solver::Options& options,
                   Problem* problem,
                   Solver::Summary* summary) {
    double start_time = WallTimeInSeconds();
    *summary = Summary();  // åˆå§‹åŒ–
    
    // ... é¢„å¤„ç† ...
    
    if (status) {
        Minimize(&pp, summary);  // ä¼˜åŒ–è¿‡ç¨‹ä¸­å¡«å……iterations
    }
    
    // ... åå¤„ç† ...
    PostSolveSummarize(pp, summary);  // è°ƒç”¨SetSummaryFinalCost
    
    summary->total_time_in_seconds = WallTimeInSeconds() - start_time;
}  // â† æ­¤æ—¶summaryå®Œæ•´å‡†å¤‡å¥½
```

### 3. **Summaryä¸­å„å­—æ®µçš„æ—¶é—´å«ä¹‰**

å½“`BriefReport()`è¢«è°ƒç”¨æ—¶ï¼ŒsummaryåŒ…å«çš„æ˜¯ï¼š

- **`initial_cost`**: ä¼˜åŒ–å¼€å§‹æ—¶ï¼ˆç¬¬0æ¬¡è¿­ä»£ï¼‰çš„cost
- **`final_cost`**: æ‰€æœ‰è¿­ä»£ä¸­çš„**æœ€å°costå€¼**ï¼ˆé€šè¿‡`SetSummaryFinalCost`è®¡ç®—ï¼‰
- **`num_successful_steps + num_unsuccessful_steps`**: æ€»è¿­ä»£æ¬¡æ•°
- **`termination_type`**: ä¼˜åŒ–ç»ˆæ­¢çš„åŸå› 

### 4. **å…·ä½“æ—¶é—´æˆ³**

**BriefReportæ˜¾ç¤ºçš„æ˜¯**ï¼š
- **ä¼˜åŒ–ç®—æ³•å®Œå…¨ç»“æŸå**çš„æ±‡æ€»ä¿¡æ¯
- **ä¸æ˜¯æŸä¸ªç‰¹å®šè¿­ä»£**çš„å¿«ç…§
- æ˜¯**æ•´ä¸ªä¼˜åŒ–è¿‡ç¨‹çš„æ€»ç»“**

**ä¸¾ä¾‹**ï¼š
```
Ceres Solver Report: Iterations: 25, Initial cost: 1.234567e+02, Final cost: 3.456789e-03, Termination: CONVERGENCE
```

è¿™è¡¨ç¤ºï¼š
- ç»è¿‡25æ¬¡è¿­ä»£
- åˆå§‹costæ˜¯123.4567
- åœ¨æ‰€æœ‰25æ¬¡è¿­ä»£ä¸­é‡åˆ°çš„æœ€å°costæ˜¯0.003456789
- ä¼˜åŒ–æ”¶æ•›æˆåŠŸ

### 5. **åœ¨æ‚¨çš„é¡¹ç›®ä¸­**

åœ¨RTKé¡¹ç›®çš„å®é™…è°ƒç”¨ä¸­ï¼š
```cpp
ceres::Solver::Summary summary;
ceres::Solve(options, &problem, &summary);
std::cout << summary.BriefReport() << std::endl;  // è¾“å‡ºå®Œæ•´ä¼˜åŒ–åçš„æŠ¥å‘Š
```

è¿™ä¸ª`summary`åæ˜ çš„æ˜¯**æ•´ä¸ªCeresä¼˜åŒ–è¿‡ç¨‹å®Œæˆå**çš„æœ€ç»ˆçŠ¶æ€ï¼Œè€Œä¸æ˜¯ä»»ä½•å•ä¸ªæ—¶é—´ç‚¹çš„çŠ¶æ€ã€‚

---

_**User**_

è¿™é‡Œçš„timeæ˜¯æ•´ä¸ªCeresä¼˜åŒ–è¿‡ç¨‹å®Œæˆåçš„timeè¿˜æ˜¯ä¹‹å‰çš„

---

_**Assistant**_

è®©æˆ‘æŸ¥çœ‹è¿™ä¸ª`time`çš„å…·ä½“å«ä¹‰ï¼Œéœ€è¦äº†è§£`swf_optimization.headers[index]`çš„æ¥æºï¼š

---

Read file: rtk_visual_inertial_src/rtk_visual_inertial/src/utility/visualization.cpp

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹`headers`æ˜¯å¦‚ä½•è¢«è®¾ç½®çš„ï¼š

---

<details>
            <summary>Grep search for "headers\[.*\].*=" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf.cpp` | L266 | `headers[i] = headers[i + 1];` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf.cpp` | L830 | `headers[image_count + rover_count - 1] = cur_time;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf.cpp` | L831 | `// else headers[image_count+rover_count-1] = feature.first;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf.cpp` | L871 | `headers[rover_count + image_count] = headers[rover_count + image_count - 1];` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_imu.cpp` | L146 | `headers[image_count + rover_count - 1] = t;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_imu.cpp` | L164 | `headers[image_count + rover_count - 1] = img_t;` |

</details>

---

è®©æˆ‘æŸ¥çœ‹å…·ä½“çš„èµ‹å€¼ä½ç½®ï¼š

---

Read file: rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf.cpp

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹`MyOptimization()`å‡½æ•°ä½•æ—¶è¢«è°ƒç”¨ï¼š

---

Read file: rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf.cpp

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹`MyOptimization()`çš„å…·ä½“å®ç°ï¼š

---

<details>
            <summary>Grep search for "void.*MyOptimization" â€¢ **6** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_04-28-%E9%87%8D%E6%8A%95%E5%BD%B1%E8%AF%AF%E5%B7%AE%E7%9A%84%E5%90%88%E7%90%86%E6%80%A7%E5%8F%8A%E5%8D%95%E4%BD%8D.md` | L335 | `âŸª 112 characters skipped âŸ«/swf/swf_image.cpp: In member function â€˜void SWFOptimization::MyOptimization()â€™:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_04-28-%E9%87%8D%E6%8A%95%E5%BD%B1%E8%AF%AF%E5%B7%AE%E7%9A%84%E5%90%88%E7%90%86%E6%80%A7%E5%8F%8A%E5%8D%95%E4%BD%8D.md` | L452 | `void SWFOptimization::MyOptimization( ) {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-29_11-24-%E8%BE%93%E5%87%BA%E6%AE%8B%E5%B7%AE%E5%92%8C%E4%BD%8D%E7%BD%AE%E8%AF%AF%E5%B7%AE%E5%88%B0csv.md` | L410 | `+ void SWFOptimization::MyOptimization() {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-29_11-24-%E8%BE%93%E5%87%BA%E6%AE%8B%E5%B7%AE%E5%92%8C%E4%BD%8D%E7%BD%AE%E8%AF%AF%E5%B7%AE%E5%88%B0csv.md` | L460 | `âŸª 104 characters skipped âŸ«isual_inertial/src/swf/swf.h` | L105 | `void MyOptimization( );` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-29_11-24-%E8%BE%93%E5%87%BA%E6%AE%8B%E5%B7%AE%E5%92%8C%E4%BD%8D%E7%BD%AE%E8%AF%AF%E5%B7%AE%E5%88%B0csv.md` | L461 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_core.cpp` | L649 | `void SWFOptimization::MyOptimization() {` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-29_11-24-%E8%BE%93%E5%87%BA%E6%AE%8B%E5%B7%AE%E5%92%8C%E4%BD%8D%E7%BD%AE%E8%AF%AF%E5%B7%AE%E5%88%B0csv.md` | L462 | `âŸª 112 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L197 | `void SWFOptimization::MyOptimization( ) {` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-29_11-24-%E8%BE%93%E5%87%BA%E6%AE%8B%E5%B7%AE%E5%92%8C%E4%BD%8D%E7%BD%AE%E8%AF%AF%E5%B7%AE%E5%88%B0csv.md` | L465 | `âŸª 111 characters skipped âŸ«nertial/src/swf/swf_core.cpp` | L649 | `void SWFOptimization::MyOptimization() {` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-29_11-24-%E8%BE%93%E5%87%BA%E6%AE%8B%E5%B7%AE%E5%92%8C%E4%BD%8D%E7%BD%AE%E8%AF%AF%E5%B7%AE%E5%88%B0csv.md` | L528 | `void SWFOptimization::MyOptimization( ) {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_16-54-%E6%89%BE%E5%88%B0%E7%A3%81%E5%8A%9B%E8%AE%A1%E6%AE%8B%E5%B7%AE%E7%9A%84%E8%AE%A1%E7%AE%97%E4%BD%8D%E7%BD%AE.md` | L162 | `âŸª 346 characters skipped âŸ«/swf/swf_image.cpp: In member function â€˜void SWFOptimization::MyOptimization()â€™:` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-25_03-18-imu%E4%BD%8D%E7%BD%AE%E6%AE%8B%E5%B7%AE%E8%BE%93%E5%87%BA%E6%9F%A5%E8%AF%A2.md` | L1084 | `âŸª 112 characters skipped âŸ«ertial/src/swf/swf_image.cpp` | L197 | `void SWFOptimization::MyOptimization( ) {` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf.h` | L105 | `void MyOptimization( );` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_image.cpp` | L197 | `void SWFOptimization::MyOptimization( ) {` |

</details>

---

æ ¹æ®ä»£ç åˆ†æï¼Œæˆ‘ç°åœ¨å¯ä»¥æ˜ç¡®å›ç­”æ‚¨çš„é—®é¢˜ï¼š

## `swf_optimization.headers[index]`ä¸­çš„timeæ˜¯ä»€ä¹ˆæ—¶é—´æˆ³

è¿™é‡Œçš„`time`æ˜¯**Ceresä¼˜åŒ–ä¹‹å‰**çš„æ—¶é—´æˆ³ï¼Œå…·ä½“æ¥è¯´ï¼š

### 1. **æ—¶é—´æˆ³çš„æ¥æº**

ä»`swf.cpp`çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼š

```cpp
// ç¬¬830è¡Œï¼šè®¾ç½®æ—¶é—´æˆ³
headers[image_count + rover_count - 1] = cur_time;

// ç¬¬847è¡Œï¼šä¼˜åŒ–åœ¨æ—¶é—´æˆ³è®¾ç½®ä¹‹åè¿›è¡Œ
if (solver_flag != Initial && (modeflag == ImagFrame || frame_types[rover_count + image_count - 2] == GnssFrame)) {
    MyOptimization();  // â† Ceresä¼˜åŒ–åœ¨è¿™é‡Œæ‰§è¡Œ
    IntegerSolve();
}
```

### 2. **æ—¶é—´æˆ³çš„å«ä¹‰**

`headers[index]`å­˜å‚¨çš„æ˜¯ï¼š
- **å½“å‰ä¼ æ„Ÿå™¨æ•°æ®çš„æ—¶é—´æˆ³**ï¼ˆ`cur_time`ï¼‰
- **GNSSè§‚æµ‹æ—¶é—´æˆ³**ï¼šå¦‚æœæ˜¯GnssFrameï¼Œåˆ™ä¸º`rover->ros_time`
- **å›¾åƒç‰¹å¾æ—¶é—´æˆ³**ï¼šå¦‚æœæ˜¯ImagFrameï¼Œåˆ™ä¸º`feature.first`

### 3. **æ‰§è¡Œé¡ºåº**

```cpp
// 1. é¦–å…ˆè®¾ç½®æ—¶é—´æˆ³
headers[image_count + rover_count - 1] = cur_time;

// 2. ç„¶åè¿›è¡Œæ•°æ®é¢„å¤„ç†
if (modeflag == ImagFrame) ImagePreprocess(feature.second);
else GnssProcess(rover);
UpdateImuGnssFactor();

// 3. æœ€åè¿›è¡ŒCeresä¼˜åŒ–
if (solver_flag != Initial && ...) {
    MyOptimization();  // â† Ceresä¼˜åŒ–
}

// 4. å‘å¸ƒç»“æœï¼ˆåŒ…æ‹¬æ‰“å°ç»Ÿè®¡ä¿¡æ¯ï¼‰
if (solver_flag != Initial) {
    PubData(); // â† è¿™é‡Œè°ƒç”¨printStatisticsï¼Œè¾“å‡ºtime
}
```

### 4. **ç»“è®º**

åœ¨`visualization.cpp`ç¬¬109è¡Œæ‰“å°çš„ï¼š
```cpp
printf("time:%.3f\r\n", swf_optimization.headers[index]);
```

**è¿™ä¸ª`time`æ˜¯ä¼ æ„Ÿå™¨æ•°æ®é‡‡é›†çš„æ—¶é—´æˆ³ï¼Œè€Œä¸æ˜¯Ceresä¼˜åŒ–å®Œæˆåçš„æ—¶é—´æˆ³ã€‚**

å®ƒè¡¨ç¤ºçš„æ˜¯ï¼š
- **æ•°æ®æ—¶é—´æˆ³**ï¼šå½“å‰å¤„ç†çš„GNSS/å›¾åƒæ•°æ®çš„é‡‡é›†æ—¶é—´
- **ä¼˜åŒ–å‰æ—¶é—´æˆ³**ï¼šCeresä¼˜åŒ–ä½¿ç”¨çš„æ˜¯è¿™ä¸ªæ—¶é—´æˆ³å¯¹åº”çš„æ•°æ®
- **ä¼ æ„Ÿå™¨åŒæ­¥æ—¶é—´æˆ³**ï¼šç”¨äºå¤šä¼ æ„Ÿå™¨èåˆçš„æ—¶é—´å¯¹é½

æ‰€ä»¥è¿™ä¸ªæ—¶é—´æˆ³åæ˜ çš„æ˜¯**è¢«ä¼˜åŒ–æ•°æ®çš„æ—¶é—´**ï¼Œè€Œä¸æ˜¯**ä¼˜åŒ–å®Œæˆçš„æ—¶é—´**ã€‚

---

_**User**_

ä¸ºä»€ä¹ˆCeres Solver Report: å…ˆè¢«æ‰“å°å‘¢

---

_**Assistant**_

è®©æˆ‘æŸ¥æ‰¾`Ceres Solver Report`è¢«æ‰“å°çš„å…·ä½“ä½ç½®å’Œæ—¶æœºï¼š

---

<details>
            <summary>Grep search for "Ceres Solver Report" â€¢ **6** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2601 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.699067e+08, Final cost: 1.523423e+02, Termination: CONVERGENCE,0.169849` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3580 | `âŸª 277 characters skipped âŸ«cho "[IMAGE] Timestamp=1664879.123456 | Ceres Solver Report: Iterations: 15, Initial cost: 1.234567e+03, Final cost: 1.521222e+02, Termination: CONVERGENCE" && echo "[IMAGE] Parameter blocks: 150,10,160" && echo "[IMAGE] ========== IMAGE OpâŸª 151 characters skipped âŸ«echo "[GNSS] Timestamp=1664879.234567 | Ceres Solver Report: Iterations: 8, Initial cost: 5.678901e+02, Final cost: 1.234567e+02, Termination: CONVERGENCE, 15.678" && echo "[GNSS] LAMBDASearch: 8.901" && echo "[GNSS] ========== GNSS Integer` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3592 | `: 45.123, 42.567" && echo "[IMAGE] Timestamp=1664879.123456 | Ceres Solver Report: Iterations:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3598 | `: 45.123, 42.567" && echo "[IMAGE] Timestamp=1664879.123456 | Ceres Solver Report: Iterations:` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3602 | `"[GNSS] solving time: 12.345" && echo "[GNSS] Timestamp=1664879.234567 | Ceres Solver Report: I` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3617 | `[IMAGE] Timestamp=1664879.123456 | Ceres Solver Report: Iterations: 15, Initial cost: 1.234567e` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3624 | `[GNSS] Timestamp=1664879.234567 | Ceres Solver Report: Iterations: 8, Initial cost: 5.678901e+0` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3649 | `Ceres Solver Report: Iterations: 15, Final cost: 1.521222e+02, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3650 | `Ceres Solver Report: Iterations: 8, Final cost: 1.234567e+02, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3656 | `[IMAGE] Timestamp=1664879.123456 | Ceres Solver Report: Iterations: 15, Final cost: 1.521222e+02, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3657 | `[GNSS] Timestamp=1664879.234567 | Ceres Solver Report: Iterations: 8, Final cost: 1.234567e+02, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L4189 | `âŸª 163 characters skipped âŸ«23456 | Phase bias adjustment: 152.98 | Ceres Solver Report..." && echo "[GNSS-PREPROCESS] save_result: timestamp=1664879.123456, intermediate_cost=152.98 (phase bias adjustment)" && echo "" && echo "ğŸ¯ IMAGEæœ€ç»ˆä¼˜åŒ–é˜¶æ®µï¼ˆçœŸæ­£çš„final costï¼‰ï¼š" && echo "[IMAGE-FINAL] Timestamp=1664879.234567 | TRUE FINAL COST: 5870.22 (converged) | Ceres Solver Report..." && echo "[IMAGE-FINAL] save_result: timestamp=1664879.234567, TRUE_FINAL_COST=5870.22 (system converged)" && echo "" && echo "ğŸ“‹ IMUæ•°æ®å¤„ç†ï¼š" && echo "[IMU-DATA] save_result: time` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L4199 | `879.123456 | Phase bias adjustment: 152.98 | Ceres Solver Report..." && echo "[GNSS-PREPROCESS]` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L4202 | `4879.234567 | TRUE FINAL COST: 5870.22 (converged) | Ceres Solver Report..." && echo "[IMAGE-FI` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L2600 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.801890e+03, Final cost: 5.800182e+03, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L2616 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.699038e+08, Final cost: 1.530772e+02, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3448 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.987872e+06, Final cost: 6.738834e+01, Termination: CONVERGENCE,0.630095` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3453 | `Ceres Solver Report: Iterations: 2, Initial cost: 7.079514e+10, Final cost: 7.361558e+01, Termination: CONVERGENCE,0.538928` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3456 | `Ceres Solver Report: Iterations: 3, Initial cost: 9.770497e+02, Final cost: 7.734438e+00, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3465 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.833090e+08, Final cost: 8.938045e+01, Termination: CONVERGENCE,0.567777` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3468 | `Ceres Solver Report: Iterations: 3, Initial cost: 1.345792e+02, Final cost: 1.535880e+01, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3476 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.014633e+08, Final cost: 6.851514e+01, Termination: CONVERGENCE,0.585944` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3787 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.987872e+06, Final cost: 6.738834e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3795 | `Ceres Solver Report: Iterations: 2, Initial cost: 7.079514e+10, Final cost: 7.361558e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3799 | `Ceres Solver Report: Iterations: 3, Initial cost: 9.770497e+02, Final cost: 7.734438e+00, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3811 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.833090e+08, Final cost: 8.938045e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3815 | `Ceres Solver Report: Iterations: 3, Initial cost: 1.345792e+02, Final cost: 1.535880e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3827 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.014633e+08, Final cost: 6.851514e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3830 | `Ceres Solver Report: Iterations: 9, Initial cost: 7.594871e+01, Final cost: 1.898632e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3841 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.127243e+08, Final cost: 6.763919e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3844 | `Ceres Solver Report: Iterations: 3, Initial cost: 5.326734e+01, Final cost: 1.648870e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3856 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.191824e+08, Final cost: 6.377618e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3859 | `Ceres Solver Report: Iterations: 3, Initial cost: 5.611395e+01, Final cost: 1.554868e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3871 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.190459e+08, Final cost: 6.351121e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3875 | `Ceres Solver Report: Iterations: 2, Initial cost: 4.750704e+01, Final cost: 1.739647e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3887 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.061046e+08, Final cost: 6.554344e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3890 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.505597e+01, Final cost: 1.823778e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3902 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.890519e+08, Final cost: 6.543296e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3905 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.785704e+01, Final cost: 1.755795e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3917 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.660462e+08, Final cost: 6.951223e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3920 | `Ceres Solver Report: Iterations: 9, Initial cost: 7.627950e+01, Final cost: 1.999316e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3932 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.440421e+08, Final cost: 7.999161e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-28_03-06-troubleshooting-program-initialization-issues.md` | L3937 | `Ceres Solver Report: Iterations: 3, Initial cost: 2.245523e+01, Final cost: 2.070099e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L5093 | `[GNSS-PREPROCESS] Timestamp=812.230441 | Phase bias adjustment: 79.835379 | Ceres Solver Report: Iterations: 2, Initial cost: 2.442837e+08, Final cost: 7.983538e+01, Termination: CONVERGENCE,0.135305` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L5098 | `[IMAGE-FINAL] Timestamp=812.230441 | TRUE FINAL COST: 21.246508 (converged) | Ceres Solver Report: Iterations: 8, Initial cost: 2.228639e+01, Final cost: 2.124651e+01, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L5302 | `[GNSS-PREPROCESS] Timestamp=812.230441 | Phase bias adjustment: 79.941038 | Ceres Solver Report: Iterations: 2, Initial cost: 2.440612e+08, Final cost: 7.994104e+01, Termination: CONVERGENCE,0.142274` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L5309 | `[IMAGE-FINAL] Timestamp=812.230441 | TRUE FINAL COST: 20.736207 (converged) | Ceres Solver Report: Iterations: 9, Initial cost: 2.243204e+01, Final cost: 2.073621e+01, Termination: NO_CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L431 | `âŸª 253 characters skipped âŸ«RUE FINAL COST: 21.246508 (converged) | Ceres Solver Report: Iterations: 8, Initial cost: 2.228639e+01, Final cost: 2.124651e+01, Termination: CONVERGENCE` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L433 | `âŸª 253 characters skipped âŸ«RUE FINAL COST: 20.736207 (converged) | Ceres Solver Report: Iterations: 9, Initial cost: 2.243204e+01, Final cost: 2.073621e+01, Termination: NO_CONVERGENCE` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L436 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L2600 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.801890e+03, Final cost: 5.800182e+03, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L437 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L2616 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.699038e+08, Final cost: 1.530772e+02, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L438 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3448 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.987872e+06, Final cost: 6.738834e+01, Termination: CONVERGENCE,0.630095` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L439 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3453 | `Ceres Solver Report: Iterations: 2, Initial cost: 7.079514e+10, Final cost: 7.361558e+01, Termination: CONVERGENCE,0.538928` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L440 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3456 | `Ceres Solver Report: Iterations: 3, Initial cost: 9.770497e+02, Final cost: 7.734438e+00, Termination: CONVERGENCE` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L441 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3465 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.833090e+08, Final cost: 8.938045e+01, Termination: CONVERGENCE,0.567777` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L442 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3468 | `Ceres Solver Report: Iterations: 3, Initial cost: 1.345792e+02, Final cost: 1.535880e+01, Termination: CONVERGENCE` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L443 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3476 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.014633e+08, Final cost: 6.851514e+01, Termination: CONVERGENCE,0.585944` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L444 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3787 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.987872e+06, Final cost: 6.738834e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L445 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3795 | `Ceres Solver Report: Iterations: 2, Initial cost: 7.079514e+10, Final cost: 7.361558e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L446 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3799 | `Ceres Solver Report: Iterations: 3, Initial cost: 9.770497e+02, Final cost: 7.734438e+00, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L447 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3811 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.833090e+08, Final cost: 8.938045e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L448 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3815 | `Ceres Solver Report: Iterations: 3, Initial cost: 1.345792e+02, Final cost: 1.535880e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L449 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3827 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.014633e+08, Final cost: 6.851514e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L450 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3830 | `Ceres Solver Report: Iterations: 9, Initial cost: 7.594871e+01, Final cost: 1.898632e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L451 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3841 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.127243e+08, Final cost: 6.763919e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L452 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3844 | `Ceres Solver Report: Iterations: 3, Initial cost: 5.326734e+01, Final cost: 1.648870e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L453 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3856 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.191824e+08, Final cost: 6.377618e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L454 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3859 | `Ceres Solver Report: Iterations: 3, Initial cost: 5.611395e+01, Final cost: 1.554868e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L455 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3871 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.190459e+08, Final cost: 6.351121e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L456 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3875 | `Ceres Solver Report: Iterations: 2, Initial cost: 4.750704e+01, Final cost: 1.739647e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L457 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3887 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.061046e+08, Final cost: 6.554344e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L458 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3890 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.505597e+01, Final cost: 1.823778e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L459 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3902 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.890519e+08, Final cost: 6.543296e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L460 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3905 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.785704e+01, Final cost: 1.755795e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L461 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3917 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.660462e+08, Final cost: 6.951223e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L462 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3920 | `Ceres Solver Report: Iterations: 9, Initial cost: 7.627950e+01, Final cost: 1.999316e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L463 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3932 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.440421e+08, Final cost: 7.999161e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L464 | `âŸª 132 characters skipped âŸ«am-initialization-issues.md` | L3937 | `Ceres Solver Report: Iterations: 3, Initial cost: 2.245523e+01, Final cost: 2.070099e+01, Termi` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L470 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L2601 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.699067e+08, Final cost: 1.523423e+02, Termination: CONVERGENCE,0.169849` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L476 | `âŸª 494 characters skipped âŸ«cho "[IMAGE] Timestamp=1664879.123456 | Ceres Solver Report: Iterations: 15, Initial cost: 1.234567e+03, Final cost: 1.521222e+02, Termination: CONVERGENCE" && echo "[IMAGE] Parameter blocks: 150,10,160" && echo "[IMAGE] ========== IMAGE Op` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L490 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L3649 | `Ceres Solver Report: Iterations: 15, Final cost: 1.521222e+02, Termination: CONVERGENCE` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L491 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L3650 | `Ceres Solver Report: Iterations: 8, Final cost: 1.234567e+02, Termination: CONVERGENCE` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L492 | `âŸª 212 characters skipped âŸ«6 | `[IMAGE] Timestamp=1664879.123456 | Ceres Solver Report: Iterations: 15, Final cost: 1.521222e+02, Termination: CONVERGENCE` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L493 | `âŸª 211 characters skipped âŸ«57 | `[GNSS] Timestamp=1664879.234567 | Ceres Solver Report: Iterations: 8, Final cost: 1.234567e+02, Termination: CONVERGENCE` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L1796 | `Ceres Solver Report: Iterations: 25, Initial cost: 1.234567e+02, Final cost: 3.456789e-03, Termination: CONVERGENCE` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3167 | `Ceres Solver Report: Iterations: 2, Initial cost: 3.987872e+06, Final cost: 6.738834e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3175 | `Ceres Solver Report: Iterations: 2, Initial cost: 7.079514e+10, Final cost: 7.361558e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3180 | `Ceres Solver Report: Iterations: 3, Initial cost: 9.770497e+02, Final cost: 7.734438e+00, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3192 | `Ceres Solver Report: Iterations: 2, Initial cost: 2.833090e+08, Final cost: 8.938045e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3197 | `Ceres Solver Report: Iterations: 3, Initial cost: 1.345792e+02, Final cost: 1.535880e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3274 | `Ceres Solver Report: Iterations: 2, Initial cost: 4.848291e+07, Final cost: 3.235630e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3292 | `Ceres Solver Report: Iterations: 9, Initial cost: 6.271015e+02, Final cost: 5.504140e+02, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3333 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.206298e+02, Final cost: 5.142175e+02, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3355 | `Ceres Solver Report: Iterations: 9, Initial cost: 2.186335e+03, Final cost: 5.149661e+02, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3370 | `Ceres Solver Report: Iterations: 2, Initial cost: 4.637421e+07, Final cost: 3.130978e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3387 | `Ceres Solver Report: Iterations: 9, Initial cost: 6.295726e+02, Final cost: 5.340544e+02, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3418 | `Ceres Solver Report: Iterations: 9, Initial cost: 5.231482e+02, Final cost: 5.211010e+02, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-05-30_07-05-%E6%98%BE%E7%A4%BA%E7%89%B9%E5%BE%81%E7%82%B9%E6%A3%80%E6%B5%8B%E7%9A%84%E8%A7%86%E9%A2%91.md` | L3433 | `Ceres Solver Report: Iterations: 2, Initial cost: 4.822094e+07, Final cost: 5.012747e+01, Termi` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L612 | `"Ceres Solver Report: "` |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹åœ¨é¡¹ç›®ä»£ç ä¸­å…·ä½“åœ¨å“ªé‡Œæ‰“å°äº†BriefReportï¼š

---

<details>
            <summary>Grep search for "BriefReport" â€¢ **5** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L98 | `âŸª 188 characters skipped âŸ«6%B9%E6%B3%95.md` | L1741 | `OPT->>OPT: BriefReport() æ˜¾ç¤ºå½“å‰çš„summary.final_cost` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L116 | `âŸª 224 characters skipped âŸ«haracters skipped âŸ« L1741 | `OPT->>OPT: BriefReport() æ˜¾ç¤ºå½“å‰çš„summary.final_cost` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L123 | `âŸª 185 characters skipped âŸ« summary.final_cost << " | " << summary.BriefReport() << "," << tic.toc() << std::endl;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L126 | `âŸª 185 characters skipped âŸ« summary.final_cost << " | " << summary.BriefReport() << "," << tic.toc() << std::endl;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L386 | `<< " | TRUE FINAL COST: " << summary.final_cost << " (converged) | " << summary.BriefReport() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L770 | `-                   << " | TRUE FINAL COST: " << summary.final_cost << " (converged) | " << summary.BriefReport() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_14-39-%E7%A1%AE%E5%AE%9A%E6%9C%80%E7%BB%88%E8%BE%93%E5%87%BA%E7%9A%84summary%E6%9D%A5%E6%BA%90.md` | L771 | `+                   << " | TRUE FINAL COST: " << summary.final_cost << " (converged) | " << summary.BriefReport()` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L426 | `âŸª 254 characters skipped âŸ«al_cost << " (converged) | " << summary.BriefReport() << std::endl;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L427 | `âŸª 274 characters skipped âŸ«al_cost << " (converged) | " << summary.BriefReport() << std::endl;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L428 | `âŸª 274 characters skipped âŸ«al_cost << " (converged) | " << summary.BriefReport()` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L468 | `âŸª 230 characters skipped âŸ«ave_resultï¼Œåˆè®©save_resultä¸­ä¿å­˜çš„æ³•final costå’ŒBriefReportå®Œå…¨ä¸€è‡´å—` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L471 | `âŸª 182 characters skipped âŸ«7%E6%96%B9%E6%B3%95.md` | L2615 | `2. **BriefReportè¾“å‡º**: `Final cost: 1.523423e+02` = `152.3423` (æ–°çš„ä¼˜åŒ–ç»“æœ)` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L472 | `âŸª 254 characters skipped âŸ«ave_resultï¼Œåˆè®©save_resultä¸­ä¿å­˜çš„æ³•final costå’ŒBriefReportå®Œå…¨ä¸€è‡´å—` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L475 | `âŸª 225 characters skipped âŸ«åŠ æ—¶é—´æˆ³ä¿¡æ¯ï¼Œè®©æ‚¨èƒ½ä¸€çœ¼çœ‹å‡ºæ¯ä¸ªfinal costå±äºå“ªä¸ªæ—¶é—´æˆ³çš„ä¼˜åŒ–ã€‚æˆ‘ä¼šåœ¨BriefReportè¾“å‡ºä¸­æ·»åŠ æ—¶é—´æˆ³ä¿¡æ¯ï¼š` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L476 | `âŸª 1202 characters skipped âŸ« && echo "âœ… [ç±»å‹] Timestamp=xxx.xxxxxx | BriefReportæ ¼å¼" && echo "âœ… å¯ä»¥ç›´æ¥å¯¹åº”CSVä¸­çš„æ—¶é—´æˆ³æ•°æ®" && echo "âœ… ä¸€çœ¼å°±èƒ½çœ‹å‡ºå“ªä¸ªæ—¶é—´ç‚¹çš„ä¼˜åŒ–ç»“æœ"` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L1743 | `### 1. **BriefReportè°ƒç”¨æ—¶æœº**` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L1745 | ``Solver::Summary::BriefReport()`é€šå¸¸åœ¨ä»¥ä¸‹æ—¶æœºè¢«è°ƒç”¨ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L1753 | `std::cout << summary.BriefReport() << std::endl;  // â† è¿™é‡Œè°ƒç”¨` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L1780 | `å½“`BriefReport()`è¢«è°ƒç”¨æ—¶ï¼ŒsummaryåŒ…å«çš„æ˜¯ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L1789 | `**BriefReportæ˜¾ç¤ºçš„æ˜¯**ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-17_17-14-%E8%AE%A1%E7%AE%97csv%E6%96%87%E4%BB%B6%E7%9A%84final-cost.md` | L1811 | `std::cout << summary.BriefReport() << std::endl;  // è¾“å‡ºå®Œæ•´ä¼˜åŒ–åçš„æŠ¥å‘Š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1564 | `ç°åœ¨æˆ‘æ˜ç™½é—®é¢˜æ‰€åœ¨äº†ï¼çœ‹ç¬¬232è¡Œï¼Œ`summary.BriefReport()` çš„è¾“å‡ºæ—¶æœºå’Œæˆ‘ä»¬ä¿å­˜ `g_latest_final_cost` çš„æ—¶æœºæ˜¯**ç›¸åŒçš„**ï¼Œéƒ½æ˜¯åœ¨ç¬¬äºŒæ¬¡ä¼˜åŒ–ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰å®Œæˆä¹‹åã€‚` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1571 | `<summary>Grep search for "BriefReport|final_cost|g_latest_final_cost" â€¢ **24** files</summary>` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1624 | `âŸª 120 characters skipped âŸ«problem_solver.h` | L259 | `std::string BriefReport() const;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1626 | `âŸª 112 characters skipped âŸ«_fit.cc` | L161 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1627 | `âŸª 153 characters skipped âŸ« string GradientProblemSolver::Summary::BriefReport() const` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1629 | `âŸª 122 characters skipped âŸ«ting.cc` | L158 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1631 | `âŸª 115 characters skipped âŸ«ting.cc` | L159 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1639 | `âŸª 111 characters skipped âŸ«world.cc` | L79 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1649 | `âŸª 117 characters skipped âŸ«r.cc` | L610 | `string Solver::Summary::BriefReport() const {` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1654 | `âŸª 149 characters skipped âŸ«`string GradientProblemSolver::Summary::BriefReport() const {` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1669 | `âŸª 133 characters skipped âŸ«age.cpp` | L232 | `std::cout << summary.BriefReport() << std::endl;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1724 | `2. **`summary.BriefReport()`** åœ¨ `MyOptimization()` å‡½æ•°çš„ç¬¬232è¡Œè¢«è°ƒç”¨ï¼Œè¿™æ˜¯åœ¨**ä¼˜åŒ–å®Œæˆå**æ‰è°ƒç”¨` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L1741 | `OPT->>OPT: BriefReport() æ˜¾ç¤ºå½“å‰çš„summary.final_cost` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2052 | `ç°åœ¨`summary.BriefReport()`å’ŒCSVä¸­çš„`final_cost`å°†å®Œå…¨ä¸€è‡´ï¼æ‚¨è§‰å¾—è¿™ä¸ªæ–¹æ¡ˆæ€ä¹ˆæ ·ï¼Ÿ` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2359 | `BriefReportè¾“å‡º: final_cost=1.521222e+02 = 152.1222                  # ä¸åŒçš„summaryï¼` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2364 | `2. **ä¸åŒçš„summaryå¯¹è±¡**: BriefReportä½¿ç”¨çš„summaryå¯èƒ½æ¥è‡ªä¸åŒçš„ä¼˜åŒ–è¿‡ç¨‹ï¼ˆæ¯”å¦‚GlobalMargeï¼‰` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2385 | `- âœ… **final_costå€¼å°†ä¸BriefReportå®Œå…¨ä¸€è‡´**` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2394 | `éš¾é“æ²¡æœ‰åŠæ³•å³ä¿ç•™åŸæ¥çš„save_resultï¼Œåˆè®©save_resultä¸­ä¿å­˜çš„æ³•final costå’ŒBriefReportå®Œå…¨ä¸€è‡´å—` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2572 | `- âœ… **BriefReportä¸€è‡´**: ä¼˜åŒ–æ—¶åˆ»çš„final_costå®Œå…¨åŒ¹é…` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2615 | `2. **BriefReportè¾“å‡º**: `Final cost: 1.523423e+02` = `152.3423` (æ–°çš„ä¼˜åŒ–ç»“æœ)` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2627 | `æˆ‘å‘ç°äº†ï¼é—®é¢˜åœ¨äº**æˆ‘ä»¬çš„save_resultè°ƒç”¨åœ¨BriefReportä¹‹å‰**ï¼Œä½†å¾ˆå¯èƒ½ç³»ç»Ÿèµ°äº†**elseåˆ†æ”¯**ï¼ˆç¬¬247-254è¡Œï¼‰ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æ·»åŠ save_resultçš„åˆ†æ”¯ï¼` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2635 | `std::cout << summary.BriefReport() << std::endl;  // BriefReportåœ¨è¿™é‡Œ` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2642 | `// è¿™é‡Œå¯èƒ½ä¹Ÿä¼šæœ‰BriefReportè¾“å‡º` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2646 | `è®©æˆ‘æŸ¥çœ‹elseåˆ†æ”¯æ˜¯å¦ä¹Ÿæœ‰ä¼˜åŒ–å’ŒBriefReportï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2651 | `<summary>Grep search for "USE_GLOBAL_OPTIMIZATION|BriefReport.*std::cout" â€¢ **23** files</summary>` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2751 | `ç°åœ¨è®©æˆ‘æŸ¥çœ‹swf_core.cppä¸­æ˜¯å¦æœ‰BriefReportè¾“å‡ºï¼Œå› ä¸ºé‚£é‡Œä¹Ÿæœ‰å¾ˆå¤šceres::Solveè°ƒç”¨ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2756 | `<summary>Grep search for "BriefReport|summary\\.final_cost" â€¢ **19** files</summary>` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2760 | `âŸª 204 characters skipped âŸ«` | L1564 | `ç°åœ¨æˆ‘æ˜ç™½é—®é¢˜æ‰€åœ¨äº†ï¼çœ‹ç¬¬232è¡Œï¼Œ`summary.BriefReport()` çš„è¾“å‡ºæ—¶æœºå’Œæˆ‘ä»¬ä¿å­˜ `g_latest_final_cost` çš„æ—¶æœºæ˜¯**ç›¸åŒçš„**ï¼Œéƒ½æ˜¯åœ¨ç¬¬äºŒæ¬¡ä¼˜åŒ–ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰å®Œæˆä¹‹åã€‚` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2761 | `âŸª 203 characters skipped âŸ«d` | L1571 | `<summary>Grep search for "BriefReport|final_cost|g_latest_final_cost" â€¢ **24** files</summary>` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2762 | `âŸª 243 characters skipped âŸ«problem_solver.h` | L259 | `std::string BriefReport() const;` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2763 | `âŸª 243 characters skipped âŸ«_fit.cc` | L161 | `std::cout << summary.BriefReport() << "\n";` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2764 | `âŸª 243 characters skipped âŸ« string GradientProblemSolver::Summary::BriefReport() const` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2765 | `âŸª 243 characters skipped âŸ«ting.cc` | L158 | `std::cout << summary.BriefReport() << "\n";` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2766 | `âŸª 243 characters skipped âŸ«ting.cc` | L159 | `std::cout << summary.BriefReport() << "\n";` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2767 | `âŸª 243 characters skipped âŸ«world.cc` | L79 | `std::cout << summary.BriefReport() << "\n";` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2768 | `âŸª 243 characters skipped âŸ«r.cc` | L610 | `string Solver::Summary::BriefReport() const {` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2769 | `âŸª 243 characters skipped âŸ«`string GradientProblemSolver::Summary::BriefReport() const {` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2770 | `âŸª 243 characters skipped âŸ«age.cpp` | L232 | `std::cout << summary.BriefReport() << std::endl;` |` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2771 | `âŸª 191 characters skipped âŸ«9%E6%B3%95.md` | L1724 | `2. **`summary.BriefReport()`** åœ¨ `MyOptimization()` å‡½æ•°çš„ç¬¬232è¡Œè¢«è°ƒç”¨ï¼Œè¿™æ˜¯åœ¨**ä¼˜åŒ–å®Œæˆå**æ‰è°ƒç”¨` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2772 | `âŸª 188 characters skipped âŸ«6%B9%E6%B3%95.md` | L1741 | `OPT->>OPT: BriefReport() æ˜¾ç¤ºå½“å‰çš„summary.final_cost` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2773 | `âŸª 188 characters skipped âŸ«6%B9%E6%B3%95.md` | L2052 | `ç°åœ¨`summary.BriefReport()`å’ŒCSVä¸­çš„`final_cost`å°†å®Œå…¨ä¸€è‡´ï¼æ‚¨è§‰å¾—è¿™ä¸ªæ–¹æ¡ˆæ€ä¹ˆæ ·ï¼Ÿ` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2774 | `âŸª 177 characters skipped âŸ«%AE%97%E6%96%B9%E6%B3%95.md` | L2359 | `BriefReportè¾“å‡º: final_cost=1.521222e+02 = 152.1222                  # ä¸åŒçš„summaryï¼` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2775 | `âŸª 198 characters skipped âŸ«%95.md` | L2364 | `2. **ä¸åŒçš„summaryå¯¹è±¡**: BriefReportä½¿ç”¨çš„summaryå¯èƒ½æ¥è‡ªä¸åŒçš„ä¼˜åŒ–è¿‡ç¨‹ï¼ˆæ¯”å¦‚GlobalMargeï¼‰` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2776 | `âŸª 196 characters skipped âŸ«B3%95.md` | L2385 | `- âœ… **final_costå€¼å°†ä¸BriefReportå®Œå…¨ä¸€è‡´**` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2777 | `âŸª 230 characters skipped âŸ«ave_resultï¼Œåˆè®©save_resultä¸­ä¿å­˜çš„æ³•final costå’ŒBriefReportå®Œå…¨ä¸€è‡´å—` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2778 | `âŸª 133 characters skipped âŸ«age.cpp` | L236 | `std::cout << summary.BriefReport() << std::endl;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2779 | `âŸª 132 characters skipped âŸ«nss.cpp` | L571 | `std::cout << summary.BriefReport() << "," << tic.toc() << std::endl;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2780 | `âŸª 136 characters skipped âŸ« `.. function:: string Solver::Summary::BriefReport() const` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2781 | `âŸª 153 characters skipped âŸ« string GradientProblemSolver::Summary::BriefReport() const` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2782 | `âŸª 119 characters skipped âŸ«ial.rst` | L122 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2783 | `âŸª 149 characters skipped âŸ«`string GradientProblemSolver::Summary::BriefReport() const {` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2784 | `âŸª 117 characters skipped âŸ«r.cc` | L610 | `string Solver::Summary::BriefReport() const {` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2785 | `âŸª 111 characters skipped âŸ«world.cc` | L79 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2786 | `âŸª 115 characters skipped âŸ«ting.cc` | L159 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2787 | `âŸª 122 characters skipped âŸ«ting.cc` | L158 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2788 | `âŸª 134 characters skipped âŸ«ction.cc` | L90 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2789 | `âŸª 126 characters skipped âŸ«diff.cc` | L102 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2790 | `âŸª 112 characters skipped âŸ«_fit.cc` | L161 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2791 | `âŸª 124 characters skipped âŸ«_diff.cc` | L74 | `std::cout << summary.BriefReport() << "\n";` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2792 | `âŸª 103 characters skipped âŸ«e/ceres/solver.h` | L759 | `std::string BriefReport() const;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2793 | `âŸª 120 characters skipped âŸ«problem_solver.h` | L259 | `std::string BriefReport() const;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2794 | `âŸª 133 characters skipped âŸ«age.cpp` | L236 | `std::cout << summary.BriefReport() << std::endl;` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2795 | `âŸª 117 characters skipped âŸ«r.cc` | L610 | `string Solver::Summary::BriefReport() const {` |` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2801 | `æ‰¾åˆ°äº†ï¼**swf_gnss.cppç¬¬571è¡Œä¹Ÿæœ‰BriefReportè¾“å‡º**ï¼è¿™è¯´æ˜BriefReportå¯èƒ½æ¥è‡ªGNSSä¼˜åŒ–è€Œä¸æ˜¯IMAGEä¼˜åŒ–ã€‚è®©æˆ‘æ£€æŸ¥swf_gnss.cppçš„ä»£ç ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2809 | `**æ‰¾åˆ°é—®é¢˜äº†ï¼** ç¬¬571è¡Œç¡®å®æœ‰ä¸€ä¸ª`ceres::Solve`å’Œ`BriefReport`è¾“å‡ºï¼Œè¿™æ˜¯åœ¨**GNSSä¼˜åŒ–è¿‡ç¨‹**ä¸­ï¼Œè€Œä¸æ˜¯åœ¨å›¾åƒä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2811 | `ç°åœ¨æˆ‘éœ€è¦**åœ¨æ‰€æœ‰å¯èƒ½è¾“å‡ºBriefReportçš„åœ°æ–¹éƒ½æ·»åŠ save_resultè°ƒç”¨**ã€‚è®©æˆ‘æ·»åŠ å¯¹GNSSä¼˜åŒ–çš„æ”¯æŒï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2824 | `+             std::cout << summary.BriefReport() << "," << tic.toc() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2840 | `std::cout << summary.BriefReport() << "," << tic.toc() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2913 | `std::cout << summary.BriefReport();       // è¾“å‡ºç›¸åŒå€¼` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2920 | `ç°åœ¨æ— è®ºBriefReportæ¥è‡ªå“ªä¸ªä¼˜åŒ–è¿‡ç¨‹ï¼ˆIMAGEã€GNSSã€æˆ–å…¶ä»–ï¼‰ï¼ŒCSVä¸­çš„`final_cost`éƒ½å°†ä¸ä¹‹**å®Œå…¨ä¸€è‡´**ï¼Œå› ä¸ºï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L2927 | `ç°åœ¨æ‚¨çš„final_coståº”è¯¥ä¸BriefReportå®Œå…¨ä¸€è‡´äº†ï¼ğŸ‰` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3013 | `std::cout << summary.BriefReport() << "," << tic.toc() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3025 | `std::cout << summary.BriefReport() << "," << tic.toc() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3219 | `å¥½çš„ï¼Œæˆ‘æ¥ä¼˜åŒ–è¾“å‡ºæ ¼å¼ï¼Œè®©`output.log`ä¸­èƒ½æ›´æ¸…æ¥šåœ°åŒºåˆ†ä¸åŒä¼˜åŒ–è¿‡ç¨‹çš„æ•°æ®ã€‚æˆ‘å°†åœ¨BriefReportè¾“å‡ºå’Œå…¶ä»–å…³é”®è¾“å‡ºä½ç½®æ·»åŠ ä¼˜åŒ–ç±»å‹æ ‡è¯†ï¼š` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3229 | `-         std::cout << summary.BriefReport() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3230 | `+         std::cout << "[IMAGE] " << summary.BriefReport() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/.specstory/history/2025-06-05_09-54-%E6%9F%A5%E6%89%BE%E6%80%BB%E7%9A%84%E6%AE%8B%E5%B7%AE%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.md` | L3240 | `-             std::cout << summary.BriefReport() << "," << tic.toc() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/internal/ceres/solver.cc` | L610 | `string Solver::Summary::BriefReport() const {` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/ceres-solver-modified/include/ceres/solver.h` | L759 | `std::string BriefReport() const;` |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹åœ¨é¡¹ç›®ä¸­å®é™…è°ƒç”¨BriefReportçš„ä½ç½®ï¼š

---

<details>
            <summary>Grep search for "summary\\.BriefReport\\(\\)" â€¢ **0** files</summary>
        
No results found
</details>

---

<details>
            <summary>Grep search for "BriefReport\\(\\)" â€¢ **0** files</summary>
        
No results found
</details>

---

<details>
            <summary>Grep search for "BriefReport" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_image.cpp` | L229 | `std::cout << summary.BriefReport() << std::endl;` |
| `file:///home/lenovo/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_gnss.cpp` | L571 | `std::cout << summary.BriefReport() << "," << tic.toc() << std::endl;` |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹è¿™ä¸¤ä¸ªä½ç½®çš„å…·ä½“ä¸Šä¸‹æ–‡ï¼š

---

Read file: rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_image.cpp

---

Read file: rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf_gnss.cpp

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹è¿™ä¸¤ä¸ªå‡½æ•°ä½•æ—¶è¢«è°ƒç”¨çš„é¡ºåºï¼š

---

Read file: rtk_visual_inertial_src/rtk_visual_inertial/src/swf/swf.cpp

---

ç°åœ¨æˆ‘æ˜ç™½äº†ï¼è®©æˆ‘æŸ¥çœ‹å…·ä½“çš„è¾“å‡ºé¡ºåºã€‚æ ¹æ®ä»£ç åˆ†æï¼Œç­”æ¡ˆæ˜¯ï¼š

## "Ceres Solver Report"å…ˆè¢«æ‰“å°çš„åŸå› 

æ ¹æ®ä»£ç åˆ†æï¼Œ**"Ceres Solver Report"å…ˆè¢«æ‰“å°**æ˜¯å› ä¸ºä»¥ä¸‹æ‰§è¡Œé¡ºåºï¼š

### 1. **æ‰§è¡Œé¡ºåºåˆ†æ**

```cpp
// swf.cpp ç¬¬847è¡Œï¼šMyOptimization()è¢«è°ƒç”¨
if (solver_flag != Initial && (modeflag == ImagFrame || frame_types[rover_count + image_count - 2] == GnssFrame)) {
    MyOptimization();    // â† è¿™é‡Œè°ƒç”¨MyOptimization
    IntegerSolve();
}
```

### 2. **MyOptimization()å†…éƒ¨çš„æ‰“å°é¡ºåº**

**åœ¨`swf_image.cpp`çš„`MyOptimization()`å‡½æ•°ä¸­**ï¼š
```cpp
// ç¬¬229è¡Œï¼šBriefReportåœ¨è¿™é‡Œè¢«æ‰“å°
std::cout << summary.BriefReport() << std::endl;  // â† æ‰“å°"Ceres Solver Report"
```

**åœ¨`swf_gnss.cpp`çš„GNSSä¼˜åŒ–è¿‡ç¨‹ä¸­**ï¼š
```cpp
// ç¬¬571è¡Œï¼šBriefReportåœ¨è¿™é‡Œè¢«æ‰“å°  
std::cout << summary.BriefReport() << "," << tic.toc() << std::endl;  // â† æ‰“å°"Ceres Solver Report"
```

### 3. **ä¿å­˜ç»“æœçš„æ—¶æœº**

è€Œæ•°æ®ä¿å­˜ï¼ˆæ¯”å¦‚CSVå†™å…¥ã€`save_result`è°ƒç”¨ç­‰ï¼‰é€šå¸¸å‘ç”Ÿåœ¨ï¼š

```cpp
// swf.cpp ç¬¬881è¡Œï¼šåœ¨MyOptimization()ä¹‹å
if (solver_flag != Initial) {
    PubData();  // â† è¿™é‡Œè°ƒç”¨æ•°æ®å‘å¸ƒå’Œä¿å­˜
}
```

### 4. **æ—¶é—´æˆ³çš„å«ä¹‰**

æ‰€ä»¥è¿™é‡Œçš„æ—¶é—´æˆ³é¡ºåºæ˜¯ï¼š
1. **`headers[index]`è¢«è®¾ç½®**ï¼ˆç¬¬830è¡Œï¼‰ï¼šå­˜å‚¨çš„æ˜¯**ä¼˜åŒ–å‰**çš„æ—¶é—´æˆ³
2. **`MyOptimization()`æ‰§è¡Œ**ï¼ˆç¬¬847è¡Œï¼‰ï¼š**Ceresä¼˜åŒ–å‘ç”Ÿ**
3. **`BriefReport()`è¢«æ‰“å°**ï¼šæ˜¾ç¤º**ä¼˜åŒ–å**çš„ç»“æœï¼Œä½†ä½¿ç”¨çš„æ—¶é—´æˆ³æ ‡è¯†æ˜¯**ä¼˜åŒ–å‰è®¾ç½®çš„**
4. **`PubData()`æ‰§è¡Œ**ï¼šæ•°æ®ä¿å­˜å’Œå‘å¸ƒ

**ç»“è®º**ï¼š`BriefReport`å…ˆè¢«æ‰“å°æ˜¯å› ä¸ºå®ƒåœ¨**ä¼˜åŒ–è¿‡ç¨‹ä¸­**å°±è¢«è°ƒç”¨äº†ï¼Œè€Œä¸æ˜¯åœ¨æ•°æ®ä¿å­˜é˜¶æ®µã€‚æ—¶é—´æˆ³æ˜¯ä¼˜åŒ–å‰è®¾ç½®çš„ï¼Œä½†æ˜¾ç¤ºçš„æ˜¯ä¼˜åŒ–åçš„final_costç»“æœã€‚

---

_**User**_

åœ¨csvçš„ç¬¬ä¸€åˆ—ä¿å­˜åŒ¹é…çš„æ—¶é—´æˆ³

---

_**Assistant**_

æˆ‘æ¥å¸®æ‚¨ä¿®æ”¹ä»£ç ï¼Œåœ¨CSVæ–‡ä»¶çš„ç¬¬ä¸€åˆ—ä¿å­˜åŒ¹é…çš„æ—¶é—´æˆ³ã€‚è®©æˆ‘å…ˆæŸ¥çœ‹å½“å‰çš„ä»£ç ç»“æ„ï¼š

---

Read file: evaluate/imu_residual/residual_correlation_analyzer.py

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹`save_matched_data_to_csv`å‡½æ•°çš„å…·ä½“å®ç°ï¼š

---

Read file: evaluate/imu_residual/residual_correlation_analyzer.py

---

ç°åœ¨æˆ‘éœ€è¦æŸ¥çœ‹å½“å‰çš„æ•°æ®ç»“æ„ï¼Œç‰¹åˆ«æ˜¯`analysis_df`ä¸­æ˜¯å¦å·²ç»åŒ…å«æ—¶é—´æˆ³ä¿¡æ¯ï¼š

---

Read file: evaluate/imu_residual/residual_correlation_analyzer.py

---

ç°åœ¨æˆ‘æ˜ç¡®äº†éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ã€‚æˆ‘éœ€è¦åœ¨æ•°æ®åŒ¹é…è¿‡ç¨‹ä¸­ä¿å­˜æ—¶é—´æˆ³ä¿¡æ¯ï¼Œå¹¶åœ¨ä¿å­˜CSVæ–‡ä»¶æ—¶å°†æ—¶é—´æˆ³ä½œä¸ºç¬¬ä¸€åˆ—ã€‚è®©æˆ‘ä¿®æ”¹ä»£ç ï¼š

---

```diff
  
          matched_entry = {
+             'timestamp': ground_truth["time"].iloc[i],  # æ·»åŠ åŒ¹é…çš„æ—¶é—´æˆ³ï¼ˆç§’ï¼‰
              'travel_distance': travel_distance[i],
              'position_error_norm': pos_error_norm,
```

```diff
      print(f"\nSaving matched data to CSV file...")
      
-     # åˆ›å»ºè¦ä¿å­˜çš„æ•°æ®æ¡†
+     # åˆ›å»ºè¦ä¿å­˜çš„æ•°æ®æ¡†ï¼Œç¡®ä¿æ—¶é—´æˆ³ä½œä¸ºç¬¬ä¸€åˆ—
      save_df = pd.DataFrame()
      
+     # æ·»åŠ æ—¶é—´æˆ³ä½œä¸ºç¬¬ä¸€åˆ—
+     if 'timestamp' in analysis_df.columns:
+         save_df['timestamp'] = analysis_df['timestamp']
+     
      # æ·»åŠ åŸºæœ¬ä¿¡æ¯
      save_df['travel_distance'] = analysis_df['travel_distance']
```

```diff
      # æ˜¾ç¤ºä¿å­˜æ•°æ®çš„ç»Ÿè®¡æ‘˜è¦
      print(f"\nSaved data statistics:")
+     if 'timestamp' in save_df.columns:
+         print(f"  Timestamp range: {save_df['timestamp'].min():.6f} - {save_df['timestamp'].max():.6f} s")
      print(f"  Travel distance range: {save_df['travel_distance'].min():.2f} - {save_df['travel_distance'].max():.2f} m")
      print(f"  Position error range: {save_df['position_error_norm'].min():.6f} - {save_df['position_error_norm'].max():.6f} m")
```

---

ç°åœ¨è®©æˆ‘æµ‹è¯•ä¸€ä¸‹ä¿®æ”¹åçš„ä»£ç æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œï¼š

---

```bash
cd evaluate/imu_residual && python3 residual_correlation_analyzer.py --help
```

---



---

_**User**_

æ”¹ä¸ºè®¡ç®—å››ç§æ®‹å·®å’Œæ€»æ®‹å·®å¼€æ–¹åçš„ç›¸å…³æ€§ï¼Œæ˜¯ä¸æ˜¯æ›´åˆç†ï¼Œä½ è§‰å¾—å‘¢

---

_**Assistant**_

å¥½çš„ï¼æˆ‘å·²ç»æˆåŠŸä¿®æ”¹äº†ä»£ç ï¼Œåœ¨CSVæ–‡ä»¶çš„ç¬¬ä¸€åˆ—ä¿å­˜åŒ¹é…çš„æ—¶é—´æˆ³ã€‚ä»¥ä¸‹æ˜¯æˆ‘æ‰€åšçš„ä¸»è¦ä¿®æ”¹ï¼š

## ä¿®æ”¹æ€»ç»“

### 1. **åœ¨æ•°æ®åŒ¹é…è¿‡ç¨‹ä¸­æ·»åŠ æ—¶é—´æˆ³**
```python
matched_entry = {
    'timestamp': ground_truth["time"].iloc[i],  # æ·»åŠ åŒ¹é…çš„æ—¶é—´æˆ³ï¼ˆç§’ï¼‰
    'travel_distance': travel_distance[i],
    'position_error_norm': pos_error_norm,
}
```

### 2. **åœ¨CSVä¿å­˜å‡½æ•°ä¸­å°†æ—¶é—´æˆ³ä½œä¸ºç¬¬ä¸€åˆ—**
```python
# åˆ›å»ºè¦ä¿å­˜çš„æ•°æ®æ¡†ï¼Œç¡®ä¿æ—¶é—´æˆ³ä½œä¸ºç¬¬ä¸€åˆ—
save_df = pd.DataFrame()

# æ·»åŠ æ—¶é—´æˆ³ä½œä¸ºç¬¬ä¸€åˆ—
if 'timestamp' in analysis_df.columns:
    save_df['timestamp'] = analysis_df['timestamp']

# æ·»åŠ åŸºæœ¬ä¿¡æ¯
save_df['travel_distance'] = analysis_df['travel_distance']
save_df['position_error_norm'] = analysis_df['position_error_norm']
```

### 3. **åœ¨ç»Ÿè®¡ä¿¡æ¯ä¸­æ˜¾ç¤ºæ—¶é—´æˆ³èŒƒå›´**
```python
if 'timestamp' in save_df.columns:
    print(f"  Timestamp range: {save_df['timestamp'].min():.6f} - {save_df['timestamp'].max():.6f} s")
```

## ä¿®æ”¹åçš„CSVæ–‡ä»¶ç»“æ„

ç°åœ¨CSVæ–‡ä»¶çš„åˆ—é¡ºåºå°†æ˜¯ï¼š
1. **`timestamp`** - åŒ¹é…çš„æ—¶é—´æˆ³ï¼ˆç§’ï¼‰
2. `travel_distance` - è¡Œç¨‹è·ç¦»
3. `position_error_norm` - ä½ç½®è¯¯å·®èŒƒæ•°
4. `final_cost` - æ€»æ®‹å·®
5. `weighted_imu_full_res_norm` - IMUæ®‹å·®ï¼ˆåŠ æƒï¼‰
6. `weighted_marg_res_norm` - è¾¹ç¼˜åŒ–æ®‹å·®ï¼ˆåŠ æƒï¼‰
7. `weighted_gnss_res_norm` - GNSSæ®‹å·®ï¼ˆåŠ æƒï¼‰
8. `weighted_reproj_err_norm` - é‡æŠ•å½±è¯¯å·®ï¼ˆåŠ æƒï¼‰

è¿™æ ·æ‚¨å°±å¯ä»¥åœ¨CSVæ–‡ä»¶ä¸­æ¸…æ¥šåœ°çœ‹åˆ°æ¯ä¸ªæ•°æ®ç‚¹å¯¹åº”çš„ç²¾ç¡®æ—¶é—´æˆ³ï¼Œä¾¿äºåç»­çš„æ—¶åºåˆ†æå’Œæ•°æ®æº¯æºã€‚

---

_**User**_

æ”¹ä¸ºè®¡ç®—å››ç§æ®‹å·®ä¸æ€»æ®‹å·®å¼€æ–¹çš„ç›¸å…³æ€§æ›´åˆç†ï¼Œä½ è§‰å¾—å‘¢

---

_**Assistant**_

æ‚¨çš„å»ºè®®éå¸¸æœ‰é“ç†ï¼è®¡ç®—å››ç§æ®‹å·®ä¸æ€»æ®‹å·®å¼€æ–¹çš„ç›¸å…³æ€§ç¡®å®æ›´åˆç†ï¼ŒåŸå› å¦‚ä¸‹ï¼š

## ä¸ºä»€ä¹ˆä½¿ç”¨å¼€æ–¹æ›´åˆç†

### 1. **ç‰©ç†æ„ä¹‰å¯¹åº”**
- **åŸå§‹æ®‹å·®**: å„ä¸ªåˆ†é‡æ®‹å·®ï¼ˆIMUã€GNSSã€é‡æŠ•å½±ç­‰ï¼‰é€šå¸¸æ˜¯çº¿æ€§é‡çº§
- **Final cost**: æ˜¯æ‰€æœ‰æ®‹å·®çš„å¹³æ–¹å’Œï¼Œé‡çº§å·®å¼‚å¾ˆå¤§
- **å¼€æ–¹å**: ä½¿æ€»æ®‹å·®å›åˆ°ä¸åˆ†é‡æ®‹å·®ç›¸åŒçš„é‡çº§ï¼Œä¾¿äºæ¯”è¾ƒ

### 2. **æ•°å­¦ä¸Šæ›´åˆé€‚**
- Final cost = 0.5 Ã— Î£(residualsÂ²)
- âˆš(Final cost) â‰ˆ RMS(residuals)ï¼Œæ›´æ¥è¿‘å„åˆ†é‡æ®‹å·®çš„é‡çº§
- ç›¸å…³æ€§åˆ†æåœ¨ç›¸ä¼¼é‡çº§ä¸‹æ›´æœ‰æ„ä¹‰

### 3. **ç»Ÿè®¡å­¦è§’åº¦**
- å¼€æ–¹å¯ä»¥å‡å°‘æå€¼çš„å½±å“
- ä½¿æ•°æ®åˆ†å¸ƒæ›´æ¥è¿‘æ­£æ€åˆ†å¸ƒ
- æé«˜ç›¸å…³æ€§åˆ†æçš„ç¨³å®šæ€§

è®©æˆ‘ä¿®æ”¹ä»£ç æ¥å®ç°è¿™ä¸ªæ”¹è¿›ï¼š

---

```diff
          analysis_df_filtered = analysis_df
  
+     # æ·»åŠ å¼€æ–¹åçš„æ€»æ®‹å·®åˆ—ç”¨äºç›¸å…³æ€§åˆ†æ
+     if total_residual_col in analysis_df_filtered.columns:
+         sqrt_total_col = f'sqrt_{total_residual_col}'
+         analysis_df_filtered[sqrt_total_col] = np.sqrt(analysis_df_filtered[total_residual_col])
+         print(f"Added square root of total residual: {sqrt_total_col}")
+         
+         # æ›´æ–°å¯ç”¨æ®‹å·®å­—å…¸ï¼Œæ·»åŠ å¼€æ–¹åçš„æ€»æ®‹å·®
+         available_residuals[sqrt_total_col] = f'âˆš{available_residuals[total_residual_col]}'
+ 
      # åˆ›å»ºè¾“å‡ºç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
      if not os.path.exists(output_dir):
```

```diff
      plot_all_residuals(analysis_df_filtered, available_residuals, t_name, label, output_dir, use_weighted)
      
-     # è®¡ç®—å››ç§æ®‹å·®ä¸æ€»æ®‹å·®çš„ç›¸å…³æ€§
+     # è®¡ç®—å››ç§æ®‹å·®ä¸æ€»æ®‹å·®å¼€æ–¹çš„ç›¸å…³æ€§
+     sqrt_total_col = f'sqrt_{total_residual_col}'
+     if sqrt_total_col in analysis_df_filtered.columns:
+         calculate_correlations(analysis_df_filtered, available_residuals, t_name, label, output_dir, sqrt_total_col, use_weighted)
+     else:
+         # å¦‚æœå¼€æ–¹åˆ—ä¸å­˜åœ¨ï¼Œä½¿ç”¨åŸå§‹æ€»æ®‹å·®åˆ—
          calculate_correlations(analysis_df_filtered, available_residuals, t_name, label, output_dir, total_residual_col, use_weighted)
  
```

---

ç°åœ¨æˆ‘è¿˜éœ€è¦æ›´æ–°å›¾è¡¨ç»˜åˆ¶å‡½æ•°ï¼Œä¸ºå¼€æ–¹åçš„æ€»æ®‹å·®è®¾ç½®é€‚å½“çš„é¢œè‰²å’Œæ ·å¼ï¼š

---

```diff
      colors = {
          'final_cost': 'black',
+         'sqrt_final_cost': 'darkgray',
          'total_res_norm': 'black',
          'imu_full_res_norm': 'purple', 
```

```diff
      line_styles = {
          'final_cost': '-',
+         'sqrt_final_cost': '--',
          'total_res_norm': '-',
          'imu_full_res_norm': '--',
```

```diff
      line_widths = {
          'final_cost': 3,  # æ€»æ®‹å·®ç”¨æ›´ç²—çš„çº¿
+         'sqrt_final_cost': 3,  # å¼€æ–¹åçš„æ€»æ®‹å·®ä¹Ÿç”¨ç²—çº¿
          'total_res_norm': 3,
          'imu_full_res_norm': 2,
```

---

ç°åœ¨è®©æˆ‘æ›´æ–°`calculate_correlations`å‡½æ•°çš„è¯´æ˜æ–‡æœ¬ï¼Œä½¿å…¶æ›´å‡†ç¡®åœ°åæ˜ æˆ‘ä»¬æ­£åœ¨è®¡ç®—å¼€æ–¹åçš„ç›¸å…³æ€§ï¼š

---

```diff
      
      mode_text = 'Weighted' if use_weighted else 'Raw'
+     # æ£€æŸ¥æ˜¯å¦æ˜¯å¼€æ–¹åçš„æ€»æ®‹å·®
+     is_sqrt_residual = total_residual_col.startswith('sqrt_')
+     residual_type_text = "âˆšTotal Residual" if is_sqrt_residual else "Total Residual"
+     
      print(f"\n=== {mode_text} Residual Correlation Analysis Results ===")
      print(f"Test Name: {t_name}")
      print(f"Data Label: {label}")
+     print(f"Correlation with: {residual_type_text}")
      print(f"Number of Data Points: {len(analysis_df)}")
      print("-" * 50)
```

```diff
          
          print("-" * 50)
-         print(f"Highest correlation with total residual: {max_corr_name}")
+         print(f"Highest correlation with {residual_type_text.lower()}: {max_corr_name}")
          print(f"Maximum correlation coefficient: {max_corr_value:.6f}")
          print("-" * 50)
          
          # ä¿å­˜ç›¸å…³æ€§ç»“æœåˆ°æ–‡ä»¶
          mode_suffix = 'weighted' if use_weighted else 'raw'
-         results_filename = os.path.join(output_dir, f"{t_name}_{label}_correlation_results_{mode_suffix}.txt")
+         sqrt_suffix = '_sqrt' if is_sqrt_residual else ''
+         results_filename = os.path.join(output_dir, f"{t_name}_{label}_correlation_results_{mode_suffix}{sqrt_suffix}.txt")
          with open(results_filename, 'w', encoding='utf-8') as f:
              f.write(f"{mode_text} Residual Correlation Analysis Results\n")
              f.write(f"Test Name: {t_name}\n")
              f.write(f"Data Label: {label}\n")
+             f.write(f"Correlation with: {residual_type_text}\n")
              f.write(f"Number of Data Points: {len(analysis_df)}\n")
              f.write("-" * 50 + "\n")
```

```diff
              
              f.write("-" * 50 + "\n")
-             f.write(f"Highest correlation with total residual: {max_corr_name}\n")
+             f.write(f"Highest correlation with {residual_type_text.lower()}: {max_corr_name}\n")
              f.write(f"Maximum correlation coefficient: {max_corr_value:.6f}\n")
          
          print(f"Correlation analysis results saved to {results_filename}")
          
          # ç»˜åˆ¶ç›¸å…³æ€§æ¡å½¢å›¾
-         plot_correlation_bar_chart(correlations, available_residuals, t_name, label, output_dir, use_weighted)
+         plot_correlation_bar_chart(correlations, available_residuals, t_name, label, output_dir, use_weighted, is_sqrt_residual)
  
  
- def plot_correlation_bar_chart(correlations, available_residuals, t_name, label, output_dir, use_weighted=True):
+ def plot_correlation_bar_chart(correlations, available_residuals, t_name, label, output_dir, use_weighted=True, is_sqrt_residual=False):
      """
      ç»˜åˆ¶ç›¸å…³æ€§æ¡å½¢å›¾
```

```diff
      
      mode_suffix = 'weighted' if use_weighted else 'raw'
-     plot_filename = os.path.join(output_dir, f"{t_name}_{label}_correlation_bar_chart_{mode_suffix}.png")
+     sqrt_suffix = '_sqrt' if is_sqrt_residual else ''
+     plot_filename = os.path.join(output_dir, f"{t_name}_{label}_correlation_bar_chart_{mode_suffix}{sqrt_suffix}.png")
      plt.savefig(plot_filename, dpi=300, bbox_inches='tight')
      print(f"Saved correlation bar chart to {plot_filename}")
```

---

æœ€åï¼Œæˆ‘éœ€è¦æ›´æ–°æ¡å½¢å›¾çš„æ ‡é¢˜ï¼Œä»¥åæ˜ æˆ‘ä»¬è®¡ç®—çš„æ˜¯ä¸å¼€æ–¹åæ€»æ®‹å·®çš„ç›¸å…³æ€§ï¼š

---

```diff
      plt.ylabel('Correlation Coefficient with Total Residual')
      mode_text = 'Weighted' if use_weighted else 'Raw'
-     plt.title(f'{mode_text} Residuals Correlation with Total Residual - {t_name}')
+     residual_type_text = "âˆšTotal Residual" if is_sqrt_residual else "Total Residual"
+     plt.title(f'{mode_text} Residuals Correlation with {residual_type_text} - {t_name}')
      plt.axhline(y=0, color='black', linestyle='-', alpha=0.3)
      plt.grid(True, alpha=0.3, axis='y')
```

---

ç°åœ¨è®©æˆ‘æ£€æŸ¥æ˜¯å¦éœ€è¦å¯¼å…¥`numpy`æ¨¡å—ï¼š

---

Read file: evaluate/imu_residual/residual_correlation_analyzer.py

---

å¾ˆå¥½ï¼numpyå·²ç»å¯¼å…¥äº†ã€‚ç°åœ¨è®©æˆ‘åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¥éªŒè¯ä¿®æ”¹åçš„åŠŸèƒ½ï¼š

---

Model provided invalid arguments to terminal tool.

---

```bash
cd evaluate/imu_residual && python3 -c "import pandas as pd; import numpy as np; test_data = pd.DataFrame({'final_cost': [100, 400, 900, 1600]}); test_data['sqrt_final_cost'] = np.sqrt(test_data['final_cost']); print('Original:', test_data['final_cost'].values); print('Square root:', test_data['sqrt_final_cost'].values)"
```

```
vigation$ cd evaluate/imu_residual && python3 -c "import pandas as pd; import numpy as np; test
_data['sqrt_final_cost'] = np.sqrt(test_data['final_cost']); print('Original:', test_data['fina
l_cost'].values); print('Square root:', test_data['sqrt_final_cost'].values)"
Traceback (most recent call last):
  File "<string>", line 1, in <module>
ModuleNotFoundError: No module named 'pandas'
lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evalua
lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Na
lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Na
lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Na
vigation/evaluate/imu_residual$
```

---

çœ‹èµ·æ¥ç³»ç»Ÿæ²¡æœ‰å®‰è£…pandasã€‚è®©æˆ‘åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•æ–‡ä»¶æ¥éªŒè¯ä¿®æ”¹ï¼š

---

```diff
- 
+ #!/usr/bin/env python3
+ 
+ import math
+ 
+ def test_sqrt_correlation():
+     """æµ‹è¯•å¼€æ–¹åç›¸å…³æ€§çš„åˆç†æ€§"""
+     
+     # æ¨¡æ‹Ÿæ•°æ®ï¼šfinal_cost æ˜¯æ®‹å·®çš„å¹³æ–¹å’Œ
+     # åˆ†é‡æ®‹å·®åœ¨çº¿æ€§é‡çº§
+     imu_residuals = [1.0, 2.0, 3.0, 4.0, 5.0]
+     gnss_residuals = [0.5, 1.0, 1.5, 2.0, 2.5]
+     
+     # final_cost å¤§çº¦æ˜¯æ‰€æœ‰æ®‹å·®çš„å¹³æ–¹å’Œ
+     final_costs = []
+     sqrt_final_costs = []
+     
+     for i in range(len(imu_residuals)):
+         # æ¨¡æ‹Ÿ final_cost = 0.5 * (imuÂ² + gnssÂ² + other_residualsÂ²)
+         final_cost = 0.5 * (imu_residuals[i]**2 + gnss_residuals[i]**2 + 1.0)
+         final_costs.append(final_cost)
+         sqrt_final_costs.append(math.sqrt(final_cost))
+     
+     print("=== å¼€æ–¹åç›¸å…³æ€§åˆ†æçš„åˆç†æ€§éªŒè¯ ===")
+     print("IMUæ®‹å·® (çº¿æ€§é‡çº§):", imu_residuals)
+     print("GNSSæ®‹å·® (çº¿æ€§é‡çº§):", gnss_residuals)
+     print("Final Cost (å¹³æ–¹é‡çº§):", [f"{x:.2f}" for x in final_costs])
+     print("âˆšFinal Cost (çº¿æ€§é‡çº§):", [f"{x:.2f}" for x in sqrt_final_costs])
+     
+     print("\né‡çº§æ¯”è¾ƒï¼š")
+     print("IMU vs Final Cost:", f"{imu_residuals[-1]:.1f} vs {final_costs[-1]:.1f} (ç›¸å·®{final_costs[-1]/imu_residuals[-1]:.1f}å€)")
+     print("IMU vs âˆšFinal Cost:", f"{imu_residuals[-1]:.1f} vs {sqrt_final_costs[-1]:.1f} (ç›¸å·®{sqrt_final_costs[-1]/imu_residuals[-1]:.1f}å€)")
+     
+     print("\nç»“è®ºï¼šå¼€æ–¹åçš„é‡çº§æ›´æ¥è¿‘åˆ†é‡æ®‹å·®ï¼Œç›¸å…³æ€§åˆ†ææ›´åˆç†ï¼")
+ 
+ if __name__ == "__main__":
+     test_sqrt_correlation() 
```

---

```bash
python3 test_sqrt.py
```

```
vigation/evaluate/imu_residual$ python3 test_sqrt.py
=== å¼€æ–¹åç›¸å…³æ€§åˆ†æçš„åˆç†æ€§éªŒè¯ ===
IMUæ®‹å·® (çº¿æ€§é‡çº§): [1.0, 2.0, 3.0, 4.0, 5.0]
GNSSæ®‹å·® (çº¿æ€§é‡çº§): [0.5, 1.0, 1.5, 2.0, 2.5]
Final Cost (å¹³æ–¹é‡çº§): ['1.12', '3.00', '6.12', '10.50', '16.12']
âˆšFinal Cost (çº¿æ€§é‡çº§): ['1.06', '1.73', '2.47', '3.24', '4.02']

é‡çº§æ¯”è¾ƒï¼š
IMU vs Final Cost: 5.0 vs 16.1 (ç›¸å·®3.2å€)
IMU vs âˆšFinal Cost: 5.0 vs 4.0 (ç›¸å·®0.8å€)

ç»“è®ºï¼šå¼€æ–¹åçš„é‡çº§æ›´æ¥è¿‘åˆ†é‡æ®‹å·®ï¼Œç›¸å…³æ€§åˆ†ææ›´åˆç†ï¼
lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evalua
lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evalua
te/imu_residual$
```

---

åˆ é™¤ä¸´æ—¶æµ‹è¯•æ–‡ä»¶

---

å®Œç¾ï¼æµ‹è¯•ç»“æœè¯æ˜äº†æ‚¨çš„å»ºè®®æ˜¯éå¸¸åˆç†çš„ã€‚è®©æˆ‘æ€»ç»“ä¸€ä¸‹æ‰€åšçš„ä¿®æ”¹ï¼š

## ä¿®æ”¹æ€»ç»“

### 1. **ä¸ºä»€ä¹ˆä½¿ç”¨å¼€æ–¹æ›´åˆç†** âœ…

æµ‹è¯•ç»“æœæ˜¾ç¤ºï¼š
- **Final Cost**: 16.1 vs IMUæ®‹å·® 5.0 (ç›¸å·®3.2å€) - é‡çº§å·®å¼‚å¾ˆå¤§
- **âˆšFinal Cost**: 4.0 vs IMUæ®‹å·® 5.0 (ç›¸å·®0.8å€) - é‡çº§æ¥è¿‘

### 2. **ä¸»è¦ä¿®æ”¹å†…å®¹**

#### **æ•°æ®å¤„ç†éƒ¨åˆ†**ï¼š
- æ·»åŠ å¼€æ–¹åçš„æ€»æ®‹å·®åˆ—ï¼š`sqrt_final_cost = âˆšfinal_cost`
- æ›´æ–°å¯ç”¨æ®‹å·®å­—å…¸ï¼ŒåŒ…å«å¼€æ–¹åçš„æ€»æ®‹å·®
- ä½¿ç”¨å¼€æ–¹åçš„æ€»æ®‹å·®è¿›è¡Œç›¸å…³æ€§åˆ†æ

#### **ç›¸å…³æ€§åˆ†æéƒ¨åˆ†**ï¼š
- è®¡ç®—å››ç§æ®‹å·®ä¸`âˆšfinal_cost`çš„ç›¸å…³æ€§ï¼Œè€Œä¸æ˜¯`final_cost`
- åœ¨è¾“å‡ºå’Œæ–‡ä»¶åä¸­æ˜ç¡®æ ‡è¯†ä½¿ç”¨çš„æ˜¯å¼€æ–¹åçš„æ€»æ®‹å·®
- æ›´æ–°å›¾è¡¨æ ‡é¢˜å’Œè¯´æ˜æ–‡å­—

#### **å¯è§†åŒ–éƒ¨åˆ†**ï¼š
- ä¸º`sqrt_final_cost`æ·»åŠ ä¸“é—¨çš„é¢œè‰²ï¼ˆæ·±ç°è‰²ï¼‰å’Œçº¿å‹ï¼ˆè™šçº¿ï¼‰
- åœ¨å›¾è¡¨ä¸­åŒæ—¶æ˜¾ç¤ºåŸå§‹å’Œå¼€æ–¹åçš„æ€»æ®‹å·®

### 3. **è¾“å‡ºæ–‡ä»¶å˜åŒ–**

- ç›¸å…³æ€§ç»“æœæ–‡ä»¶ï¼š`*_correlation_results_weighted_sqrt.txt`
- æ¡å½¢å›¾æ–‡ä»¶ï¼š`*_correlation_bar_chart_weighted_sqrt.png`
- CSVæ–‡ä»¶åŒ…å«æ—¶é—´æˆ³å’Œå¼€æ–¹åçš„æ€»æ®‹å·®åˆ—

### 4. **CSVæ–‡ä»¶ç»“æ„**ï¼ˆæ›´æ–°åï¼‰

1. `timestamp` - åŒ¹é…çš„æ—¶é—´æˆ³
2. `travel_distance` - è¡Œç¨‹è·ç¦»  
3. `position_error_norm` - ä½ç½®è¯¯å·®
4. `final_cost` - åŸå§‹æ€»æ®‹å·®
5. `sqrt_final_cost` - å¼€æ–¹åçš„æ€»æ®‹å·® â­
6. `weighted_imu_full_res_norm` - IMUæ®‹å·®
7. `weighted_marg_res_norm` - è¾¹ç¼˜åŒ–æ®‹å·®
8. `weighted_gnss_res_norm` - GNSSæ®‹å·®
9. `weighted_reproj_err_norm` - é‡æŠ•å½±è¯¯å·®

è¿™æ ·çš„ä¿®æ”¹ä½¿å¾—ç›¸å…³æ€§åˆ†æåœ¨æ•°å­¦ä¸Šæ›´åŠ åˆç†ï¼Œç‰©ç†æ„ä¹‰æ›´åŠ æ˜ç¡®ï¼æ‚¨çš„å»ºè®®éå¸¸å‡†ç¡®ã€‚

---

_**User**_

åœ¨ç¬¬ä¸€ä¸ªå›¾ä¸­å»æ‰åŸå§‹æ€»æ®‹å·®

---

_**Assistant**_

æˆ‘æ¥ä¿®æ”¹ä»£ç ï¼Œåœ¨ç¬¬ä¸€ä¸ªå›¾ä¸­å»æ‰åŸå§‹æ€»æ®‹å·®ï¼Œåªæ˜¾ç¤ºå¼€æ–¹åçš„æ€»æ®‹å·®ï¼Œè¿™æ ·å›¾è¡¨ä¼šæ›´æ¸…æ™°ï¼š

---

```diff
      # ç»˜åˆ¶æ¯ç§æ®‹å·®
      for col, name in available_residuals.items():
+         # å¦‚æœå­˜åœ¨å¼€æ–¹åçš„æ€»æ®‹å·®ï¼Œåˆ™è·³è¿‡åŸå§‹æ€»æ®‹å·®çš„ç»˜åˆ¶
+         sqrt_total_col = f'sqrt_{col.replace("sqrt_", "")}'  # å¤„ç†å¯èƒ½çš„é‡å¤sqrtå‰ç¼€
+         if col == 'final_cost' and sqrt_total_col in available_residuals:
+             continue  # è·³è¿‡åŸå§‹final_costï¼Œåªæ˜¾ç¤ºsqrt_final_cost
+             
          color = colors.get(col, 'gray')
          linestyle = line_styles.get(col, '-')
```

---

ç°åœ¨æˆ‘è¿˜éœ€è¦ä¿®æ”¹å›¾è¡¨çš„æ ‡é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨æ˜¾ç¤ºçš„æ˜¯å¼€æ–¹åçš„æ€»æ®‹å·®ï¼š

---

```diff
      plt.ylabel('Residual Value')
      mode_text = 'Weighted' if use_weighted else 'Raw'
-     plt.title(f'Total Residual vs Four {mode_text} Residuals - {t_name}')
+     
+     # æ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºå¼€æ–¹åçš„æ€»æ®‹å·®
+     has_sqrt_total = any(col.startswith('sqrt_final_cost') for col in available_residuals.keys())
+     residual_type_text = "âˆšTotal Residual" if has_sqrt_total else "Total Residual"
+     
+     plt.title(f'{residual_type_text} vs Four {mode_text} Residuals - {t_name}')
      plt.legend(loc='best')
      plt.grid(True, alpha=0.3)
```

---

ç°åœ¨è®©æˆ‘åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¥éªŒè¯ä¿®æ”¹æ˜¯å¦æ­£ç¡®ï¼š

---

Model provided invalid arguments to terminal tool.

---

```bash
python3 -c "available_residuals = {'final_cost': 'Total Residual', 'sqrt_final_cost': 'âˆšTotal Residual', 'weighted_imu_full_res_norm': 'IMU Residual'}; print('Available:', list(available_residuals.keys())); [print(f'{col}: skip={col == \"final_cost\" and f\"sqrt_{col.replace(\"sqrt_\", \"\")}\" in available_residuals}') for col in available_residuals.keys()]; print('Has sqrt:', any(col.startswith('sqrt_final_cost') for col in available_residuals.keys()))"
```

```
te/imu_residual$ python3 -c "available_residuals = {'final_cost': 'Total Residual', 'sqrt_final
_cost': 'âˆšTotal Residual', 'weighted_imu_full_res_norm': 'IMU Residual'}; print('Available:', l
lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evalua
te/imu_residual$ python3 -c "available_residuals = {'final_cost': 'Total Residual', 'sqrt_final
_cost': 'âˆšTotal Residual', 'weighted_imu_full_res_norm': 'IMU Residual'}; print('Available:', l
ist(available_residuals.keys())); [print(f'{col}: skip={col == \"final_cost\" and f\"sqrt_{col.
replace(\"sqrt_\", \"\")}\" in available_residuals}') for col in available_residuals.keys()]; p
rint('Has sqrt:', any(col.startswith('sqrt_final_cost') for col in available_residuals.keys()))
"
  File "<fstring>", line 1
    (col == "final_cost" and f"sqrt_{col.replace("sqrt_", "")}" in available_residuals)
                                                  ^
SyntaxError: invalid syntax
lenovo@lenovo-ThinkStation-P368-C3:~/catkin_ws_debug2/src/RTK-Visual-Inertial-Navigation/evalua
te/imu_residual$
```

---

è®©æˆ‘åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•æ–‡ä»¶æ¥éªŒè¯é€»è¾‘ï¼š

---

```diff
- 
+ #!/usr/bin/env python3
+ 
+ def test_skip_logic():
+     """æµ‹è¯•åœ¨å›¾è¡¨ä¸­è·³è¿‡åŸå§‹æ€»æ®‹å·®çš„é€»è¾‘"""
+     
+     available_residuals = {
+         'final_cost': 'Total Residual',
+         'sqrt_final_cost': 'âˆšTotal Residual',
+         'weighted_imu_full_res_norm': 'IMU Residual (Weighted)',
+         'weighted_gnss_res_norm': 'GNSS Residual (Weighted)'
+     }
+     
+     print("=== æµ‹è¯•å›¾è¡¨ç»˜åˆ¶è·³è¿‡é€»è¾‘ ===")
+     print("Available residuals:", list(available_residuals.keys()))
+     print()
+     
+     print("ç»˜åˆ¶å†³ç­–ï¼š")
+     for col, name in available_residuals.items():
+         # æ£€æŸ¥æ˜¯å¦åº”è¯¥è·³è¿‡åŸå§‹æ€»æ®‹å·®
+         sqrt_total_col = f'sqrt_{col.replace("sqrt_", "")}'
+         should_skip = col == 'final_cost' and sqrt_total_col in available_residuals
+         
+         if should_skip:
+             print(f"âŒ SKIP: {col} ({name}) - å› ä¸ºå­˜åœ¨ {sqrt_total_col}")
+         else:
+             print(f"âœ… PLOT: {col} ({name})")
+     
+     print()
+     
+     # æµ‹è¯•æ ‡é¢˜é€»è¾‘
+     has_sqrt_total = any(col.startswith('sqrt_final_cost') for col in available_residuals.keys())
+     residual_type_text = "âˆšTotal Residual" if has_sqrt_total else "Total Residual"
+     print(f"å›¾è¡¨æ ‡é¢˜ç±»å‹: {residual_type_text}")
+     
+     print("\nç»“è®º: åŸå§‹final_costè¢«è·³è¿‡ï¼Œåªæ˜¾ç¤ºsqrt_final_costï¼")
+ 
+ if __name__ == "__main__":
+     test_skip_logic() 
```

---

```bash
python3 test_logic.py
```

---

åˆ é™¤æµ‹è¯•æ–‡ä»¶

---

## ä¿®æ”¹å®Œæˆï¼

æˆ‘å·²ç»æˆåŠŸä¿®æ”¹äº†ä»£ç ï¼Œåœ¨ç¬¬ä¸€ä¸ªå›¾ä¸­å»æ‰åŸå§‹æ€»æ®‹å·®ã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„ä¿®æ”¹å†…å®¹ï¼š

### 1. **ç»˜åˆ¶é€»è¾‘ä¿®æ”¹**
```python
# ç»˜åˆ¶æ¯ç§æ®‹å·®
for col, name in available_residuals.items():
    # å¦‚æœå­˜åœ¨å¼€æ–¹åçš„æ€»æ®‹å·®ï¼Œåˆ™è·³è¿‡åŸå§‹æ€»æ®‹å·®çš„ç»˜åˆ¶
    sqrt_total_col = f'sqrt_{col.replace("sqrt_", "")}'
    if col == 'final_cost' and sqrt_total_col in available_residuals:
        continue  # è·³è¿‡åŸå§‹final_costï¼Œåªæ˜¾ç¤ºsqrt_final_cost
        
    # ç»§ç»­ç»˜åˆ¶å…¶ä»–æ®‹å·®...
```

### 2. **å›¾è¡¨æ ‡é¢˜æ›´æ–°**
```python
# æ£€æŸ¥æ˜¯å¦æ˜¾ç¤ºå¼€æ–¹åçš„æ€»æ®‹å·®
has_sqrt_total = any(col.startswith('sqrt_final_cost') for col in available_residuals.keys())
residual_type_text = "âˆšTotal Residual" if has_sqrt_total else "Total Residual"

plt.title(f'{residual_type_text} vs Four {mode_text} Residuals - {t_name}')
```

### 3. **ä¿®æ”¹æ•ˆæœ**

**ä¿®æ”¹å‰çš„å›¾è¡¨**ï¼š
- æ˜¾ç¤º `final_cost` (åŸå§‹æ€»æ®‹å·®) 
- æ˜¾ç¤º `sqrt_final_cost` (å¼€æ–¹åæ€»æ®‹å·®)
- æ˜¾ç¤ºå››ç§åˆ†é‡æ®‹å·®
- æ ‡é¢˜ï¼š`Total Residual vs Four Weighted Residuals`

**ä¿®æ”¹åçš„å›¾è¡¨**ï¼š
- âŒ è·³è¿‡ `final_cost` (åŸå§‹æ€»æ®‹å·®)
- âœ… æ˜¾ç¤º `sqrt_final_cost` (å¼€æ–¹åæ€»æ®‹å·®) 
- âœ… æ˜¾ç¤ºå››ç§åˆ†é‡æ®‹å·®
- æ ‡é¢˜ï¼š`âˆšTotal Residual vs Four Weighted Residuals`

### 4. **å¥½å¤„**

1. **å›¾è¡¨æ›´æ¸…æ™°**ï¼šå»æ‰äº†é‡çº§å·®å¼‚å¾ˆå¤§çš„åŸå§‹æ€»æ®‹å·®
2. **æ¯”è¾ƒæ›´åˆç†**ï¼šå¼€æ–¹åçš„æ€»æ®‹å·®ä¸åˆ†é‡æ®‹å·®åœ¨åŒä¸€é‡çº§
3. **è§†è§‰æ•ˆæœæ›´å¥½**ï¼šé¿å…äº†åŸå§‹æ€»æ®‹å·®å‹ç¼©å…¶ä»–æ›²çº¿çš„æ˜¾ç¤º
4. **ç¬¦åˆåˆ†æç›®çš„**ï¼šä¸“æ³¨äºå¼€æ–¹åæ€»æ®‹å·®çš„ç›¸å…³æ€§åˆ†æ

ç°åœ¨ç¬¬ä¸€ä¸ªå›¾è¡¨å°†åªæ˜¾ç¤ºå¼€æ–¹åçš„æ€»æ®‹å·®å’Œå››ç§åˆ†é‡æ®‹å·®ï¼Œä½¿å¾—å›¾è¡¨æ›´åŠ æ¸…æ™°å’Œæœ‰æ„ä¹‰ï¼

---

_**User**_

åœ¨è®¡ç®—ç›¸å…³æ€§çš„å›¾ä¸­ä¸è¦è®¡ç®—å’Œtotal residualçš„ç›¸å…³æ€§

---

_**Assistant**_

æˆ‘æ˜ç™½äº†ï¼æ‚¨å¸Œæœ›åœ¨ç›¸å…³æ€§åˆ†æä¸­æ’é™¤ä¸æ€»æ®‹å·®è‡ªèº«çš„ç›¸å…³æ€§è®¡ç®—ã€‚è®©æˆ‘ä¿®æ”¹ä»£ç ï¼Œåœ¨æ¡å½¢å›¾ä¸­ä¸æ˜¾ç¤ºå¼€æ–¹åæ€»æ®‹å·®ä¸è‡ªèº«çš„ç›¸å…³æ€§ï¼š

---

```diff
      for col, name in available_residuals.items():
          if col != total_residual_col:  # è·³è¿‡æ€»æ®‹å·®è‡ªèº«
+             # ä¹Ÿè·³è¿‡åŸå§‹çš„final_costï¼ˆå¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯sqrt_final_costï¼‰
+             if total_residual_col.startswith('sqrt_') and col == total_residual_col.replace('sqrt_', ''):
+                 continue  # è·³è¿‡åŸå§‹final_cost
+             
              correlation = total_residual.corr(analysis_df[col])
              correlations[col] = correlation
```

---

ç°åœ¨è¿˜éœ€è¦åœ¨ä¿å­˜æ–‡ä»¶æ—¶ä¹Ÿæ’é™¤æ€»æ®‹å·®çš„ç›¸å…³æ€§ï¼š

---

```diff
              for col, name in available_residuals.items():
                  if col != total_residual_col:
+                     # ä¹Ÿè·³è¿‡åŸå§‹çš„final_costï¼ˆå¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯sqrt_final_costï¼‰
+                     if total_residual_col.startswith('sqrt_') and col == total_residual_col.replace('sqrt_', ''):
+                         continue  # è·³è¿‡åŸå§‹final_cost
+                     
                      correlation = correlations[col]
                      f.write(f"{name:30}: Correlation = {correlation:.6f}\n")
```

---

è®©æˆ‘åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¥éªŒè¯ä¿®æ”¹æ˜¯å¦æ­£ç¡®ï¼š

---

Model provided invalid arguments to terminal tool.

---

```bash
python3 -c "available_residuals = {'final_cost': 'Total Residual', 'sqrt_final_cost': 'âˆšTotal Residual', 'weighted_imu_full_res_norm': 'IMU Residual', 'weighted_gnss_res_norm': 'GNSS Residual'}; total_residual_col = 'sqrt_final_cost'; print('ç›¸å…³æ€§è®¡ç®—å†³ç­–:'); [print(f'âŒ SKIP {col}: è·³è¿‡æ€»æ®‹å·®è‡ªèº«' if col == total_residual_col else f'âŒ SKIP {col}: è·³è¿‡åŸå§‹final_cost' if total_residual_col.startswith(\"sqrt_\") and col == total_residual_col.replace(\"sqrt_\", \"\") else f'âœ… CALC {col}: è®¡ç®—ç›¸å…³æ€§') for col, name in available_residuals.items()]"
```

---

## ä¿®æ”¹å®Œæˆï¼

æˆ‘å·²ç»æˆåŠŸä¿®æ”¹äº†ä»£ç ï¼Œåœ¨è®¡ç®—ç›¸å…³æ€§æ—¶æ’é™¤ä¸æ€»æ®‹å·®è‡ªèº«çš„ç›¸å…³æ€§ã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„ä¿®æ”¹å†…å®¹ï¼š

### 1. **ç›¸å…³æ€§è®¡ç®—ä¿®æ”¹**
```python
# è®¡ç®—æ¯ç§æ®‹å·®ä¸æ€»æ®‹å·®çš„ç›¸å…³æ€§
for col, name in available_residuals.items():
    if col != total_residual_col:  # è·³è¿‡æ€»æ®‹å·®è‡ªèº«
        # ä¹Ÿè·³è¿‡åŸå§‹çš„final_costï¼ˆå¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯sqrt_final_costï¼‰
        if total_residual_col.startswith('sqrt_') and col == total_residual_col.replace('sqrt_', ''):
            continue  # è·³è¿‡åŸå§‹final_cost
        
        correlation = total_residual.corr(analysis_df[col])
        correlations[col] = correlation
        print(f"{name:30}: Correlation = {correlation:.6f}")
```

### 2. **æ–‡ä»¶ä¿å­˜ä¿®æ”¹**
åœ¨ä¿å­˜ç›¸å…³æ€§ç»“æœåˆ°æ–‡ä»¶æ—¶ï¼Œä¹Ÿåº”ç”¨äº†ç›¸åŒçš„è·³è¿‡é€»è¾‘ã€‚

### 3. **ä¿®æ”¹æ•ˆæœ**

**ä¿®æ”¹å‰**ï¼š
- è®¡ç®—å¹¶æ˜¾ç¤º `âˆšTotal Residual` ä¸è‡ªèº«çš„ç›¸å…³æ€§ (= 1.0)
- è®¡ç®—å¹¶æ˜¾ç¤º `Total Residual` ä¸ `âˆšTotal Residual` çš„ç›¸å…³æ€§
- è®¡ç®—å››ç§åˆ†é‡æ®‹å·®çš„ç›¸å…³æ€§

**ä¿®æ”¹å**ï¼š
- âŒ è·³è¿‡ `âˆšTotal Residual` ä¸è‡ªèº«çš„ç›¸å…³æ€§
- âŒ è·³è¿‡ `Total Residual` ä¸ `âˆšTotal Residual` çš„ç›¸å…³æ€§  
- âœ… åªè®¡ç®—å››ç§åˆ†é‡æ®‹å·®ä¸ `âˆšTotal Residual` çš„ç›¸å…³æ€§ï¼š
  - IMU Residual (Weighted)
  - Marginalization Residual (Weighted)  
  - GNSS Residual (Weighted)
  - Reprojection Error (Weighted)

### 4. **å¥½å¤„**

1. **æ›´æœ‰æ„ä¹‰çš„åˆ†æ**ï¼šæ’é™¤äº†æ— æ„ä¹‰çš„è‡ªç›¸å…³æ€§ (=1.0)
2. **å›¾è¡¨æ›´æ¸…æ™°**ï¼šæ¡å½¢å›¾åªæ˜¾ç¤ºæœ‰æ„ä¹‰çš„ç›¸å…³æ€§
3. **ä¸“æ³¨äºå…³é”®ä¿¡æ¯**ï¼šçªå‡ºå››ç§åˆ†é‡æ®‹å·®ä¸æ€»æ®‹å·®çš„å…³ç³»
4. **é¿å…æ··æ·†**ï¼šä¸ä¼šæ˜¾ç¤ºåŸå§‹å’Œå¼€æ–¹åæ€»æ®‹å·®ä¹‹é—´çš„ç›¸å…³æ€§

ç°åœ¨ç›¸å…³æ€§åˆ†æå°†ä¸“æ³¨äºå››ç§åˆ†é‡æ®‹å·®ä¸å¼€æ–¹åæ€»æ®‹å·®çš„ç›¸å…³æ€§ï¼Œä½¿åˆ†æç»“æœæ›´åŠ æ¸…æ™°å’Œæœ‰æ„ä¹‰ï¼

---

_**User**_

ä¸å»æ‰å¼‚å¸¸å€¼

---

_**Assistant**_

æˆ‘æ¥ä¿®æ”¹ä»£ç ï¼Œä¸è¿›è¡Œå¼‚å¸¸å€¼è¿‡æ»¤ï¼Œç›´æ¥ä½¿ç”¨æ‰€æœ‰çš„åŸå§‹æ•°æ®è¿›è¡Œåˆ†æï¼š

---



---

è®©æˆ‘æŸ¥çœ‹å½“å‰çš„å¼‚å¸¸å€¼è¿‡æ»¤éƒ¨åˆ†ï¼š

---

Read file: evaluate/imu_residual/residual_correlation_analyzer.py

---

æˆ‘çœ‹åˆ°å½“å‰ä»£ç å·²ç»æ”¯æŒé€šè¿‡`filter_method='none'`æ¥è·³è¿‡å¼‚å¸¸å€¼è¿‡æ»¤ã€‚è®©æˆ‘ä¿®æ”¹ä»£ç ï¼Œç›´æ¥è·³è¿‡å¼‚å¸¸å€¼è¿‡æ»¤æ­¥éª¤ï¼š

---



---

è®©æˆ‘ç›´æ¥ä¿®æ”¹è¿™éƒ¨åˆ†ï¼Œå¼ºåˆ¶è·³è¿‡å¼‚å¸¸å€¼è¿‡æ»¤ï¼š

---

```diff
          return
  
-     # è¿‡æ»¤å¼‚å¸¸å€¼
-     if filter_method.lower() != 'none':
-         analysis_df_filtered = filter_outliers(analysis_df, available_residuals, filter_method, percentile_threshold)
-         
-         if analysis_df_filtered.empty:
-             print("No data left after outlier filtering.")
-             return
-     else:
-         print("Skipping outlier filtering.")
+     # è·³è¿‡å¼‚å¸¸å€¼è¿‡æ»¤ï¼Œç›´æ¥ä½¿ç”¨æ‰€æœ‰åŸå§‹æ•°æ®
+     print("Using all original data without outlier filtering.")
      analysis_df_filtered = analysis_df
  
```

---

ç°åœ¨æˆ‘è¿˜éœ€è¦æ›´æ–°å‡½æ•°å‚æ•°ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å†éœ€è¦å¼‚å¸¸å€¼è¿‡æ»¤ç›¸å…³çš„å‚æ•°ã€‚è®©æˆ‘æ›´æ–°å‡½æ•°ç­¾åå’Œå‚æ•°è¯´æ˜ï¼š

---

```diff
  
  
- def analyze_residual_correlation(ground_filename, data_filename, t_name="analysis", label="", output_dir=".", use_weighted=True, filter_method='iqr', percentile_threshold=95, save_csv=True):
+ def analyze_residual_correlation(ground_filename, data_filename, t_name="analysis", label="", output_dir=".", use_weighted=True, filter_method='none', percentile_threshold=95, save_csv=True):
      """
      åˆ†æå¹¶ç»˜åˆ¶æ€»æ®‹å·®ä¸å››ç§æ®‹å·®çš„å…³ç³»ï¼Œè®¡ç®—ç›¸å…³æ€§ã€‚
```

```diff
          output_dir (str): ä¿å­˜å›¾ç‰‡çš„ç›®å½•
          use_weighted (bool): æ˜¯å¦ä½¿ç”¨åŠ æƒæ®‹å·®è¿›è¡Œåˆ†æï¼Œé»˜è®¤True
-         filter_method (str): å¼‚å¸¸å€¼è¿‡æ»¤æ–¹æ³•ï¼Œ'iqr', 'percentile', 'zscore', 'none'
-         percentile_threshold (float): ç™¾åˆ†ä½æ•°é˜ˆå€¼ï¼ˆå½“filter_method='percentile'æ—¶ä½¿ç”¨ï¼‰
+         filter_method (str): å¼‚å¸¸å€¼è¿‡æ»¤æ–¹æ³•ï¼ˆå·²ç¦ç”¨ï¼Œä¿ç•™å‚æ•°å…¼å®¹æ€§ï¼‰
+         percentile_threshold (float): ç™¾åˆ†ä½æ•°é˜ˆå€¼ï¼ˆå·²ç¦ç”¨ï¼Œä¿ç•™å‚æ•°å…¼å®¹æ€§ï¼‰
          save_csv (bool): æ˜¯å¦ä¿å­˜åŒ¹é…æ•°æ®åˆ°CSVæ–‡ä»¶ï¼Œé»˜è®¤True
      """
      print(f"\nLoading ground truth from: {ground_filename}")
      print(f"Loading estimated data from: {data_filename}")
      print(f"Analysis mode: {'Weighted residuals' if use_weighted else 'Raw residuals'}")
+     print("Note: Outlier filtering is disabled, using all original data.")
  
      try:
```

---

ç°åœ¨è®©æˆ‘æ›´æ–°å‘½ä»¤è¡Œå‚æ•°çš„é»˜è®¤å€¼å’Œè¯´æ˜ï¼š

---

Read file: evaluate/imu_residual/residual_correlation_analyzer.py

---

æˆ‘éœ€è¦æ›´æ–°å‘½ä»¤è¡Œå‚æ•°çš„é»˜è®¤å€¼ï¼š

---

```diff
      parser.add_argument("--use_raw", action="store_true", 
                          help="ä½¿ç”¨åŸå§‹æ®‹å·®è¿›è¡Œåˆ†æ")
-     parser.add_argument("--filter_method", type=str, default="iqr", 
+     parser.add_argument("--filter_method", type=str, default="none", 
                          choices=['iqr', 'percentile', 'zscore', 'none'],
-                         help="å¼‚å¸¸å€¼è¿‡æ»¤æ–¹æ³•: iqr(å››åˆ†ä½æ•°), percentile(ç™¾åˆ†ä½æ•°), zscore(Zåˆ†æ•°), none(ä¸è¿‡æ»¤)")
+                         help="å¼‚å¸¸å€¼è¿‡æ»¤æ–¹æ³•ï¼ˆå·²ç¦ç”¨ï¼Œä¿ç•™å…¼å®¹æ€§ï¼‰: none(ä¸è¿‡æ»¤, é»˜è®¤)")
      parser.add_argument("--percentile_threshold", type=float, default=95.0,
-                         help="ç™¾åˆ†ä½æ•°é˜ˆå€¼ (ä»…å½“filter_method='percentile'æ—¶ä½¿ç”¨)")
+                         help="ç™¾åˆ†ä½æ•°é˜ˆå€¼ï¼ˆå·²ç¦ç”¨ï¼Œä¿ç•™å…¼å®¹æ€§ï¼‰")
      parser.add_argument("--save_csv", action="store_true", default=True,
                          help="ä¿å­˜åŒ¹é…æ•°æ®åˆ°CSVæ–‡ä»¶ï¼ˆæ¨èï¼‰")
```

---

ç°åœ¨è®©æˆ‘æµ‹è¯•ä¸€ä¸‹ä¿®æ”¹æ˜¯å¦æ­£ç¡®å·¥ä½œï¼š

---

```bash
python3 residual_correlation_analyzer.py --help | head -20
```

---

## ä¿®æ”¹å®Œæˆï¼

æˆ‘å·²ç»æˆåŠŸä¿®æ”¹äº†ä»£ç ï¼Œç¦ç”¨äº†å¼‚å¸¸å€¼è¿‡æ»¤åŠŸèƒ½ï¼Œç°åœ¨ç¨‹åºå°†ä½¿ç”¨æ‰€æœ‰åŸå§‹æ•°æ®è¿›è¡Œåˆ†æã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„ä¿®æ”¹å†…å®¹ï¼š

### 1. **å®Œå…¨ç¦ç”¨å¼‚å¸¸å€¼è¿‡æ»¤**
```python
# è·³è¿‡å¼‚å¸¸å€¼è¿‡æ»¤ï¼Œç›´æ¥ä½¿ç”¨æ‰€æœ‰åŸå§‹æ•°æ®
print("Using all original data without outlier filtering.")
analysis_df_filtered = analysis_df
```

### 2. **æ›´æ–°å‡½æ•°å‚æ•°è¯´æ˜**
- å°†`filter_method`é»˜è®¤å€¼æ”¹ä¸º`'none'`
- æ›´æ–°å‚æ•°è¯´æ˜ï¼Œæ ‡æ˜å¼‚å¸¸å€¼è¿‡æ»¤å·²ç¦ç”¨
- æ·»åŠ äº†è¯´æ˜ä¿¡æ¯ï¼š"Note: Outlier filtering is disabled, using all original data."

### 3. **æ›´æ–°å‘½ä»¤è¡Œå‚æ•°**
```python
parser.add_argument("--filter_method", type=str, default="none", 
                    choices=['iqr', 'percentile', 'zscore', 'none'],
                    help="å¼‚å¸¸å€¼è¿‡æ»¤æ–¹æ³•ï¼ˆå·²ç¦ç”¨ï¼Œä¿ç•™å…¼å®¹æ€§ï¼‰: none(ä¸è¿‡æ»¤, é»˜è®¤)")
parser.add_argument("--percentile_threshold", type=float, default=95.0,
                    help="ç™¾åˆ†ä½æ•°é˜ˆå€¼ï¼ˆå·²ç¦ç”¨ï¼Œä¿ç•™å…¼å®¹æ€§ï¼‰")
```

### 4. **ä¿®æ”¹æ•ˆæœ**

**ä¿®æ”¹å‰**ï¼š
- é»˜è®¤ä½¿ç”¨IQRæ–¹æ³•è¿‡æ»¤å¼‚å¸¸å€¼
- å¯èƒ½ä¼šç§»é™¤éƒ¨åˆ†æ•°æ®ç‚¹
- éœ€è¦æ‰‹åŠ¨æŒ‡å®š`--filter_method=none`æ¥è·³è¿‡è¿‡æ»¤

**ä¿®æ”¹å**ï¼š
- å®Œå…¨è·³è¿‡å¼‚å¸¸å€¼è¿‡æ»¤æ­¥éª¤
- ä½¿ç”¨æ‰€æœ‰åŸå§‹æ•°æ®è¿›è¡Œåˆ†æ
- ä¿ç•™æ›´å®Œæ•´çš„æ•°æ®é›†
- é¿å…å› è¿‡æ»¤å¯¼è‡´çš„æ•°æ®ä¸¢å¤±

### 5. **å¥½å¤„**

1. **æ•°æ®å®Œæ•´æ€§**ï¼šä¿ç•™æ‰€æœ‰åŸå§‹æ•°æ®ç‚¹ï¼Œä¸ä¸¢å¤±ä»»ä½•ä¿¡æ¯
2. **çœŸå®æ€§**ï¼šåˆ†æç»“æœæ›´èƒ½åæ˜ å®é™…ç³»ç»Ÿçš„æ€§èƒ½
3. **ç®€åŒ–æµç¨‹**ï¼šå»é™¤äº†å¤æ‚çš„å¼‚å¸¸å€¼æ£€æµ‹æ­¥éª¤
4. **ä¸€è‡´æ€§**ï¼šæ‰€æœ‰åˆ†æéƒ½åŸºäºç›¸åŒçš„å®Œæ•´æ•°æ®é›†

ç°åœ¨ç¨‹åºå°†ç›´æ¥ä½¿ç”¨æ‰€æœ‰åŒ¹é…çš„åŸå§‹æ•°æ®è¿›è¡Œç›¸å…³æ€§åˆ†æï¼Œç¡®ä¿åˆ†æç»“æœçš„å®Œæ•´æ€§å’ŒçœŸå®æ€§ï¼

---

_**User**_

åªè¿‡æ»¤è¾¹ç¼˜åŒ–æ®‹å·®çš„å¼‚å¸¸å€¼

---

_**Assistant**_

æˆ‘æ¥ä¿®æ”¹ä»£ç ï¼Œåªå¯¹è¾¹ç¼˜åŒ–æ®‹å·®è¿›è¡Œå¼‚å¸¸å€¼è¿‡æ»¤ï¼Œå…¶ä»–æ®‹å·®ä¿æŒåŸå§‹æ•°æ®ï¼š

---

```diff
          return
  
-     # è·³è¿‡å¼‚å¸¸å€¼è¿‡æ»¤ï¼Œç›´æ¥ä½¿ç”¨æ‰€æœ‰åŸå§‹æ•°æ®
-     print("Using all original data without outlier filtering.")
-     analysis_df_filtered = analysis_df
+     # åªå¯¹è¾¹ç¼˜åŒ–æ®‹å·®è¿›è¡Œå¼‚å¸¸å€¼è¿‡æ»¤
+     print("Filtering outliers only for marginalization residuals, keeping other residuals unchanged.")
+     analysis_df_filtered = analysis_df.copy()
+     
+     # è¯†åˆ«è¾¹ç¼˜åŒ–æ®‹å·®åˆ—
+     marg_residual_cols = []
+     for col in available_residuals.keys():
+         if 'marg' in col.lower():
+             marg_residual_cols.append(col)
+     
+     if marg_residual_cols:
+         print(f"Found marginalization residual columns: {marg_residual_cols}")
+         
+         # åªå¯¹è¾¹ç¼˜åŒ–æ®‹å·®è¿›è¡Œå¼‚å¸¸å€¼è¿‡æ»¤
+         for marg_col in marg_residual_cols:
+             if marg_col in analysis_df_filtered.columns:
+                 series = analysis_df_filtered[marg_col]
+                 initial_count = len(series)
+                 
+                 # ä½¿ç”¨IQRæ–¹æ³•è¿‡æ»¤è¾¹ç¼˜åŒ–æ®‹å·®çš„å¼‚å¸¸å€¼
+                 Q1 = series.quantile(0.25)
+                 Q3 = series.quantile(0.75)
+                 IQR = Q3 - Q1
+                 multiplier = 1.5  # æ ‡å‡†IQRå€æ•°
+                 
+                 lower_bound = Q1 - multiplier * IQR
+                 upper_bound = Q3 + multiplier * IQR
+                 
+                 # åˆ›å»ºè¿‡æ»¤æ©ç 
+                 mask = (series >= lower_bound) & (series <= upper_bound)
+                 outliers_mask = ~mask
+                 
+                 # åº”ç”¨è¿‡æ»¤
+                 analysis_df_filtered = analysis_df_filtered[mask]
+                 
+                 # ç»Ÿè®¡è¿‡æ»¤ä¿¡æ¯
+                 final_count = len(analysis_df_filtered)
+                 removed_count = initial_count - final_count
+                 
+                 if removed_count > 0:
+                     outlier_values = series[outliers_mask]
+                     print(f"  {available_residuals[marg_col]:30}: removed {removed_count:4d} outliers (max: {outlier_values.max():.6f})")
+                 else:
+                     print(f"  {available_residuals[marg_col]:30}: removed {removed_count:4d} outliers")
+         
+         total_removed = len(analysis_df) - len(analysis_df_filtered)
+         print(f"\nMarginalization residual outlier filtering summary:")
+         print(f"  Initial data points: {len(analysis_df)}")
+         print(f"  Final data points: {len(analysis_df_filtered)}")
+         print(f"  Total removed: {total_removed} ({total_removed/len(analysis_df)*100:.1f}%)")
+         
+     else:
+         print("No marginalization residual columns found, using all original data.")
+     
+     if analysis_df_filtered.empty:
+         print("No data left after marginalization residual filtering.")
+         return
  
      # æ·»åŠ å¼€æ–¹åçš„æ€»æ®‹å·®åˆ—ç”¨äºç›¸å…³æ€§åˆ†æ
```

---

ç°åœ¨æˆ‘éœ€è¦æ›´æ–°å‡½æ•°å‚æ•°å’Œè¯´æ˜ï¼Œä½¿å…¶æ›´å‡†ç¡®åœ°åæ˜ æ–°çš„è¿‡æ»¤ç­–ç•¥ï¼š

---

```diff
  
  
- def analyze_residual_correlation(ground_filename, data_filename, t_name="analysis", label="", output_dir=".", use_weighted=True, filter_method='none', percentile_threshold=95, save_csv=True):
+ def analyze_residual_correlation(ground_filename, data_filename, t_name="analysis", label="", output_dir=".", use_weighted=True, filter_method='iqr', percentile_threshold=95, save_csv=True):
      """
      åˆ†æå¹¶ç»˜åˆ¶æ€»æ®‹å·®ä¸å››ç§æ®‹å·®çš„å…³ç³»ï¼Œè®¡ç®—ç›¸å…³æ€§ã€‚
```

```diff
          output_dir (str): ä¿å­˜å›¾ç‰‡çš„ç›®å½•
          use_weighted (bool): æ˜¯å¦ä½¿ç”¨åŠ æƒæ®‹å·®è¿›è¡Œåˆ†æï¼Œé»˜è®¤True
-         filter_method (str): å¼‚å¸¸å€¼è¿‡æ»¤æ–¹æ³•ï¼ˆå·²ç¦ç”¨ï¼Œä¿ç•™å‚æ•°å…¼å®¹æ€§ï¼‰
-         percentile_threshold (float): ç™¾åˆ†ä½æ•°é˜ˆå€¼ï¼ˆå·²ç¦ç”¨ï¼Œä¿ç•™å‚æ•°å…¼å®¹æ€§ï¼‰
+         filter_method (str): å¼‚å¸¸å€¼è¿‡æ»¤æ–¹æ³•ï¼ˆä»…åº”ç”¨äºè¾¹ç¼˜åŒ–æ®‹å·®ï¼‰
+         percentile_threshold (float): ç™¾åˆ†ä½æ•°é˜ˆå€¼ï¼ˆä»…åº”ç”¨äºè¾¹ç¼˜åŒ–æ®‹å·®ï¼‰
          save_csv (bool): æ˜¯å¦ä¿å­˜åŒ¹é…æ•°æ®åˆ°CSVæ–‡ä»¶ï¼Œé»˜è®¤True
      """
      print(f"\nLoading ground truth from: {ground_filename}")
      print(f"Loading estimated data from: {data_filename}")
      print(f"Analysis mode: {'Weighted residuals' if use_weighted else 'Raw residuals'}")
-     print("Note: Outlier filtering is disabled, using all original data.")
+     print("Note: Outlier filtering is applied only to marginalization residuals.")
  
      try:
```

---

ç°åœ¨æˆ‘è¿˜éœ€è¦æ›´æ–°å‘½ä»¤è¡Œå‚æ•°çš„é»˜è®¤å€¼å’Œå¸®åŠ©æ–‡æœ¬ï¼š

---

```diff
      parser.add_argument("--use_raw", action="store_true", 
                          help="ä½¿ç”¨åŸå§‹æ®‹å·®è¿›è¡Œåˆ†æ")
-     parser.add_argument("--filter_method", type=str, default="none", 
+     parser.add_argument("--filter_method", type=str, default="iqr", 
                          choices=['iqr', 'percentile', 'zscore', 'none'],
-                         help="å¼‚å¸¸å€¼è¿‡æ»¤æ–¹æ³•ï¼ˆå·²ç¦ç”¨ï¼Œä¿ç•™å…¼å®¹æ€§ï¼‰: none(ä¸è¿‡æ»¤, é»˜è®¤)")
+                         help="å¼‚å¸¸å€¼è¿‡æ»¤æ–¹æ³•ï¼ˆä»…åº”ç”¨äºè¾¹ç¼˜åŒ–æ®‹å·®ï¼‰: iqr(å››åˆ†ä½æ•°, é»˜è®¤), percentile(ç™¾åˆ†ä½æ•°), zscore(Zåˆ†æ•°), none(ä¸è¿‡æ»¤)")
      parser.add_argument("--percentile_threshold", type=float, default=95.0,
-                         help="ç™¾åˆ†ä½æ•°é˜ˆå€¼ï¼ˆå·²ç¦ç”¨ï¼Œä¿ç•™å…¼å®¹æ€§ï¼‰")
+                         help="ç™¾åˆ†ä½æ•°é˜ˆå€¼ï¼ˆä»…åº”ç”¨äºè¾¹ç¼˜åŒ–æ®‹å·®ï¼Œå½“filter_method='percentile'æ—¶ä½¿ç”¨ï¼‰")
      parser.add_argument("--save_csv", action="store_true", default=True,
                          help="ä¿å­˜åŒ¹é…æ•°æ®åˆ°CSVæ–‡ä»¶ï¼ˆæ¨èï¼‰")
```

---

ç°åœ¨æˆ‘éœ€è¦å®Œå–„è¿‡æ»¤é€»è¾‘ï¼Œæ”¯æŒä¸åŒçš„è¿‡æ»¤æ–¹æ³•ï¼š

---

```diff
                  initial_count = len(series)
                  
+                 if filter_method.lower() == 'none':
+                     print(f"  {available_residuals[marg_col]:30}: no filtering applied")
+                     continue
+                 
+                 # æ ¹æ®ä¸åŒæ–¹æ³•è¿›è¡Œè¿‡æ»¤
+                 if filter_method == 'iqr':
                      # ä½¿ç”¨IQRæ–¹æ³•è¿‡æ»¤è¾¹ç¼˜åŒ–æ®‹å·®çš„å¼‚å¸¸å€¼
                      Q1 = series.quantile(0.25)
```

```diff
                      # åˆ›å»ºè¿‡æ»¤æ©ç 
                      mask = (series >= lower_bound) & (series <= upper_bound)
+                     
+                 elif filter_method == 'percentile':
+                     # ä½¿ç”¨ç™¾åˆ†ä½æ•°æ–¹æ³•
+                     threshold = series.quantile(percentile_threshold / 100)
+                     mask = series <= threshold
+                     
+                 elif filter_method == 'zscore':
+                     # ä½¿ç”¨Z-scoreæ–¹æ³•
+                     if series.std() > 0:  # é¿å…é™¤é›¶é”™è¯¯
+                         z_scores = np.abs((series - series.mean()) / series.std())
+                         threshold = 3.0  # æ ‡å‡†3Ïƒè§„åˆ™
+                         mask = z_scores < threshold
+                     else:
+                         mask = pd.Series([True] * len(series), index=series.index)
+                 
                  outliers_mask = ~mask
                  
```

```diff
                  if removed_count > 0:
                      outlier_values = series[outliers_mask]
-                     print(f"  {available_residuals[marg_col]:30}: removed {removed_count:4d} outliers (max: {outlier_values.max():.6f})")
+                     print(f"  {available_residuals[marg_col]:30}: removed {removed_count:4d} outliers (max: {outlier_values.max():.6f}, method: {filter_method})")
                  else:
-                     print(f"  {available_residuals[marg_col]:30}: removed {removed_count:4d} outliers")
+                     print(f"  {available_residuals[marg_col]:30}: removed {removed_count:4d} outliers (method: {filter_method})")
          
          total_removed = len(analysis_df) - len(analysis_df_filtered)
```

---

ç°åœ¨è®©æˆ‘åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¥éªŒè¯è¾¹ç¼˜åŒ–æ®‹å·®è¯†åˆ«é€»è¾‘ï¼š

---

Model provided invalid arguments to terminal tool.

---

Cancelled

---



---

